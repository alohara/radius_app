/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
(function(e,t){function H(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function j(e){var t=B[e]={};return w.each(e.match(S)||[],function(e,n){t[n]=!0}),t}function q(e,n,r,i){if(!w.acceptData(e))return;var s,o,u=w.expando,a=e.nodeType,f=a?w.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===t&&typeof n=="string")return;l||(a?l=e[u]=c.pop()||w.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:w.noop});if(typeof n=="object"||typeof n=="function")i?f[l]=w.extend(f[l],n):f[l].data=w.extend(f[l].data,n);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[w.camelCase(n)]=r),typeof n=="string"?(s=o[n],s==null&&(s=o[w.camelCase(n)])):s=o,s}function R(e,t,n){if(!w.acceptData(e))return;var r,i,s=e.nodeType,o=s?w.cache:e,u=s?e[w.expando]:w.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in r?t=[t]:(t=w.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!z(r):!w.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!z(o[u]))return}s?w.cleanData([e],!0):w.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function U(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else r=t}return r}function z(e){var t;for(t in e){if(t==="data"&&w.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ot(){try{return o.activeElement}catch(e){}}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(ut.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return w.nodeName(e,"table")&&w.nodeName(t.nodeType===1?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _t(e){return e.type=(w.find.attr(e,"type")!==null)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!w.hasData(e))return;var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)w.event.add(t,n,u[n][r])}o.data&&(o.data=w.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||w.nodeName(s,n)?u.push(s):w.merge(u,jt(s,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,w.css(e,"display")==="none"||!w.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=w._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=w._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=w.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=w.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=w.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=w.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=w.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=w.support.boxSizing&&w.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=o,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(w.isArray(t))w.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&w.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,w.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&w.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=w.now()}function Zn(e,t,n){var r,i=(Gn[t]||[]).concat(Gn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function er(e,t,n){var r,i,s=0,o=Qn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return w.map(l,Zn,f),w.isFunction(f.opts.start)&&f.opts.start.call(e,f),w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(n in e){r=w.camelCase(n),i=t[r],s=e[n],w.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=w.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function nr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&nn(e),p=w._data(e,"fxshow");n.queue||(u=w._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,w.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],w.css(e,"display")==="inline"&&w.css(e,"float")==="none"&&(!w.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?c.display="inline-block":c.zoom=1)),n.overflow&&(c.overflow="hidden",w.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t){i=t[r];if($n.exec(i)){delete t[r],s=s||i==="toggle";if(i===(h?"hide":"show"))continue;l[r]=p&&p[r]||w.style(e,r)}}if(!w.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=w._data(e,"fxshow",{}),s&&(p.hidden=!h),h?w(e).show():f.done(function(){w(e).hide()}),f.done(function(){var t;w._removeData(e,"fxshow");for(t in l)w.style(e,t,l[t])});for(r in l)o=Zn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return w.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.location,o=e.document,u=o.documentElement,a=e.jQuery,f=e.$,l={},c=[],h="1.10.2",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,r)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){if(o.addEventListener||e.type==="load"||o.readyState==="complete")P(),w.ready()},P=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(o.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=T.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0));if(N.test(i[1])&&w.isPlainObject(n))for(i in n)w.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}s=o.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=o,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!w.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=e&&w.isArray(e)?e:[]):o=e&&w.isPlainObject(e)?e:{},u[i]=w.extend(l,o,r)):r!==t&&(u[i]=r)}return u},w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=f),t&&e.jQuery===w&&(e.jQuery=a),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?--w.readyWait:w.isReady)return;if(!o.body)return setTimeout(w.ready);w.isReady=!0;if(e!==!0&&--w.readyWait>0)return;n.resolveWith(o,[w]),w.fn.trigger&&w(o).trigger("ready").off("ready")},isFunction:function(e){return w.type(e)==="function"},isArray:Array.isArray||function(e){return w.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||w.type(e)!=="object"||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(w.support.ownLast)for(n in e)return y.call(e,n);for(n in e);return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||o;var r=N.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=w.trim(t);if(t&&C.test(t.replace(L,"@").replace(A,"]").replace(k,"")))return(new Function("return "+t))()}w.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&w.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(H(Object(e))?w.merge(n,typeof e=="string"?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),w.isFunction(e)?(r=v.call(arguments,2),i=function(){return e.apply(n||this,r.concat(v.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(w.type(r)==="object"){s=!0;for(a in r)w.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,w.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),w.ready.promise=function(t){if(!n){n=w.Deferred();if(o.readyState==="complete")setTimeout(w.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{o.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var r=!1;try{r=e.frameElement==null&&o.documentElement}catch(i){}r&&r.doScroll&&function s(){if(!w.isReady){try{r.doScroll("left")}catch(e){return setTimeout(s,50)}P(),w.ready()}}()}}return n.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),r=w(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,w;(t?t.ownerDocument||t:E)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((a=t.nodeType)!==1&&a!==9)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){m=p=b,g=t,w=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=mt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+gt(l[f]);g=$.test(e)&&t.parentNode||t,w=l.join(",")}if(w)try{return H.apply(n,g.querySelectorAll(w)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function at(e){return e[b]=!0,e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)s.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){if(!n||(r=X.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(i=[]);n=!1;if(r=V.exec(u))n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length);for(o in s.filter)(r=G[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=x++;return t.first?function(t,n,i){while(t=t[r])if(t.nodeType===1||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[r])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else{f=l[r]=[c],f[1]=e(t,n,u)||i;if(f[1]===!0)return!0}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Et(e,t,n,r,i,s){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++)if(n=s.relative[e[a].type])h=[yt(bt(h),n)];else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++)if(s.relative[e[r].type])break;return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(W,"$1"),n,a<r&&St(e.slice(a,r)),r<i&&St(e=e.slice(r)),r<i&&gt(e))}h.push(n)}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=x==null?1:Math.random()||.1;E&&(f=a!==h&&a,i=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=D.call(c));g=wt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ot(e,t[r],n);return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0];if(!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type])break;if(c=s.find[l])if(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t)){u.splice(o,1),e=i.length&&gt(u);if(!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=!1,L=function(e,t){return e===t?(k=!0,0):0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=new RegExp(I+"*[+~]"),J=new RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=new RegExp(z),Q=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{H.apply(_=B.call(E.childNodes),E.childNodes),_[E.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},r=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:E,n=t.defaultView;if(t===h||t.nodeType!==9||!t.documentElement)return h;h=t,p=t.documentElement,d=!u(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){c()}),r.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ft(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ft(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),r.getById=ft(function(e){return p.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d)return t.getElementsByClassName(e)},m=[],v=[];if(r.qsa=Y.test(t.querySelectorAll))ft(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),ft(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ft(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},L=p.compareDocumentPosition?function(e,n){if(e===n)return k=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i)return i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||y(E,e)?-1:n===t||y(E,n)?1:l?j.call(l,e)-j.call(l,n):0:i&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n)return k=!0,0;if(!s||!o)return e===t?-1:n===t?1:s?-1:o?1:l?j.call(l,e)-j.call(l,n):0;if(s===o)return ct(e,n);r=e;while(r=r.parentNode)u.unshift(r);r=n;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?ct(u[i],a[i]):u[i]===E?-1:a[i]===E?1:0},t},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L);if(k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=o(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue;return n},s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes
[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[n<0?n+t:n]}),even:dt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:dt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=ht(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=pt(n);vt.prototype=s.filters=s.pseudos,s.setFilters=new vt,a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=mt(e)),n=t.length;while(n--)s=St(t[n]),s[b]?r.push(s):i.push(s);s=C(e,xt(i,r))}return s},r.sortStable=b.split("").sort(L).join("")===b,r.detectDuplicates=k,c(),r.sortDetached=ft(function(e){return e.compareDocumentPosition(h.createElement("div"))&1}),ft(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||lt("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!r.attributes||!ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&lt("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ft(function(e){return e.getAttribute("disabled")==null})||lt(F,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),w.find=ot,w.expr=ot.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ot.uniqueSort,w.text=ot.getText,w.isXMLDoc=ot.isXML,w.contains=ot.contains}(e);var B={};w.Callbacks=function(e){e=typeof e=="string"?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?w.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return a&&(!i||f)&&(t=t||[],t=[e,t.slice?t.slice():t],n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=r!==1||e&&w.isFunction(e.promise)?r:0,s=i===1?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?v.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),w.support=function(t){var n,r,s,u,a,f,l,c,h,p=o.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0];if(!r||!r.style||!n.length)return t;u=o.createElement("select"),f=u.appendChild(o.createElement("option")),s=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute=p.className!=="t",t.leadingWhitespace=p.firstChild.nodeType===3,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized=r.getAttribute("href")==="/a",t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!s.value,t.optSelected=f.selected,t.enctype=!!o.createElement("form").enctype,t.html5Clone=o.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}s=o.createElement("input"),s.setAttribute("value",""),t.input=s.getAttribute("value")==="",s.value="t",s.setAttribute("type","radio"),t.radioValue=s.value==="t",s.setAttribute("checked","t"),s.setAttribute("name","t"),a=o.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box";for(h in w(t))break;return t.ownLast=h!=="0",w(function(){var n,r,s,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];if(!a)return;n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=p.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(a,a.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=p.offsetWidth===4}),e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(o.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=s=r=null}),n=u=a=f=r=s=null,t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length){s=w.data(u);if(u.nodeType===1&&!w._data(u,"parsedAttrs")){r=u.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")===0&&(i=w.camelCase(i.slice(5)),U(u,i,s[i]));w._data(u,"parsedAttrs",!0)}}return s}return typeof e=="object"?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):u?U(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=w._data(e,t),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=w._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var W,X,V=/[\t\r\n\f]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,G=w.support.getSetAttribute,Y=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=w.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,s=w(this),o=e.match(S)||[];while(t=o[r++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else if(n===i||n==="boolean")this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace($,""):n==null?"":n);return}return i=w.isFunction(e),this.each(function(n){var s;if(this.nodeType!==1)return;i?s=e.call(this,n,w(this).val()):s=e,s==null?s="":typeof s=="number"?s+="":w.isArray(s)&&(s=w.map(s,function(e){return e==null?"":e+""})),r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return t!=null?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(w.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){t=w(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=w.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=w.inArray(w(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute===i)return w.prop(e,n,r);if(u!==1||!w.isXMLDoc(e))n=n.toLowerCase(),s=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:W);if(r===t)return s&&"get"in s&&(o=s.get(e,n))!==null?o:(o=w.find.attr(e,n),o==null?t:o);if(r!==null)return s&&"set"in s&&(o=s.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r);w.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&e.nodeType===1)while(n=s[i++])r=w.propFix[n]||n,w.expr.match.bool.test(n)?Y&&G||!Q.test(n)?e[r]=!1:e[w.camelCase("default-"+n)]=e[r]=!1:w.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&t==="radio"&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!w.isXMLDoc(e),o&&(n=w.propFix[n]||n,s=w.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?w.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var r=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Y&&G||!Q.test(n)?function(e,n,i){var s=w.expr.attrHandle[n],o=i?t:(w.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return w.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}});if(!Y||!G)w.attrHooks.value={set:function(e,t,n){if(!w.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}};G||(W={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.value!==""?i.value:null},w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:W.set},w.attrHooks.contenteditable={set:function(e,t,n){W.set(e,t===""?!1:t,n)}},w.each(["width","height"],function(e,t){w.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t))return e.checked=w.inArray(w(e).val(),t)>=0}},w.support.checkOn||(w.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=w.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof w===i||!!e&&w.event.triggered===e.type?t:w.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(S)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort();if(!v)continue;c=w.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=w.event.special[v]||{},p=w.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(!m||!(l=m.events))return;t=(t||"").match(S)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)w.event.remove(e,p+t[f],n,r,!0);continue}c=w.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&w.removeEvent(e,p,m.handle),delete l[p])}w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||o;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+w.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[w.expando]?n:new w.Event(v,typeof n=="object"&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:w.makeArray(r,[n]),c=w.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!s&&!c.noBubble&&!w.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||o)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&w.acceptData(i)&&a&&i[v]&&!w.isWindow(i)){h=i[a],h&&(i[a]=null),w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=w.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new w.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||o),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||o,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ot()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!w.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;r&&!w._data(r,"submitBubbles")&&(w.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),w._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),w.support.changeBubbles||(w.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")w.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)});return!1}w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){n++===0&&o.addEventListener(e,r,!0)},teardown:function(){--n===0&&o.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return w().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){w.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}});var ut=/^.[^:#\[\.,]*$/,at=/^(?:parents|prev(?:Until|All))/,ft=w.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(t=0;t<i;t++)w.find(e,r[t],n);return n=this.pushStack(i>1?w.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e||[],!0))},filter:function(e){return this.pushStack(ht(this,e||[],!1))},is:function(e){return!!ht(this,typeof e=="string"&&ft.test(e)?w(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?w(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&w.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?typeof e=="string"?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=w.filter(r,i)),this.length>1&&(lt[e]||(i=w.unique(i)),at.test(e)&&(i=i.reverse())),this.pushStack(i)}}),w.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return e.nodeType===1}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!w(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&
e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(o),Ot=At.appendChild(o.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?w.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&w.cleanData(jt(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&w.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(w.support.htmlSerialize||!mt.test(e))&&(w.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(w.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),w(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=p.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,d=e[0],v=w.isFunction(d);if(v||!(l<=1||typeof d!="string"||w.support.checkClone||!Tt.test(d)))return this.each(function(r){var i=c.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(l){a=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,a.childNodes.length===1&&(a=r);if(r){o=w.map(jt(a,"script"),_t),s=o.length;for(;f<l;f++)i=a,f!==h&&(i=w.clone(i,!0,!0),s&&w.merge(o,jt(i,"script"))),t.call(this[f],i,f);if(s){u=o[o.length-1].ownerDocument,w.map(o,Dt);for(f=0;f<s;f++)i=o[f],Nt.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(u,i)&&(i.src?w._evalUrl(i.src):w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(kt,"")))}a=r=null}}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),w(s[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);w.support.html5Clone||w.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!w.support.noCloneEvent||!w.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!w.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(w.type(s)==="object")w.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!w.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!w.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}w.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),w.support.appendChecked||w.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&w.inArray(s,r)!==-1)continue;o=w.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;(n=e[u])!=null;u++)if(t||w.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?w.event.remove(n,r):w.removeEvent(n,r,o.handle);f[s]&&(delete f[s],l?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,c.push(s))}}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+E+")(.*)$","i"),Jt=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+E+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=w.css(e,n[u],!1,s);return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){nn(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=w.camelCase(n),f=e.style;n=w.cssProps[a]||(w.cssProps[a]=tn(f,a)),u=w.cssHooks[n]||w.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!w.cssNumber[a]&&(r+="px"),!w.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);return n=w.cssProps[a]||(w.cssProps[a]=tn(e.style,a)),u=w.cssHooks[n]||w.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||w.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!w.contains(e.ownerDocument,e)&&(a=w.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):o.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(w.css(e,"display"))?w.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,w.support.boxSizing&&w.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&w.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){if(t)return w.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?w(e).position()[t]+"px":n}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&(e.style&&e.style.display||w.css(e,"display"))==="none"},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(w.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=w(this).val();return n==null?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional);if(w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,gn,yn=w.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=w.fn.load,Ln={},An={},On="*/".concat("*");try{gn=s.href}catch(Mn){gn=o.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],w.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),w.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,w.ajaxSettings),t):Pn(w.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(b===2)return;b=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,l=e>=200&&e<300||e===304,r&&(E=Hn(c,x,r)),E=Bn(c,E,x,l);if(l)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(w.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(w.etag[s]=S)),e===204||c.type==="HEAD"?T="nocontent":e===304?T="notmodified":(T=E.state,g=E.data,y=E.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--w.active||w.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?"80":"443"))===(mn[3]||(mn[1]==="http:"?"80":"443")))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=w.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(b===2)return x;a=c.global,a&&w.active++===0&&w.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&b!==2){E="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(b<2))throw T;N(-1,T)}}return x}return x.abort()},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){return w.isFunction(r)&&(s=s||i,i=r,r=t),w.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||w.expando+"_"+yn++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||w.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&w.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=w.ajaxSettings.xhr(),w.support.cors=!!qn&&"withCredentials"in qn,qn=w.support.ajax=!!qn,qn&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=w.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},w(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Jn.exec(t),s=i&&i[3]||(w.cssNumber[e]?"":"px"),o=(w.cssNumber[e]||s!=="px"&&+r)&&Jn.exec(w.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,w.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};w.Animation=w.extend(er,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),w.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=w.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(e.elem.style[w.cssProps[e.prop]]!=null||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=er(this,w.extend({},e),s);(i||w._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,t,n){var r=e&&typeof e=="object"?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};r.duration=w.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=rr.prototype.init,w.fx.tick=function(){var e,n=w.timers,r=0;Xn=w.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||w.fx.stop(),Xn=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){Vn||(Vn=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(Vn),Vn=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,w.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");r==="static"&&(e.style.position="relative");var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=(r==="absolute"||r==="fixed")&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),w.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},w.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return w.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u;while(e&&!w.nodeName(e,"html")&&w.css(e,"position")==="static")e=e.offsetParent;return e||u})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?w(o).scrollLeft():s,r?s:w(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return w.access(this,function(n,r,i){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=w:(e.jQuery=e.$=w,typeof define=="function"&&define.amd&&define("jquery",[],function(){return w}))})(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(r){var i,s,o,u,a,f,l,c;if(n.fire(r,"ajax:before")){u=r.data("cross-domain"),a=u===t?null:u,f=r.data("with-credentials")||null,l=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(r.is("form")){i=r.attr("method"),s=r.attr("action"),o=r.serializeArray();var h=r.data("ujs:submit-button");h&&(o.push(h),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(i=r.data("method"),s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(i=r.data("method")||"get",s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(i=r.data("method"),s=n.href(r),o=r.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),n.fire(r,"ajax:beforeSend",[e,i])},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:a},f&&(c.xhrFields={withCredentials:f}),s&&(c.url=s);var p=n.ajax(c);return r.trigger("ajax:send",p),p}return!1},handleMethod:function(r){var i=n.href(r),s=r.data("method"),o=r.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),r=!1,i;return t?(n.fire(e,"confirm")&&(r=n.confirm(t),i=n.fire(e,"confirm:complete",[r])),r&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val();if(!o==!r){if(s.is("input[type=radio]")&&a.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),r.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),r.delegate(n.linkClickSelector,"click.rails",function(r){var i=e(this),s=i.data("method"
),o=i.data("params");if(!n.allowAction(i))return n.stopEverything(r);i.is(n.linkDisableSelector)&&n.disableElement(i);if(i.data("remote")!==t){if((r.metaKey||r.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=n.handleRemote(i);return u===!1?n.enableElement(i):u.error(function(){n.enableElement(i)}),!1}if(i.data("method"))return n.handleMethod(i),!1}),r.delegate(n.buttonClickSelector,"click.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.delegate(n.inputChangeSelector,"change.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.delegate(n.formSubmitSelector,"submit.rails",function(r){var i=e(this),s=i.data("remote")!==t,o=n.blankInputs(i,n.requiredInputSelector),u=n.nonBlankInputs(i,n.fileInputSelector);if(!n.allowAction(i))return n.stopEverything(r);if(o&&i.attr("novalidate")==t&&n.fire(i,"ajax:aborted:required",[o]))return n.stopEverything(r);if(s){if(u){setTimeout(function(){n.disableFormElements(i)},13);var a=n.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){n.enableFormElements(i)},13),a}return n.handleRemote(i),!1}setTimeout(function(){n.disableFormElements(i)},13)}),r.delegate(n.formInputClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var i=r.attr("name"),s=i?{name:i,value:r.val()}:null;r.closest("form").data("ujs:submit-button",s)}),r.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),r.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery);var Handlebars=function(){var e=function(){"use strict";function t(e){this.string=e}var e;return t.prototype.toString=function(){return""+this.string},e=t,e}(),t=function(e){"use strict";function o(e){return r[e]||"&amp;"}function u(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function c(e){return e instanceof n?e.toString():!e&&e!==0?"":(e=""+e,s.test(e)?e.replace(i,o):e)}function h(e){return!e&&e!==0?!0:l(e)&&e.length===0?!0:!1}var t={},n=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e=="function"};f(/x/)&&(f=function(e){return typeof e=="function"&&a.call(e)==="[object Function]"});var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e=="object"?a.call(e)==="[object Array]":!1};return t.isArray=l,t.escapeExpression=c,t.isEmpty=h,t}(e),n=function(){"use strict";function n(e,n){var r;n&&n.firstLine&&(r=n.firstLine,e+=" - "+r+":"+n.firstColumn);var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++)this[t[s]]=i[t[s]];r&&(this.lineNumber=r,this.column=n.firstColumn)}var e,t=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,e=n,e}(),r=function(e,t){"use strict";function h(e,t){this.helpers=e||{},this.partials=t||{},p(this)}function p(e){e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new i("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;return f(t)&&(t=t.call(this)),t===!0?i(this):t===!1||t==null?r(this):a(t)?t.length>0?e.helpers.each(t,n):r(this):i(t)}),e.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i=0,s="",o;f(e)&&(e=e.call(this)),t.data&&(o=m(t.data));if(e&&typeof e=="object")if(a(e))for(var u=e.length;i<u;i++)o&&(o.index=i,o.first=i===0,o.last=i===e.length-1),s+=n(e[i],{data:o});else for(var l in e)e.hasOwnProperty(l)&&(o&&(o.key=l,o.index=i,o.first=i===0),s+=n(e[l],{data:o}),i++);return i===0&&(s=r(this)),s}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));if(!r.isEmpty(e))return t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)})}function v(e,t){d.log(e,t)}var n={},r=e,i=t,s="1.3.0";n.VERSION=s;var o=4;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h,h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t,n){if(l.call(e)===c){if(n||t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){l.call(e)===c?r.extend(this.partials,e):this.partials[e]=t}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];typeof console!="undefined"&&console[n]&&console[n].call(console,t)}}};n.logger=d,n.log=v;var m=function(e){var t={};return r.extend(t,e),t};return n.createFrame=m,n}(t,n),i=function(e,t,n){"use strict";function a(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function f(e,t){if(!t)throw new s("No environment passed to template");var n=function(e,n,r,i,o,u){var a=t.VM.invokePartial.apply(this,arguments);if(a!=null)return a;if(t.compile){var f={helpers:i,partials:o,data:u};return o[n]=t.compile(e,{data:u!==undefined},t),o[n](r,f)}throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:i.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=c(e,t,n):r||(r=this.programs[e]=c(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},i.extend(n,t),i.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,i){i=i||{};var s=i.partial?i:t,o,u;i.partial||(o=i.helpers,u=i.partials);var a=e.call(r,s,n,o,u,i.data);return i.partial||t.VM.checkRevision(r.compilerInfo),a}}function l(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i}function c(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function h(e,t,n,r,i,o){var u={partial:!0,helpers:r,partials:i,data:o};if(e===undefined)throw new s("The partial "+t+" could not be found");if(e instanceof Function)return e(n,u)}function p(){return""}var r={},i=e,s=t,o=n.COMPILER_REVISION,u=n.REVISION_CHANGES;return r.checkRevision=a,r.template=f,r.programWithDepth=l,r.program=c,r.invokePartial=h,r.noop=p,r}(t,n,r),s=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,s=h,s}(r,e,n,t,i),o=function(e){"use strict";function r(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var t,n=e,i={ProgramNode:function(e,t,n,s){var o,u;arguments.length===3?(s=n,n=null):arguments.length===2&&(s=t,t=null),r.call(this,s),this.type="program",this.statements=e,this.strip={},n?(u=n[0],u?(o={first_line:u.firstLine,last_line:u.lastLine,last_column:u.lastColumn,first_column:u.firstColumn},this.inverse=new i.ProgramNode(n,t,o)):this.inverse=new i.ProgramNode(n,t),this.strip.right=t.left):t&&(this.strip.left=t.right)},MustacheNode:function(e,t,n,s,o){r.call(this,o),this.type="mustache",this.strip=s;if(n!=null&&n.charAt){var u=n.charAt(3)||n.charAt(2);this.escaped=u!=="{"&&u!=="&"}else this.escaped=!!n;e instanceof i.SexprNode?this.sexpr=e:this.sexpr=new i.SexprNode(e,t),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,t,n){r.call(this,n),this.type="sexpr",this.hash=t;var i=this.id=e[0],s=this.params=e.slice(1),o=this.eligibleHelper=i.isSimple;this.isHelper=o&&(s.length||t)},PartialNode:function(e,t,n,i){r.call(this,i),this.type="partial",this.partialName=e,this.context=t,this.strip=n},BlockNode:function(e,t,i,s,o){r.call(this,o);if(e.sexpr.id.original!==s.path.original)throw new n(e.sexpr.id.original+" doesn't match "+s.path.original,this);this.type="block",this.mustache=e,this.program=t,this.inverse=i,this.strip={left:e.strip.left,right:s.strip.right},(t||i).strip.left=e.strip.right,(i||t).strip.right=s.strip.left,i&&!t&&(this.isInverse=!0)},ContentNode:function(e,t){r.call(this,t),this.type="content",this.string=e},HashNode:function(e,t){r.call(this,t),this.type="hash",this.pairs=e},IdNode:function(e,t){r.call(this,t),this.type="ID";var i="",s=[],o=0;for(var u=0,a=e.length;u<a;u++){var f=e[u].part;i+=(e[u].separator||"")+f;if(f===".."||f==="."||f==="this"){if(s.length>0)throw new n("Invalid path: "+i,this);f===".."?o++:this.isScoped=!0}else s.push(f)}this.original=i,this.parts=s,this.string=s.join("."),this.depth=o,this.isSimple=e.length===1&&!this.isScoped&&o===0,this.stringModeValue=this.string},PartialNameNode:function(e,t){r.call(this,t),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,t){r.call(this,t),this.type="DATA",this.id=e},StringNode:function(e,t){r.call(this,t),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,t){r.call(this,t),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,t){r.call(this,t),this.type="BOOLEAN",this.bool=e,this.stringModeValue=e==="true"},CommentNode:function(e,t){r.call(this,t),this.type="comment",this.comment=e}};return t=i,t}(n),u=function(){"use strict";var e,t=function(){function t(e,t){return{left:e.charAt(2)==="~",right:t.charAt(0)==="~"||t.charAt(1)==="~"}}function r(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(n,r,i,s,o,u,a){var f=u.length-1;switch(o){case 1:return new s.ProgramNode(u[f-1],this._$);case 2:return new s.ProgramNode([],this._$);case 3:this.$=new s.ProgramNode([],u[f-1],u[f],this._$);break;case 4:this.$=new s.ProgramNode(u[f-2],u[f-1],u[f],this._$);break;case 5:this.$=new s.ProgramNode(u[f-1],u[f],[],this._$);break;case 6:this.$=new s.ProgramNode(u[f],this._$);break;case 7:this.$=new s.ProgramNode([],this._$);break;case 8:this.$=new s.ProgramNode([],this._$);break;case 9:this.$=[u[f]];break;case 10:u[f-1].push(u[f]),this.$=u[f-1];break;case 11:this.$=new s.BlockNode(u[f-2],u[f-1].inverse,u[f-1],u[f],this._$);break;case 12:this.$=new s.BlockNode(u[f-2],u[f-1],u[f-1].inverse,u[f],this._$);break;case 13:this.$=u[f];break;case 14:this.$=u[f];break;case 15:this.$=new s.ContentNode(u[f],this._$);break;case 16:this.$=new s.CommentNode(u[f],this._$);break;case 17:this.$=new s.MustacheNode(u[f-1],null,u[f-2],t(u[f-2],u[f]),this._$);break;case 18:this.$=new s.MustacheNode(u[f-1],null,u[f-2],t(u[f-2],u[f]),this._$);break;case 19:this.$={path:u[f-1],strip:t(u[f-2],u[f])};break;case 20:this.$=new s.MustacheNode(u[f-1],null,u[f-2],t(u[f-2],u[f]),this._$);break;case 21:this.$=new s.MustacheNode(u[f-1],null,u[f-2],t(u[f-2],u[f]),this._$);break;case 22:this.$=new s.PartialNode(u[f-2],u[f-1],t(u[f-3],u[f]),this._$);break;case 23:this.$=t(u[f-1],u[f]);break;case 24:this.$=new s.SexprNode([u[f-2]].concat(u[f-1]),u[f],this._$);break;case 25:this.$=new s.SexprNode([u[f]],null,this._$);break;case 26:this.$=u[f];break;case 27:this.$=new s.StringNode(u[f],this._$);break;case 28:this.$=new s.IntegerNode(u[f],this._$);break;case 29:this.$=new s.BooleanNode(u[f],this._$);break;case 30:this.$=u[f];break;case 31:u[f-1].isHelper=!0,this.$=u[f-1];break;case 32:this.$=new s.HashNode(u[f],this._$);break;case 33:this.$=[u[f-2],u[f]];break;case 34:this.$=new s.PartialNameNode(u[f],this._$);break;case 35:this.$=new s.PartialNameNode(new s.StringNode(u[f],this._$),this._$);break;case 36:this.$=new s.PartialNameNode(new s.IntegerNode(u[f],this._$));break;case 37:this.$=new s.DataNode(u[f],this._$);break;case 38:this.$=new s.IdNode(u[f],this._$);break;case 39:u[f-2].push({part:u[f],separator:u[f-1]}),this.$=u[f-2];break;case 40:this.$=[{part:u[f]}];break;case 43:this.$=[];break;case 44:u[f-1].push(u[f]);break;case 47:this.$=[u[f]];break;case 48:u[f-1].push(u[f])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t,n){throw new Error(t)},parse:function(t){function v(e){r.length=r.length-2*e,i.length=i.length-e,s.length=s.length-e}function m(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var g,y,b,w,E,S,x={},T,N,C,k;for(;;){b=r[r.length-1];if(this.defaultActions[b])w=this.defaultActions[b];else{if(g===null||typeof g=="undefined")g=m();w=o[b]&&o[b][g]}if(typeof w=="undefined"||!w.length||!w[0]){var L="";if(!l){k=[];for(T in o[b])this.terminals_[T]&&T>2&&k.push("'"+this.terminals_[T]+"'");this.lexer.showPosition?L="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'":L="Parse error on line "+(a+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(L,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:k})}}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g);switch(w[0]){case 1:r.push(g),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(w[1]),g=null,y?(g=y,y=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:N=this.productions_[w[1]][1],x.$=i[i.length-N],x._$={first_line:s[s.length-(N||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(N||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(N||1)].range[0],s[s.length-1].range[1]]),S=this.performAction.call(x,u,f,a,this.yy,w[1],i,s);if(typeof S!="undefined")return S;N&&(r=r.slice(0,-1*N*2),i=i.slice(0,-1*N),s=s.slice(0,-1*N)),r.push(this.productions_[w[1]][0]),i.push(x.$),s.push(x._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r,i,s;this._more||(this.yytext="",this.match="");var o=this._currentRules();for(var u=0;u<o.length;u++){n=this._input.match(this.rules[o[u]]);if(n&&(!t||n[0].length>t[0].length)){t=n,r=u;if(!this.options.flex)break}}if(t){s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(e)return e;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.options={},e.performAction=function(t,n,r,i){function s(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}var o=i;switch(r){case 0:n.yytext.slice(-2)==="\\\\"?(s(0,1),this.begin("mu")):n.yytext.slice(-1)==="\\"?(s(0,1),this.begin("emu")):this.begin("mu");if(n.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return n.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return n.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return n.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return e.lexer=n,r.prototype=e,e.Parser=r,new r}();return e=t,e}(),a=function(e,t){"use strict";function s(e){return e.constructor===i.ProgramNode?e:(r.yy=i,r.parse(e))}var n={},r=e,i=t;return n.parser=r,n.parse=s,n}(u,o),f=function(e){"use strict";function r(){}function i(e,t,r){if(e==null||typeof e!="string"&&e.constructor!==r.AST.ProgramNode)throw new n("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i=r.parse(e),s=(new r.Compiler).compile(i,t);return(new r.JavaScriptCompiler).compile(s,t)}function s(e,t,r){function s(){var n=r.parse(e),i=(new r.Compiler).compile(n,t),s=(new r.JavaScriptCompiler).compile(i,t,undefined,!0);return r.template(s)}if(e==null||typeof e!="string"&&e.constructor!==r.AST.ProgramNode)throw new n("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i;return function(e,t){return i||(i=s()),i.call(this,e,t)}}var t={},n=e;return t.Compiler=r,r.prototype={compiler:r,disassemble:function(){var e=this.opcodes,t,n=[],r,i;for(var s=0,o=e.length;s<o;s++){t=e[s];if(t.opcode==="DECLARE")n.push("DECLARE "+t.name+"="+t.value);else{r=[];for(var u=0;u<t.args.length;u++)i=t.args[u],typeof i=="string"&&(i='"'+i.replace("\n","\\n")+'"'),r.push(i);n.push(t.opcode+" "+r.join(" "))}}return n.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var r=this.opcodes[n],i=e.opcodes[n];if(r.opcode!==i.opcode||r.args.length!==i.args.length)return!1;for(var s=0;s<r.args.length;s++)if(r.args[s]!==i.args[s])return!1}t=this.children.length;if(e.children.length!==t)return!1;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(e)},accept:function(e){var t=e.strip||{},n;return t.left&&this.opcode("strip"),n=this[e.type](e),t.right&&this.opcode("strip"),n},program:function(e){var t=e.statements;for(var n=0,r=t.length;n<r;n++)this.accept(t[n]);return this.isSimple=r===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++,r;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var i=0,s=t.depths.list.length;i<s;i++){r=t.depths.list[i];if(r<2)continue;this.addDepth(r-1)}return n},block:function(e){var t=e.mustache,n=e.program,r=e.inverse;n&&(n=this.compileProgram(n)),r&&(r=this.compileProgram(r));var i=t.sexpr,s=this.classifySexpr(i);s==="helper"?this.helperSexpr(i,n,r):s==="simple"?(this.simpleSexpr(i),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(i,n,r),this.opcode("pushProgram",n),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("pushHash");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.options.stringParams?(r.depth&&this.addDepth(r.depth),this.opcode("getContext",r.depth||0),this.opcode("pushStringParam",r.stringModeValue,r.type),r.type==="sexpr"&&this.sexpr(r)):this.accept(r),this.opcode("assignToHash",n[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,n){var r=e.id,i=r.parts[0],s=t!=null||n!=null;this.opcode("getContext",r.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",i,s)},simpleSexpr:function(e){var t=e.id;t.type==="DATA"?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,r){var i=this.setupFullMustacheParams(e,t,r),s=e.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new n("You specified knownHelpersOnly, but used the unknown helper "+s,e);this.opcode("invokeHelper",i.length,s,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);t==="simple"?this.simpleSexpr(e):t==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,r=e.parts.length;n<r;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0;if(e.id.isScoped||e.id.depth)throw new n("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");var t=e.id.parts;for(var r=0,i=t.length;r<i;r++)this.opcode("lookup",t[r])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,r=this.options;if(n&&!t){var i=e.id.parts[0];r.knownHelpers[i]?t=!0:r.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,
n.type),n.type==="sexpr"&&this.sexpr(n)):this[n.type](n)},setupFullMustacheParams:function(e,t,n){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),r}},t.precompile=i,t.compile=s,t}(n),l=function(e,t){"use strict";function u(e){this.value=e}function a(){}var n,r=e.COMPILER_REVISION,i=e.REVISION_CHANGES,s=e.log,o=t;a.prototype={nameLookup:function(e,t){var n,r;return e.indexOf("depth")===0&&(n=!0),/^[0-9]+$/.test(t)?r=e+"["+t+"]":a.isValidJavaScriptVariableName(t)?r=e+"."+t:r=e+"['"+t+"']",n?"("+e+" && "+r+")":r},compilerInfo:function(){var e=r,t=i[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},s("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var i=e.opcodes,u;this.i=0;for(var a=i.length;this.i<a;this.i++)u=i[this.i],u.opcode==="DECLARE"?this[u.name]=u.value:this[u.opcode].apply(this,u.args),u.opcode!==this.stripNext&&(this.stripNext=!1);this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o("Compile completed with content left on stack");return this.createFunctionContext(r)},preamble:function(){var e=[];if(!this.isChild){var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", "));if(!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,o=this.environment.depths.list.length;i<o;i++)r.push("depth"+this.environment.depths.list[i]);var u=this.mergeSource();this.isChild||(u=this.compilerInfo()+u);if(e)return r.push(u),Function.apply(this,r);var a="function "+(this.name||"")+"("+r.join(",")+") {\n  "+u+"}";return s("debug",a+"\n\n"),a},mergeSource:function(){var e="",t;for(var n=0,r=this.source.length;n<r;n++){var i=this.source[n];i.appendToBuffer?t?t=t+"\n    + "+i.content:t=i.content:(t&&(e+="buffer += "+t+";\n  ",t=undefined),e+=i+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),t!=="sexpr"&&(typeof e=="string"?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){e!=null?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var r=this.lastHelper=this.setupHelper(e,t,!0),i=this.nameLookup("depth"+this.lastContext,t,"context"),s="helper = "+r.name+" || "+i;r.paramsInit&&(s+=","+r.paramsInit),this.push("("+s+",helper "+"? helper.call("+r.callParams+") "+": helperMissing.call("+r.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),i=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+r+") { "+s+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+i+"; "+s+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t=this.popStack(),n,r;this.options.stringParams&&(r=this.popStack(),n=this.popStack());var i=this.hash;n&&i.contexts.push("'"+e+"': "+n),r&&i.types.push("'"+e+"': "+r),i.values.push("'"+e+"': ("+t+")")},compiler:a,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler;var u=this.matchExistingProgram(r);u==null?(this.context.programs.push(""),u=this.context.programs.length,r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context),this.context.environments[u]=r):(r.index=u,r.name="program"+u)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var r=this.context.environments[t];if(r&&r.equals(e))return t}},programExpression:function(e){this.context.aliases.self="this";if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r,i=[t.index,t.name,"data"];for(var s=0,o=n.length;s<o;s++)r=n[s],r===1?i.push("depth0"):i.push("depth"+(r-1));return(n.length===0?"self.program(":"self.programWithDepth(")+i.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new u(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=undefined),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t="",n=this.isInline(),r,i,s;if(n){var o=this.popStack(!0);if(o instanceof u)r=o.value,s=!0;else{i=!this.stackSlot;var a=i?this.incrStack():this.topStackName();t="("+this.push(a)+" = "+o+"),",r=this.topStack()}}else r=this.topStack();var f=e.call(this,r);return n?(s||this.popStack(),i&&this.stackSlot--,this.push("("+t+f+")")):(/^stack/.test(r)||(r=this.nextStack()),this.pushSource(r+" = ("+t+f+");")),r},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];r instanceof u?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof u)return n.value;if(!t){if(!this.stackSlot)throw new o("Invalid stack pop");this.stackSlot--}return n},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof u?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var r=[],i=this.setupParams(e,r,n),s=this.nameLookup("helpers",t,"helper");return{params:r,paramsInit:i,name:s,callParams:["depth0"].concat(r).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(r).join(", ")}},setupOptions:function(e,t){var n=[],r=[],i=[],s,o,u;n.push("hash:"+this.popStack()),this.options.stringParams&&(n.push("hashTypes:"+this.popStack()),n.push("hashContexts:"+this.popStack())),o=this.popStack(),u=this.popStack();if(u||o)u||(this.context.aliases.self="this",u="self.noop"),o||(this.context.aliases.self="this",o="self.noop"),n.push("inverse:"+o),n.push("fn:"+u);for(var a=0;a<e;a++)s=this.popStack(),t.push(s),this.options.stringParams&&(i.push(this.popStack()),r.push(this.popStack()));return this.options.stringParams&&(n.push("contexts:["+r.join(",")+"]"),n.push("types:["+i.join(",")+"]")),this.options.data&&n.push("data:data"),n},setupParams:function(e,t,n){var r="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+r):(t.push(r),"")}};var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),l=a.RESERVED_WORDS={};for(var c=0,h=f.length;c<h;c++)l[f[c]]=!0;return a.isValidJavaScriptVariableName=function(e){return!a.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},n=a,n}(r,n),c=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n.parser,f=n.parse,l=r.Compiler,c=r.compile,h=r.precompile,p=i,d=o.create,v=function(){var e=d();return e.compile=function(t,n){return c(t,n,e)},e.precompile=function(t,n){return h(t,n,e)},e.AST=u,e.Compiler=l,e.JavaScriptCompiler=p,e.Parser=a,e.parse=f,e};return o=v(),o.create=v,s=o,s}(s,o,a,f,l);return c}();(function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/add"]=this.SHT["feeds/add"]=Handlebars.template(function(e,t,n,r,i){function h(e,t){return"\n    your list\n  "}function p(e,t){var r="",i,s,o;r+="\n    ",i=(s=n.compare||e&&e.compare,o={hash:{},inverse:l.program(6,v,t),fn:l.program(4,d,t),data:t},s?s.call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.list_owner),i==null||i===!1?i:i.id),(i=(i=e&&e.activity,i==null||i===!1?i:i.actor),i==null||i===!1?i:i.id),"==",o):c.call(e,"compare",(i=(i=e&&e.activity,i==null||i===!1?i:i.list_owner),i==null||i===!1?i:i.id),(i=(i=e&&e.activity,i==null||i===!1?i:i.actor),i==null||i===!1?i:i.id),"==",o));if(i||i===0)r+=i;return r+="\n  ",r}function d(e,t){return"\n      list\n    "}function v(e,t){var n="",r;return n+='\n      <a href="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.list_owner),r==null||r===!1?r:r.url),typeof r===a?r.apply(e):r))+'">'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.list_owner),r==null||r===!1?r:r.display_name),typeof r===a?r.apply(e):r))+"'s</a>\n    ",n}function m(e,t){var r="",i;r+='\n    <div class="action">\n      ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:l.program(11,y,t),fn:l.program(9,g,t),data:t});if(i||i===0)r+=i;return r+="\n    </div>\n  ",r}function g(e,t){return'\n        <i class="ly-icon-check"></i>Following List\n      '}function y(e,t){var n="",r;return n+='\n        <a href="#" data-list="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.target),r==null||r===!1?r:r.to_param),typeof r===a?r.apply(e):r))+'" id="feeds-follow_list">\n          Follow List\n        </a>\n      ',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this,c=n.helperMissing;s+='<div class="icon">\n  <i class="ly-icon-list-ul"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> '+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+' </a>\n\n  added <a class="strong" href="',(u=n.object_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a> to\n\n  ",o=n["if"].call(t,(o=(o=t&&t.activity,o==null||o===!1?o:o.list_owner),o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.program(3,p,i),fn:l.program(1,h,i),data:i});if(o||o===0)s+=o;s+='\n\n  <a class="strong" href="',(u=n.target_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.target_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a>\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(8,m,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}).call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/comment"]=this.SHT["feeds/comment"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i;r+='\n    <div class="action">\n      ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:l.program(4,p,t),fn:l.program(2,h,t),data:t});if(i||i===0)r+=i;return r+="\n    </div>\n  ",r}function h(e,t){return'\n        <i class="ly-icon-check"></i>Following List\n      '}function p(e,t){var n="",r;return n+='\n        <a href="#" data-list="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.target),r==null||r===!1?r:r.to_param),typeof r===a?r.apply(e):r))+'" id="feeds-follow_list">\n          Follow List\n        </a>\n      ',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="icon">\n  <i class="ly-icon-comment"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> '+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+' </a>\n\n  commented <a class="strong" href="',(u=n.object_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+'</a>\n\n  in <a class="strong" href="',(u=n.target_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.target_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a>\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/create"]=this.SHT["feeds/create"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i;r+='\n    <div class="action">\n      ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:l.program(4,p,t),fn:l.program(2,h,t),data:t});if(i||i===0)r+=i;return r+="\n    </div>\n  ",r}function h(e,t){return'\n        <i class="ly-icon-check"></i>Following List\n      '}function p(e,t){var n="",r;return n+='\n        <a href="#" data-list="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.object),r==null||r===!1?r:r.to_param),typeof r===a?r.apply(e):r))+'" id="feeds-follow_list">\n          Follow List\n        </a>\n      ',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="icon">\n  <i class="ly-icon-plus-circle"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> '+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+' </a>\n\n  made a new list <a class="strong" href="',(u=n.object_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a>\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/embed"]=this.SHT["feeds/embed"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){return"\n    Your List \n  "}function h(e,t){var r="",i,s;return r+='\n    <a href="',(s=n.actor_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.actor_url,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+'">'+f((i=(i=(i=e&&e.activity,i==null||i===!1?i:i.actor),i==null||i===!1?i:i.display_name),typeof i===a?i.apply(e):i))+"</a>'s list\n  ",r}function p(e,t){return'\n    <!--div class="action">\n      [Share this]\n    </div-->\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="icon">\n  <i class="ly-icon-plus-circle"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n\n  ',o=n["if"].call(t,(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.is_self),{hash:{},inverse:l.program(3,h,i),fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;s+='\n\n  <a href="',(u=n.object_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+'</a>\n\n  was embedded in <a href="'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a>\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(5,p,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/follow"]=this.SHT["feeds/follow"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){var r="",i;r+="\n    ",i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_self),{hash:{},inverse:c.program(4,v,t),fn:c.program(2,d,t),data:t});if(i||i===0)r+=i;return r+="\n  ",r}function d(e,t){return"\n      <b>You</b>\n    "}function v(e,t){var r="",i,s;return r+='\n      <a href="',(s=n.object_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.object_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'"> '+l((i=(i=(i=e&&e.activity,i==null||i===!1?i:i.object),i==null||i===!1?i:i.display_name),typeof i===f?i.apply(e):i))+" </a>\n    ",r}function m(e,t){var r="",i,s;return r+='\n    / <a class="strong" href="',(s=n.object_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.object_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'"> '+l((i=(i=(i=e&&e.activity,i==null||i===!1?i:i.object),i==null||i===!1?i:i.display_name),typeof i===f?i.apply(e):i))+" </a> /\n  ",r}function g(e,t){var r="",i,s,o;r+='\n    <div class="action">\n\n      ',i=(s=n.compare||e&&e.compare,o={hash:{},inverse:c.program(15,S,t),fn:c.program(9,y,t),data:t},s?s.call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.object),i==null||i===!1?i:i["class"]),"User","==",o):h.call(e,"compare",(i=(i=e&&e.activity,i==null||i===!1?i:i.object),i==null||i===!1?i:i["class"]),"User","==",o));if(i||i===0)r+=i;return r+="\n    </div>\n  ",r}function y(e,t){var r="",i;r+="\n        ",i=n.unless.call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_self),{hash:{},inverse:c.noop,fn:c.program(10,b,t),data:t});if(i||i===0)r+=i;return r+="\n\n      ",r}function b(e,t){var r="",i,s;r+='\n          <a href="',(s=n.object_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.object_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" class=" media-object pull-left">\n            <img class="avatar size24" src="'+l((i=(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.object_image),typeof i===f?i.apply(e):i))+'" />\n          </a>\n\n          ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:c.program(13,E,t),fn:c.program(11,w,t),data:t});if(i||i===0)r+=i;return r+="\n\n        ",r}function w(e,t){var n="",r;return n+="\n            Following "+l((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.object),r==null||r===!1?r:r.display_name),typeof r===f?r.apply(e):r))+"\n          ",n}function E(e,t){var n="",r;return n+='\n            <a href="#" id="feeds-follow_user" data-user="'+l((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.object),r==null||r===!1?r:r.to_param),typeof r===f?r.apply(e):r))+'">\n              Follow '+l((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.object),r==null||r===!1?r:r.display_name),typeof r===f?r.apply(e):r))+"\n            </a>\n          ",n}function S(e,t){var r="",i;r+="\n\n        ",i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:c.program(18,T,t),fn:c.program(16,x,t),data:t});if(i||i===0)r+=i;return r+="\n\n      ",r}function x(e,t){return'\n          <i class="ly-icon-check"></i>Following List\n        '}function T(e,t){var n="",r;return n+='\n          <a href="#" data-list="'+l((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.object),r==null||r===!1?r:r.to_param),typeof r===f?r.apply(e):r))+'" id="feeds-follow_list">\n            Follow List\n          </a>\n        ',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<div class="icon">\n  <i class="ly-icon-user"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'"> '+l((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===f?o.apply(t):o))+" </a>\n\n  followed\n\n  ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:c.program(6,m,i),fn:c.program(1,p,i),data:i},u?u.call(t,(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o["class"]),"User","==",a):h.call(t,"compare",(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o["class"]),"User","==",a));if(o||o===0)s+=o;s+="\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:c.noop,fn:c.program(8,g,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+l((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===f?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/join"]=this.SHT["feeds/join"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i;r+="\n    ",i=n.unless.call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.actor),i==null||i===!1?i:i.is_self),{hash:{},inverse:l.noop,fn:l.program(2,h,t),data:t});if(i||i===0)r+=i;return r+="\n  ",r}function h(e,t){var r="",i;r+='\n      <div class="action">\n          ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:l.program(5,d,t),fn:l.program(3,p,t),data:t});if(i||i===0)r+=i;return r+="\n      </div>\n    ",r}function p(e,t){var n="",r;return n+="\n            Following "+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.actor),r==null||r===!1?r:r.display_name),typeof r===a?r.apply(e):r))+"\n          ",n}function d(e,t){var n="",r;return n+='\n            <a href="#" id="feeds-follow_user" data-user="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.actor),r==null||r===!1?r:r.to_param),typeof r===a?r.apply(e):r))+'">\n              Follow '+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.actor),r==null||r===!1?r:r.display_name),typeof r===a?r.apply(e):r))+"\n            </a>\n          ",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="icon">\n  <i class="ly-icon-plus-circle"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> '+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+" </a>\n\n  joined Listly\n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/reach"]=this.SHT["feeds/reach"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+="<!-- feed for 'reach' event -->\n\n<a href=\"",(u=n.object_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a>\n\nreached "+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"\n\n[Congratulate "+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+" | Share this]\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["feeds/vote"]=this.SHT["feeds/vote"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i;r+='\n    <div class="action">\n      ',i=n["if"].call(e,(i=(i=e&&e.activity,i==null||i===!1?i:i.follow),i==null||i===!1?i:i.is_following),{hash:{},inverse:l.program(4,p,t),fn:l.program(2,h,t),data:t});if(i||i===0)r+=i;return r+="\n    </div>\n  ",r}function h(e,t){return'\n        <i class="ly-icon-check"></i>Following List\n      '}function p(e,t){var n="",r;return n+='\n          <a href="#" data-list="'+f((r=(r=(r=e&&e.activity,r==null||r===!1?r:r.item_list),r==null||r===!1?r:r.to_param),typeof r===a?r.apply(e):r))+'" id="feeds-follow_list">\n            Follow List\n          </a>\n      ',n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;s+='<div class="icon">\n  <i class="ly-icon-check"></i>\n</div>\n\n<div class="actor">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="media-object pull-left">\n    <img class="avatar size50" src="',(u=n.actor_image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" >\n  </a>\n</div>\n\n<div class="feed">\n  <a href="',(u=n.actor_url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.actor_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> '+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.actor),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+" </a>\n\n  "+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.target),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+'\n\n   <a class="strong" href="',(u=n.object_url
)?o=u.call(t,{hash:{},data:i}):(u=t&&t.object_url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.object),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+'</a> \n\n  in  <a class="strong" href="'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.item_list),o==null||o===!1?o:o.url),typeof o===a?o.apply(t):o))+'">'+f((o=(o=(o=t&&t.activity,o==null||o===!1?o:o.item_list),o==null||o===!1?o:o.display_name),typeof o===a?o.apply(t):o))+"</a> \n\n  ",o=n["if"].call(t,(o=t&&t.activity,o==null||o===!1?o:o.is_logged_user),{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;return s+='\n</div>\n\n<div class="time">\n  '+f((o=(o=t&&t.activity,o==null||o===!1?o:o.created_at),typeof o===a?o.apply(t):o))+"\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_media"]=this.SHT["item/add_media"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){return"Supported services: Youtube, Vimeo, TED, Vine, Hulu"}function d(e,t){return"Supported services: Soundcloud, Spreaker, Audioboom, Spotify"}function v(e,t){return"Supported services: Twitter, Facebook, LinkedIn, Google Plus"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<span class="required">\n  <input type="text" class="url-textbox" data-start="true" data-type="',(u=n.mediatype)?o=u.call(t,{hash:{},data:i}):(u=t&&t.mediatype,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" required="required" placeholder="PASTE ',(u=n.mediatype)?o=u.call(t,{hash:{},data:i}):(u=t&&t.mediatype,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+' URL" name="url" value="" autofocus="" autocapitalize="off">\n</span>\n<small class="help-block">\n  ',o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i},u?u.call(t,t&&t.mediatype,"video",a):h.call(t,"ifCond",t&&t.mediatype,"video",a));if(o||o===0)s+=o;s+="\n  ",o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i},u?u.call(t,t&&t.mediatype,"audio",a):h.call(t,"ifCond",t&&t.mediatype,"audio",a));if(o||o===0)s+=o;s+="\n  ",o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:c.noop,fn:c.program(5,v,i),data:i},u?u.call(t,t&&t.mediatype,"profile",a):h.call(t,"ifCond",t&&t.mediatype,"profile",a));if(o||o===0)s+=o;return s+='\n</small>\n<div class="new_item_expand" style="display:none">\n  <div class="image-widget" data-type="single" data-upload="true" data-link="true"></div>\n  <span class="required">\n    <input type="text" class="name-textbox" required="required" placeholder="Title" size="50" name="name" value="" autocomplete="off">\n  </span>\n  <textarea class="description-textbox" placeholder="Description" name="note"></textarea>\n  <input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n</div>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_menu"]=this.SHT["item/add_menu"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){return'\n  <li data-type="text" data-template="item/add_text"><i class="ly-icon-alphabet text">Aa</i>Text</li>\n'}function f(e,t){return'\n  <li data-type="link" data-template="item/add_url"><i class="ly-icon-chain link"></i>Link</li>\n'}function l(e,t){return'\n  <li class="pro" data-type="photo" data-template="item/add_photo"><i class="ly-icon-photo photo"></i>Photo</li>\n'}function c(e,t){return'\n  <li class="pro" data-type="video" data-template="item/add_media"><i class="ly-icon-video-camera video"></i>Video</li>\n'}function h(e,t){return'\n  <li class="pro" data-type="audio" data-template="item/add_media"><i class="ly-icon-volume-down audio"></i>Audio</li>\n'}function p(e,t){return'  \n  <li class="pro" data-type="profile" data-template="item/add_media"><i class="ly-icon-user profile"></i>Profile</li>\n'}function d(e,t){return'\n  <li class="pro" data-type="place" data-template="item/add_place"><i class="ly-icon-map-marker place"></i>Place</li>\n'}function v(e,t){return'\n  <li class="pro" data-type="bulk" class="bulk"><i class="ly-icon-list-ul bulk"></i>Bulk</li>\n'}function m(e,t){return'\n  <li class="pro" data-type="csv" class="csv"><i class="ly-icon-upload csv"></i>CSV</li>\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+="<ul>\n",o=n["if"].call(t,t&&t.text,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;s+="  \n",o=n["if"].call(t,t&&t.link,{hash:{},inverse:u.noop,fn:u.program(3,f,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.photo,{hash:{},inverse:u.noop,fn:u.program(5,l,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.video,{hash:{},inverse:u.noop,fn:u.program(7,c,i),data:i});if(o||o===0)s+=o;s+="  \n",o=n["if"].call(t,t&&t.audio,{hash:{},inverse:u.noop,fn:u.program(9,h,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.profile,{hash:{},inverse:u.noop,fn:u.program(11,p,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.place,{hash:{},inverse:u.noop,fn:u.program(13,d,i),data:i});if(o||o===0)s+=o;s+="  \n",o=n["if"].call(t,t&&t.bulk,{hash:{},inverse:u.noop,fn:u.program(15,v,i),data:i});if(o||o===0)s+=o;s+="  \n",o=n["if"].call(t,t&&t.csv,{hash:{},inverse:u.noop,fn:u.program(17,m,i),data:i});if(o||o===0)s+=o;return s+='\n<div class="upgrade_to_pro clearfix" style="display:none">\nThis list does not have Pro features. If this is your list, <a href="/upgrade" target="_blank" title="Upgrade Link">consider going Pro</a>.\n</div>\n</ul>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_next"]=this.SHT["item/add_next"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var n="",r;return n+='\n  <h4>Your item was listed in <a href="/i/'+a((r=(r=e&&e.item,r==null||r===!1?r:r.id),typeof r===u?r.apply(e):r))+'" target="_blank">'+a((r=(r=(r=e&&e.item,r==null||r===!1?r:r.list),r==null||r===!1?r:r.title),typeof r===u?r.apply(e):r))+"</a></h4>\n  ",n}function c(e,t){return"\n    <h4>Your item was added to the list.</h4>\n  "}function h(e,t){return'\n    <button class="ai_another btn btn-default">Add Another</button>\n  '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="fb_message">\n  <h3>Success!</h3>\n\n  ',o=n["if"].call(t,t&&t.show_link,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+='\n  <div class="button-links">\n  <button class="ai_tweetitem btn btn-default" data-id="'+a((o=(o=t&&t.item,o==null||o===!1?o:o.id),typeof o===u?o.apply(t):o))+'" data-name="'+a((o=(o=t&&t.item,o==null||o===!1?o:o.name),typeof o===u?o.apply(t):o))+'" data-list="'+a((o=(o=(o=t&&t.item,o==null||o===!1?o:o.list),o==null||o===!1?o:o.title),typeof o===u?o.apply(t):o))+'"><i class="ly-icon-color-twitter ly-icon-twitter-square"></i> Tweet This</button>\n  <button class="ai_fbshare btn btn-default" data-id="'+a((o=(o=t&&t.item,o==null||o===!1?o:o.id),typeof o===u?o.apply(t):o))+'"><i class="ly-icon-color-facebook ly-icon-facebook-square"></i> Share on FB</a>\n  ',o=n["if"].call(t,t&&t.add_another,{hash:{},inverse:f.noop,fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;return s+='\n  <button class="ai_close btn btn-default">Close</button>\n  </div>\n</div>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_photo"]=this.SHT["item/add_photo"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="image-widget" data-type="single" data-upload="true" data-link="true"></div>\n<div class="new_item_expand" style="display:none">\n  <span class="required">\n    <input type="text" class="name-textbox" required="required" placeholder="Caption" size="50" name="name" value="" autocomplete="off"/>\n  </span>\n  <textarea class="description-textbox" placeholder="Description. Tag inline #like #this" name="note"></textarea>\n  <input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n</div>\n\n\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_place"]=this.SHT["item/add_place"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<input type="text" class="location" data-start="true" placeholder="Start Typing to find a location" size="50" name="location" value="">\n<div class="map" style="width:100%;height:300px;"></div>\n<div class="new_item_expand" style="display:none">\n  <span class="required">\n    <input type="text" class="name-textbox" required="required" placeholder="Place Name" size="50" name="name" value="">\n  </span>\n  <div class="image-widget" data-type="single" data-upload="false" data-link="false"></div>\n  <textarea class="description-textbox" placeholder="Write a note on this location" name="note"></textarea>\n  <input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_text"]=this.SHT["item/add_text"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){return'\n  <input type="text" name="url" placeholder="Optional URL" value="" autocapitalize="off">\n'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=this,l=n.helperMissing;s+='<span class="required">\n  <input type="text" required="required" placeholder="Name" size="50" name="name" value="" autocomplete="off">\n</span>\n',o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i},u?u.call(t,t&&t.mode,"update","==",a):l.call(t,"compare",t&&t.mode,"update","==",a));if(o||o===0)s+=o;return s+='\n<div class="image-widget" data-type="single" data-upload="true" data-link="true"></div>\n<textarea placeholder="Description. Tag item inline #like #this" name="note"></textarea>\n<input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/add_url"]=this.SHT["item/add_url"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<span class="required">\n  <input type="text" name="url" data-start="true" required="required" placeholder="Paste URL" value="" autofocus="" autocapitalize="off">\n</span>  \n<small class="help-block">\nAny valid link such as http://www.reddit.com/r/gaming/\n</small>\n\n<div class="new_item_expand" style="display:none">\n  <span class="required">\n    <input type="text" class="name-textbox" required="required" placeholder="Name" size="50" name="name" value="" autocomplete="off">\n  </span>\n  <div class="image-widget" data-type="multiple" data-upload="true" data-link="true"></div>\n  <textarea class="description-textbox" placeholder="Description. Tag item inline #like #this" name="note"></textarea>\n  <input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/additem"]=this.SHT["item/additem"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="item_type"></div>\n<div class="item_error" style="display:none"></div>\n<div class=\'ly-item-spinner\' style="display:none"></div>\n<input type="hidden" class="item_image" name="image"></input>\n<input type="hidden" class="item_type" name="type"></input>\n<input type="hidden" name="id"></input>\n<input type="hidden" name="list_code">\n<input type="hidden" name="location">\n\n<div class="add_menu clearfix">\n</div>\n\n<div class="add_body clearfix"></div>\n<div class="add_listpicker clearfix" style="display:none"></div>\n<div class="add_actions clearfix">\n  <button type="button" class="add_cancel btn btn-sm btn-default pull-left" style="display:none">Cancel</button>\n  <button type="button" class="add_cancel_really btn btn-sm btn-default pull-left" style="display:none">Really Cancel?</button>\n  <button type="button" class="add_save btn btn-sm btn-default pull-right" style="display:none">Save</button>\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["item/image"]=this.SHT["item/image"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="picture">\n  \n  <div class="image_toolbar">\n    <div class="image_options clearfix" style="display:none">\n      <button type="button" class="btn btn-default btn-xs skip_left"> <i class="ly-icon-chevron-left"></i></button>\n      <button type="button" class="btn btn-default btn-xs skip_right"><i class="ly-icon-chevron-right"></i></button>\n      <span class="image_counter"></span>\n    </div>\n\n    <div class="image_meta" style="display:none">\n      <span class="image_sizes"></span>&nbsp;<span class="image_optimal"></span>\n    </div>\n\n  </div>\n\n  <div class="image_ops">\n    <button type="button" class="btn btn-xs btn-default no-image" title="Remove Images" style="display:none"><i class="ly-icon-trash-o"></i></button>\n    <button type="button" class="btn btn-xs btn-default listly-link-upload" title="Image on Web"><i class="ly-icon-chain"></i></button>\n    \n    <div class="listly-file-upload" title="Upload From Computer" style="display:none">\n      <div class="fp-container btn btn-sm btn-default">\n        <input type="file" class="add_image">\n      </div>\n    </div>\n  </div>\n\n  <div class="image_array">\n    <div class="selected_image"></div>\n  </div>\n    \n  <div class="progress fp-progress" style="display:none">\n      <div class="progress-bar" role="progressbar" style="width: 10%;">\n      </div>\n  </div>\n\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["list/bulk_import"]=this.SHT["list/bulk_import"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},"<div class=\"fb_header\">\n	<h2>Bulk Add</h2>\n</div>\n\n<div class=\"fb_content\">\n	<p>Enter one item per line - plain Text, a URL or a Twitter Handle (max 50 items at a time)</p>\n    <textarea id=\"bulk_items\" required=\"required\" maxRows=3 placeholder=\"Sliced Bread\nhttp://nutella.com\n@listly\nhttp://youtube.com/watch?v=tJQ1x6DSYVo\"></textarea>\n<br/>\n    <button class=\"btn btn-sm\" id=\"bulk_submit_button\">Import</button>\n</div>\n\n<script type=\"text/javascript\">\n      $('#bulk_items').each(function(){\n\n                // Store placeholder elsewhere and blank it\n                $(this).attr('data-placeholder', $(this).attr('placeholder'));\n                $(this).attr('placeholder', '');\n\n                // On focus, if value = placeholder, blank it\n                $(this).focus(function(e){      \n                        if( $(this).val() == $(this).attr('data-placeholder') ) {\n                                $(this).val('');\n                                $(this).removeClass('placeholder');\n                        }               \n                });                     \n\n                // On blur, if value = blank, insert placeholder\n                $(this).blur(function(e){\n                        if( $(this).val() == '' ) {\n                                $(this).val($(this).attr('data-placeholder'));\n                                $(this).addClass('placeholder');\n                        }\n                });             \n\n                // Call blur method to preset element - this will insert the placeholder\n                // if the value hasn't been prepopulated\n                $(this).blur();\n        });\n</script>\n"})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["list/empty_results"]=this.SHT["list/empty_results"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){return'\n      <strong>Your List is empty. Add a few items to get started!</strong>\n      <!--<p>Install the Listly <a class="btn btn-xs" href="https://list.ly/about/bookmarklet" target="_blank"><i class="ly-icon-bookmark"></i> bookmarklet or Chrome Extension</a> to add to this list while you browse.</p>-->\n    '}function h(e,t){return"\n      <strong>No items in list.</strong>\n      <p>You can help by adding to this list!</p>\n    "}function p(e,t){return"\n      <strong>No items in view.</strong>\n      <p>Change Filter and/or Search to see more items.</p>\n    "}function d(e,t){return'\n    No items in Queue. <a class="ly-switch-list" href="#">Go to List.</a>\n    '}function v(e,t){return"\n      <strong>Queue is hidden.</strong>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=this,l=n.helperMissing;s+='<div class="ly-empty-list">\n    ',o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i},u?u.call(t,t&&t.mode,"empty_list_owner","==",a):l.call(t,"compare",t&&t.mode,"empty_list_owner","==",a));if(o||o===0)s+=o;s+="\n\n    ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(3,h,i),data:i},u?u.call(t,t&&t.mode,"empty_list_viewer","==",a):l.call(t,"compare",t&&t.mode,"empty_list_viewer","==",a));if(o||o===0)s+=o;s+="\n\n    ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(5,p,i),data:i},u?u.call(t,t&&t.mode,"filtered_list","==",a):l.call(t,"compare",t&&t.mode,"filtered_list","==",a));if(o||o===0)s+=o;s+="\n\n    ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(7,d,i),data:i},u?u.call(t,t&&t.mode,"empty_queue","==",a):l.call(t,"compare",t&&t.mode,"empty_queue","==",a));if(o||o===0)s+=o;s+="\n\n    ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:f.noop,fn:f.program(9,v,i),data:i},u?u.call(t,t&&t.mode,"hidden_queue","==",a):l.call(t,"compare",t&&t.mode,"hidden_queue","==",a));if(o||o===0)s+=o;return s+="\n\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["list/listview"]=this.SHT["list/listview"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i,s,o;r+='\n  <li class="listitem ',i=n["if"].call(e,e&&e.trending_embed,{hash:{},inverse:f.program(4,p,t),fn:f.program(2,h,t),data:t});if(i||i===0)r+=i;r+='" data-ownership="',(s=n.show_premium_button)?i=s.call(e,{hash:{},data:t}):(s=e&&e.show_premium_button,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">\n    <div class="list">\n      <div class="list-block">\n        ',i=n["if"].call(e,e&&e.premium,{hash:{},inverse:f.noop,fn:f.program(6,d,t),data:t});if(i||i===0)r+=i;r+="\n            ",i=n["if"].call(e,e&&e.show_premium_button,{hash:{},inverse:f.noop,fn:f.program(8,v,t),data:t});if(i||i===0)r+=i;r+='\n        <div class="list-image">\n          <a class="list-image-link" href="',(s=n.listly_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">\n            <img src="',(s=n.image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.image,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" onerror="Listly.defaultImage(this);" alt="',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">\n          </a>\n          ',i=n["if"].call(e,e&&e.trending_embed,{hash:{},inverse:f.noop,fn:f.program(10,m,t),data:t});if(i||i===0)r+=i;r+='\n        </div>\n        <div class="list-title title-resize"><a href="',(s=n.listly_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'</a></div>\n        <div class="list-body">\n        <div class="list-curator-img">\n          <a href="',(s=n.curator_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.curator_url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" title="',(s=n.curator_name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.curator_name,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'\'s profile">\n          	<img src="',(s=n.curator_image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.curator_image,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" alt="',(s=n.curator_name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.curator_name,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" onerror="Listly.defaultProfileImage(this);" />\n          </a>\n        </div>\n        <div class="list-stats">\n          <div title="views">'+a((s=n.numberToHuman||e&&e.numberToHuman,o={hash:{},data:t},s?s.call(e,e&&e.views,2,o):l.call(e,"numberToHuman",e&&e.views,2,o)))+' <i title="views" class="ly-icon-eye"></i></div>\n          <div title="items">',(s=n.item_count)?i=s.call(e,{hash:{},data:t}):(s=e&&e.item_count,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+' <i title="items">&#8226;&#8226;&#8226;</i></div>\n        </div>\n\n        <div class="list-fave">\n          ',i=n["if"].call(e,e&&e.is_following,{hash:{},inverse:f.program(14,y,t),fn:f.program(12,g,t),data:t});if(i||i===0)r+=i;return r+="\n        </div>\n\n        </div>\n      </div>\n\n    </div>\n\n  </li>\n",r}function h(e,t){return"yes_embed"}function p(e,t){return"no_embed"}function d(e,t){return'\n          <div class="list-premium" title="Premium List"></div>\n        '}function v(e,t){var r="",i,s;return r+='\n              <div class="button-holder">\n                <button class="btn btn-xs btn-warning premium_lists" style="display:none" data-listid="',(s=n.id)?i=s.call(e,{hash:{},data:t}):(s=e&&e.id,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" type="button" title="Premium Lists">Make This List Premium</button>\n              </div>\n            ',r}function m(e,t){var r="",i,s;return r+='\n            <a href="',(s=n.trending_embed)?i=s.call(e,{hash:{},data:t}):(s=e&&e.trending_embed,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'" class="trending-embed-link" target="_blank" style="display:none">\n              <div class="list-embed label label-info" data-toggle="tooltip" title="Embedded at ',(s=n.trending_embed)?i=s.call(e,{hash:{},data:t}):(s=e&&e.trending_embed,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"\">\n                <i class='ly-icon-embed'></i>\n              </div>\n            </a>\n          ",r}function g(e,t){var r="",i,s;return r+='\n            <a href="/list/',(s=n.list_id)?i=s.call(e,{hash:{},data:t}):(s=e&&e.list_id,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'/unfollow" rel="tooltip" title="You faved this" data-remote="true" data-followed="true">\n              <i class="ly-icon-heart followed"></i>\n            </a>\n          ',r}function y(e,t){var r="",i,s;return r+='\n            <a href="/list/',(s=n.list_id)?i=s.call(e,{hash:{},data:t}):(s=e&&e.list_id,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'/follow" rel="tooltip"  title="Fave This" data-remote="true" data-following="false">\n              <i class="ly-icon-heart"></i>\n            </a>\n          ',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this,l=n.helperMissing;o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["list/new_item"]=this.SHT["list/new_item"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+='<div class="quick-add-box media clearfix" style="display:none" id="item_',(u=n.qid)?o=u.call(t,{hash:{},data:i}):(u=t&&t.qid,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" data-qid="',(u=n.qid)?o=u.call(t,{hash:{},data:i}):(u=t&&t.qid,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'"> \n  <i class="ly-icon-trash-o remove_button"></i>\n  <div class="item_error" style="display:none"></div>\n  <div class=\'ly-item-spinner\' style="display:none"></div>\n  <input type="hidden" class="item_image" name="image"></input>\n  <span class="custom_image hidden"></span>\n  <span class="link_image hidden"></span>\n\n  <div class="item_name">\n    <input class="name-textbox" type="text" placeholder="Type text or a link and hit Enter key" size="50" name="name" value="" autocomplete="off">\n    <button type="button" class="btn btn-default btn-sm btn-secondary" id="go_item_name">Go</button>\n  </div>\n\n\n  <div class="item_details" style="display:none">\n\n    <div class="picture">\n      <div class="image_optimal" style="display:none"></div>\n      <div class="image_array">\n        <div class="selected_image"></div>\n      </div>\n      <div class="image_options clearfix" style="display:none">\n        <button type="button" class="btn btn-default btn-xs skip_left"> <i class="ly-icon-chevron-left"></i></button>\n        <button type="button" class="btn btn-default btn-xs skip_right"><i class="ly-icon-chevron-right"></i></button>\n        <div class="image_counter"></div>\n        <div class="image_sizes"></div>\n      </div>\n      <button type="button" class="btn btn-xs btn-default no-image" title="No Image"><i class="ly-icon-trash-o"></i></button>\n      <button type="button" class="btn btn-xs btn-default listly-link-upload" title="Upload via URL"><i class="ly-icon-chain"></i></button>\n      <div class="listly-file-upload" title="Upload From Computer">\n        <div class="fp-container btn btn-sm btn-default">\n          <input type="file" id="add_image_',(u=n.qid)?o=u.call(t,{hash:{},data:i}):(u=t&&t.qid,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="add_image">\n        </div>\n        <div class="progress fp-progress" style="display:none">\n            <div class="progress-bar" role="progressbar" style="width: 0;">\n            </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="media-body">\n      <div class="link_bar">\n        <input type="text" placeholder="Optional URL" class="item_link" class="span4 input-xlarge" name="url" value="" autofocus="" autocapitalize="off">\n        <button type="button" class="btn btn-default btn-sm go_button" type="button" name="url_go" title="Import link" style="display:none"><i class="ly-icon-refresh"></i></button>\n      </div>\n\n      <div class="item-description">\n        <textarea class="description-textbox" placeholder="Optional Description" name="note"></textarea>\n      </div>\n\n      <div class="tags">\n        <input type="text" placeholder="Optional Tags (e.g. travel, island)" size="50" name="tag_list" value="" autocomplete="off" class="tags-textbox">\n      </div>\n    </div>\n\n  </div>\n</div>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["list/pagination"]=this.SHT["list/pagination"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){var r="",i;r+='\n  <div class="ly-pagination">\n    ',i=n["if"].call(e,e&&e.incrementalPagination,{hash:{},inverse:f.program(5,m,t),fn:f.program(2,d,t),data:t});if(i||i===0)r+=i;return r+="\n\n  </div>\n",r}function d(e,t){var r="",i,s,o;r+="\n\n      ",i=(s=n.compare||e&&e.compare,o={hash:{},inverse:f.noop,fn:f.program(3,v,t),data:t},s?s.call(e,(i=e&&e.pagination,i==null||i===!1?i:i.pageCount),(i=e&&e.pagination,i==null||i===!1?i:i.page),"!=",o):l.call(e,"compare",(i=e&&e.pagination,i==null||i===!1?i:i.pageCount),(i=e&&e.pagination,i==null||i===!1?i:i.page),"!=",o));if(i||i===0)r+=i;return r+="\n\n    ",r}function v(e,t){return'\n        <a href="javascript:void(0)" class="ly-pagination-more btn btn-info">More</a>\n      '}function m(e,t){var r="",i,s,o;r+="\n\n      ",i=(s=n.paginate||e&&e.paginate,o={hash:{},inverse:f.noop,fn:f.program(6,g,t),data:t},s?s.call(e,e&&e.pagination,o):l.call(e,"paginate",e&&e.pagination,o));if(i||i===0)r+=i;return r+="\n\n    ",r}function g(e,t){var r="",i,s;r+='\n        <!--button type="button" class="lw-action ly-icon-angle-double-left" data-page="',(s=n.first_page)?i=s.call(e,{hash:{},data:t}):(s=e&&e.first_page,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+'" ',i=n["if"].call(e,e&&e.prev_disabled,{hash:{},inverse:f.noop,fn:f.program(7,y,t),data:t});if(i||i===0)r+=i;r+='></button-->\n        <button type="button" class="lw-action ly-icon-angle-left" data-page="',(s=n.prev_page)?i=s.call(e,{hash:{},data:t}):(s=e&&e.prev_page,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+'" ',i=n["if"].call(e,e&&e.prev_disabled,{hash:{},inverse:f.noop,fn:f.program(7,y,t),data:t});if(i||i===0)r+=i;r+='></button>\n\n        <div class="ly-page-index">\n         ',i=n["if"].call(e,e&&e.no_batch,{hash:{},inverse:f.program(11,w,t),fn:f.program(9,b,t),data:t});if(i||i===0)r+=i;r+="\n          of ",(s=n.total_items)?i=s.call(e,{hash:{},data:t}):(s=e&&e.total_items,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+'\n        </div>\n\n        <button type="button" class="lw-action ly-icon-angle-right" data-page="',(s=n.next_page)?i=s.call(e,{hash:{},data:t}):(s=e&&e.next_page,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+'" ',i=n["if"].call(e,e&&e.next_disabled,{hash:{},inverse:f.noop,fn:f.program(7,y,t),data:t});if(i||i===0)r+=i;r+='></button>\n        <!--button type="button" class="lw-action ly-icon-angle-double-right" data-page="',(s=n.last_page)?i=s.call(e,{hash:{},data:t}):(s=e&&e.last_page,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+'" ',i=n["if"].call(e,e&&e.next_disabled,{hash:{},inverse:f.noop,fn:f.program(7,y,t),data:t});if(i||i===0)r+=i;return r+="></button-->\n      ",r}function y(e,t){return"disabled"}function b(e,t){var r="",i,s;return r+="\n            ",(s=n.batch_first)?i=s.call(e,{hash:{},data:t}):(s=e&&e.batch_first,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+" \n          ",r}function w(e,t){var r="",i,s;return r+="  \n            ",(s=n.batch_first)?i=s.call(e,{hash:{},data:t}):(s=e&&e.batch_first,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+"-",(s=n.batch_last)?i=s.call(e,{hash:{},data:t}):(s=e&&e.batch_last,i=typeof s===c?s.call(e,{hash:{},data:t}):s),r+=h(i)+"\n          ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=this,l=n.helperMissing,c="function",h=this.escapeExpression;o=(u=n.if_gt||t&&t.if_gt,a={hash:{compare:1},inverse:f.noop,fn:f.program(1,p,i),data:i},u?u.call(t,(o=t&&t.pagination,o==null||o===!1?o:o.pageCount),a):l.call(t,"if_gt",(o=t&&t.pagination,o==null||o===!1?o:o.pageCount),a));if(o||o===0)s+=o;return s+="\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/curate"]=this.SHT["plugin/curate"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i,s;return r+="\n      <div class='ly-ic' data-item='",(s=n.item)?i=s.call(e,{hash:{},data:t}):(s=e&&e.item,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"'>\n        <div class='item-number'>",(s=n.index)?i=s.call(e,{hash:{},data:t}):(s=e&&e.index,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</div>\n        <p>",(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</p>\n      </div>\n    ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this,l=n.blockHelperMissing;s+="<div class='ly-curate listly-list-card cf'>\n  <div class='ly-curate-action ly-section cf'>\n    <p class='ly-snote'>You are in curation mode.  Drag and Drop to reorder.</p>\n    <button type='button' class='ly-csave'>Save</button>\n    <button type='button' class='ly-ccancel'>Cancel</button>\n  </div>\n  <div class='ly-curate-sort sortable'>\n    ",o=(o=typeof t===u?t.apply(t):t,l.call(t,o,{hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i}));if(o||o===0)s+=o;return s+="\n  </div>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/curate_start"]=this.SHT["plugin/curate_start"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},"<div class='ly-s cf ly-curation'>\n	<p class='ly-snote'>As owner, you can change order for curated sort</p>\n	<button type='button' class='fr'>Curate</button>\n</div>\n"})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/filter"]=this.SHT["plugin/filter"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var r="",i,s,o;r+='\n<li class="lwf_tagitem" data-tag="',(s=n.tag)?i=s.call(e,{hash:{},data:t}):(s=e&&e.tag,i=typeof s===u?s.call(e,{hash:{},data
:t}):s),r+=a(i)+'" title="filter by tag: ',(s=n.tag)?i=s.call(e,{hash:{},data:t}):(s=e&&e.tag,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'"><span class="lwf_tagtext">',(s=n.tag)?i=s.call(e,{hash:{},data:t}):(s=e&&e.tag,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</span>",i=(s=n.if_gt||e&&e.if_gt,o={hash:{compare:0},inverse:f.noop,fn:f.program(2,h,t),data:t},s?s.call(e,e&&e.count,o):l.call(e,"if_gt",e&&e.count,o));if(i||i===0)r+=i;return r+="</li>\n",r}function h(e,t){var r="",i,s;return r+=' <span class="lwf_tagcount">',(s=n.count)?i=s.call(e,{hash:{},data:t}):(s=e&&e.count,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</span>",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this,l=n.helperMissing;o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.program(1,c,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/filter_remove"]=this.SHT["plugin/filter_remove"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var n="";return n+="\n    <li>\n      <a href='#' class='lwf_activetag' data-tag='"+a(typeof e===u?e.apply(e):e)+"' title='Remove tag filter'>"+a(typeof e===u?e.apply(e):e)+"&nbsp;&#215;</a>\n    </li>\n  ",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+="<ul class='lwf_tagchain'>\n  ",o=n.each.call(t,t&&t.tags,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n </ul>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/item"]=this.SHT["plugin/item"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;r+="\n          ",(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===f?s.call(e,{hash:{},data:t}):s);if(i||i===0)r+=i;return r+="\n        ",r}function d(e,t){var r="",i;r+="\n          ",i=n["if"].call(e,e&&e.url,{hash:{},inverse:c.program(6,m,t),fn:c.program(4,v,t),data:t});if(i||i===0)r+=i;return r+="\n        ",r}function v(e,t){var r="",i,s;r+='\n            <a class="ly_external_link" href="',(s=n.sanitized_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.sanitized_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" target="_blank" rel="nofollow">',(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===f?s.call(e,{hash:{},data:t}):s);if(i||i===0)r+=i;return r+="</a>\n          ",r}function m(e,t){var r="",i,s;r+="\n            ",(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===f?s.call(e,{hash:{},data:t}):s);if(i||i===0)r+=i;return r+="\n          ",r}function g(e,t){var r="",i,s;return r+='<img src="',(s=n.gallery_image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.gallery_image,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" data-src-thumbnail="',(s=n.gallery_image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.gallery_image,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" data-src-gallery="',(s=n.gallery_image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.gallery_image,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" data-src-full="',(s=n.full_image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.full_image,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" class="option_image" alt="'+l((i=(i=e&&e.list,i==null||i===!1?i:i.title),typeof i===f?i.apply(e):i))+" | ",(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" data-loaded="false" onload=\'(function(e){e.setAttribute("data-loaded", "loaded"); if(e.height &gt;= e.width){e.setAttribute("data-vertical", "true")}})(this);\' onerror=\'(function(e){e.setAttribute("src", "https://media-cdn.list.ly/missing-image.png");})(this);\' /><div class="play"><i class="ly-icon-play"></i></div>',r}function y(e,t){var r="",i,s;return r+='\n        <div class="item_twfollow">\n            <iframe src="//platform.twitter.com/widgets/follow_button.html?screen_name=',(s=n.twitter_user)?i=s.call(e,{hash:{},data:t}):(s=e&&e.twitter_user,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'&amp;show_count=false&amp;show_screen_name=false"></iframe>\n         </div>\n      ',r}function b(e,t){return"disabled"}function w(e,t){return'\n          <span class="btn ly-icon-thumbs-down" data-type="dislike_it" title="Vote Down"></span>\n        '}function E(e,t){var r="",i,s;return r+='\n          <div class="ly-emotion">\n            <span class="ly-emotion-btn" data-type="use_it" data-label="',(s=n.uselabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.uselabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" title="',(s=n.uselabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.uselabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'"><i class="ly-icon-thumbs-up"></i> ',(s=n.uselabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.uselabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'</span>\n            <span class="ly-emotion-count txt" data-type="use_it" title="Who voted?">'+l((i=(i=e&&e.voting_data,i==null||i===!1?i:i.use_it),typeof i===f?i.apply(e):i))+"</span>\n          </div>\n      ",r}function S(e,t){var r="",i,s;return r+='\n          <div class="ly-emotion">\n            <span class="ly-emotion-btn" data-type="can_advice" data-label="',(s=n.advicelabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.advicelabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" title="',(s=n.advicelabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.advicelabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'"><i class="ly-icon-thumbs-up"></i> ',(s=n.advicelabel)?i=s.call(e,{hash:{},data:t}):(s=e&&e.advicelabel,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'</span>\n            <span class="ly-emotion-count txt" data-type="can_advice" title="Who voted?">'+l((i=(i=e&&e.voting_data,i==null||i===!1?i:i.advices),typeof i===f?i.apply(e):i))+"</span>\n          </div>\n      ",r}function x(e,t){var n="",r;return n+='\n          <div class="ly-comments" title="comments">\n            <i class="ly-icon-comment ly-comment-count"> '+l((r=(r=e&&e.i,r==null||r===!1?r:r.comments_count),typeof r===f?r.apply(e):r))+"</i> <span>Comments</span>\n          </div>\n        ",n}function T(e,t){var r="",i,s;r+='\n      <div class="ly-item-annotation wbreak ly-markdown">',(s=n.annotation)?i=s.call(e,{hash:{},data:t}):(s=e&&e.annotation,i=typeof s===f?s.call(e,{hash:{},data:t}):s);if(i||i===0)r+=i;return r+="</div>\n    ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<li class="listly-item" data-listly-item="',(u=n.id)?o=u.call(t,{hash:{},data:i}):(u=t&&t.id,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-type="',(u=n.type)?o=u.call(t,{hash:{},data:i}):(u=t&&t.type,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-lon="',(u=n.longitude)?o=u.call(t,{hash:{},data:i}):(u=t&&t.longitude,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-lat="',(u=n.latitude)?o=u.call(t,{hash:{},data:i}):(u=t&&t.latitude,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-tags="',(u=n.tags)?o=u.call(t,{hash:{},data:i}):(u=t&&t.tags,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-rnk = "',(u=n.ranking)?o=u.call(t,{hash:{},data:i}):(u=t&&t.ranking,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-position="',(u=n.position)?o=u.call(t,{hash:{},data:i}):(u=t&&t.position,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-name="',(u=n.name)?o=u.call(t,{hash:{},data:i}):(u=t&&t.name,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-creator = "',(u=n.creator_id)?o=u.call(t,{hash:{},data:i}):(u=t&&t.creator_id,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'" data-url = "',(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'">\n  <div class="ly-item-top cf">\n    <div class="ly-title-top">\n      <div class="ly-item-number ly-dim">',(u=n.current_position)?o=u.call(t,{hash:{},data:i}):(u=t&&t.current_position,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'</div>\n      <h2 class="ly-item-title ly-title-font" title="',(u=n.name)?o=u.call(t,{hash:{},data:i}):(u=t&&t.name,o=typeof u===f?u.call(t,{hash:{},data:i}):u);if(o||o===0)s+=o;s+='">\n        ',o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:c.program(3,d,i),fn:c.program(1,p,i),data:i},u?u.call(t,t&&t.type,"video",a):h.call(t,"ifCond",t&&t.type,"video",a));if(o||o===0)s+=o;s+='\n      </h2>\n    </div>\n    <div class="option_media">',o=n["if"].call(t,t&&t.image,{hash:{},inverse:c.noop,fn:c.program(8,g,i),data:i});if(o||o===0)s+=o;s+='</div>\n    <div class="item_detail cf">\n      <div class="item_note wbreak ly-markdown">',(u=n.note)?o=u.call(t,{hash:{},data:i}):(u=t&&t.note,o=typeof u===f?u.call(t,{hash:{},data:i}):u);if(o||o===0)s+=o;s+="</div>\n      ",o=n["if"].call(t,t&&t.twitter_user,{hash:{},inverse:c.noop,fn:c.program(10,y,i),data:i});if(o||o===0)s+=o;s+='\n      <p class="ly-dim item_from ly-ext-link">',(u=n.added_by)?o=u.call(t,{hash:{},data:i}):(u=t&&t.added_by,o=typeof u===f?u.call(t,{hash:{},data:i}):u);if(o||o===0)s+=o;s+='</p>\n    </div>\n  </div>\n    <div class="item_footer cf nobrptags ly-dim">\n      <div class=\'ly-voting-status\'></div>\n      <div class="item-voting ',o=n["if"].call(t,t&&t.voting_disabled,{hash:{},inverse:c.noop,fn:c.program(12,b,i),data:i});if(o||o===0)s+=o;s+='">\n        <span class="btn ly-icon-thumbs-up" data-type="like_it" title="Vote Up"></span>\n        <span class="txt ly-voting-count" title="Who voted?" data-type="votes">\n          ',(u=n.likes)?o=u.call(t,{hash:{},data:i}):(u=t&&t.likes,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+" likes\n        </span>\n        ",o=n.unless.call(t,t&&t.no_dislike,{hash:{},inverse:c.noop,fn:c.program(14,w,i),data:i});if(o||o===0)s+=o;s+="\n      </div>\n      ",o=n["if"].call(t,t&&t.uselabel,{hash:{},inverse:c.noop,fn:c.program(16,E,i),data:i});if(o||o===0)s+=o;s+="\n      ",o=n["if"].call(t,t&&t.advicelabel,{hash:{},inverse:c.noop,fn:c.program(18,S,i),data:i});if(o||o===0)s+=o;s+='\n      <div class="ly-item-actions nobrptags fr">\n        ',o=n.unless.call(t,t&&t.comments_disabled,{hash:{},inverse:c.noop,fn:c.program(20,x,i),data:i});if(o||o===0)s+=o;s+='\n        <div class="ly-relist ly-extra" title="relist"><i class="ly-icon-relist"></i> <span>Relist</span></div>\n        <div class="ly-share ly-share-item" title="share"><i class="ly-icon-share-alt"></i> <span>Share</span></div>\n      </div>\n    </div>\n    <div class="comments cf" style="display:none !important"></div>\n    <div class="ly-item-edit ly-select ly-dim"></div>\n    ',o=n["if"].call(t,t&&t.annotation,{hash:{},inverse:c.noop,fn:c.program(22,T,i),data:i});if(o||o===0)s+=o;return s+="\n</li> \n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/item_embed"]=this.SHT["plugin/item_embed"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+="<div class='fb_header'><h2>Embed An Item</h2>",(u=n.item_name)?o=u.call(t,{hash:{},data:i}):(u=t&&t.item_name,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"</div>\n<div class='fb_content'>Paste this code on any page that takes HTML with Javascript<br/> \n<textarea rows=3 style='width:95%;margin:20px 0px'><script type='text/javascript' src='",(u=n.host)?o=u.call(t,{hash:{},data:i}):(u=t&&t.host,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"/plugin/show?list=",(u=n.list)?o=u.call(t,{hash:{},data:i}):(u=t&&t.list,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"&item=",(u=n.item)?o=u.call(t,{hash:{},data:i}):(u=t&&t.item,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"'></script><div class=\"ly_wrap_f\"  style='padding:4px 0 10px'>See full list on <a href='",(u=n.host)?o=u.call(t,{hash:{},data:i}):(u=t&&t.host,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"/",(u=n.list)?o=u.call(t,{hash:{},data:i}):(u=t&&t.list,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"'>Listly</a></div></textarea>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/item_mode"]=this.SHT["plugin/item_mode"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="ly-body cf">\n  <div class="list-body">\n\n    <ol class="optionlist published cf">\n      <h2 class="ly-hdng"></h2>\n    </ol>\n\n  </div>\n</div>\n<a class="ly-full-list" src="#">Show full list</a>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/item_permissions"]=this.SHT["plugin/item_permissions"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){return'\n        <option value="edit">Edit Item</option>\n      '}function f(e,t){var r="",i;r+='\n        <option value="delete">Delete Item</option>\n        ',i=n["if"].call(e,e&&e.queue,{hash:{},inverse:u.program(6,c,t),fn:u.program(4,l,t),data:t});if(i||i===0)r+=i;return r+="\n      ",r}function l(e,t){return'\n          <option value="move">Accept into List</option>\n        '}function c(e,t){return'\n          <option value="move">Move to Queue</option>\n        '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+='<div class="ly-styled-select">\n  <select>\n    <option value="" disabled="disabled" selected="selected"></option>\n      ',o=n["if"].call(t,t&&t.edit,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;s+="\n      ",o=n["if"].call(t,t&&t.moderate,{hash:{},inverse:u.noop,fn:u.program(3,f,i),data:i});if(o||o===0)s+=o;return s+="\n  </select>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/list_body"]=this.SHT["plugin/list_body"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="ly-body cf">\n  <div class="list-body">\n\n    <ol class="optionlist published cf">\n    </ol>\n\n    <ol class="optionlist suggested cf" style="display:none !important">\n      <h2 class="ly-hdng"></h2>\n    </ol>\n\n    <div class="ly-paginator-container"></div>\n\n  </div>\n</div>\n\n<div class="ly-footer"></div>\n\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/list_header"]=this.SHT["plugin/list_header"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+='\n  <div class="ly-headline">\n    <img src="',(s=n.headline)?i=s.call(e,{hash:{},data:t}):(s=e&&e.headline,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" alt="Headline for ',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'"/>\n    <div class="ly-hl-da"><i class="ly-icon-chevron-down"></i></div>\n  </div>\n',r}function d(e,t){var r="",i,s;return r+='\n       <span class="ly-private ly-badge" data-share-url="',(s=n.private_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.private_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'">\n         <i class="ly-icon-lock"></i>&nbsp;Private List<span>:&nbsp;',(s=n.private_url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.private_url,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+"</span>\n       </button>\n    ",r}function v(e,t){var r="",i,s;return r+='\n    <p class="ly-source">\n      Source: <a href="',(s=n.credit)?i=s.call(e,{hash:{},data:t}):(s=e&&e.credit,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+'" class="ly-dim" target="_blank" title="Source Credit" rel="nofollow">',(s=n.credit)?i=s.call(e,{hash:{},data:t}):(s=e&&e.credit,i=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=l(i)+"</a>\n    </p>\n  ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;o=n["if"].call(t,t&&t.headline,{hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i});if(o||o===0)s+=o;s+='\n\n<div class="ly-header cf">\n\n  <div class="ly-badges cf">',o=n["if"].call(t,t&&t.private_list,{hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i});if(o||o===0)s+=o;s+='</div>\n  <div class="ly-stats cf" style="display:none !important">\n    <div class="ly-stats-counts">\n      <i class="ly-stat-view-count ly-brand-strong">'+l((u=n.numberToHuman||t&&t.numberToHuman,a={hash:{},data:i},u?u.call(t,t&&t.views,2,a):h.call(t,"numberToHuman",t&&t.views,2,a)))+'</i>\n      <span class="ly-dim">views</span>\n      <i class="ly-stat-item-count">',(u=n.item_count)?o=u.call(t,{hash:{},data:i}):(u=t&&t.item_count,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'</i>\n      <span class="ly-dim">items</span>\n    </div>\n    <div class="ly-list-edit ly-select ly-dim" title="Edit List Settings"></div>\n  </div>\n\n  <a href="'+l((o=(o=t&&t.owner,o==null||o===!1?o:o.profile_url),typeof o===f?o.apply(t):o))+'" class="ly-ext-link">\n    <img class="ly-curatedby" src="'+l((o=(o=t&&t.owner,o==null||o===!1?o:o.profile_image),typeof o===f?o.apply(t):o))+'" alt="'+l((o=(o=t&&t.owner,o==null||o===!1?o:o.full_name),typeof o===f?o.apply(t):o))+'" onError="this.onerror=null;this.src=\'https://list.ly/assets/defaults/default-profile-image.png\';"/>\n  </a>\n  <h1 class="ly-title ly-title-font">\n    ',(u=n.title)?o=u.call(t,{hash:{},data:i}):(u=t&&t.title,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'\n  </h1>\n  <p class="ly-author-link">Listly by <a href="'+l((o=(o=t&&t.owner,o==null||o===!1?o:o.profile_url),typeof o===f?o.apply(t):o))+'" class="ly-ext-link">'+l((o=(o=t&&t.owner,o==null||o===!1?o:o.full_name),typeof o===f?o.apply(t):o))+'</a></p>\n  <div class="ly-description ly-markdown wbreak">',(u=n.description)?o=u.call(t,{hash:{},data:i}):(u=t&&t.description,o=typeof u===f?u.call(t,{hash:{},data:i}):u);if(o||o===0)s+=o;s+="</div>\n  ",o=n["if"].call(t,t&&t.credit,{hash:{},inverse:c.noop,fn:c.program(5,v,i),data:i});if(o||o===0)s+=o;return s+='\n\n  <div class="ly-list-actions cf">\n    <div class="ly-follow" title="Follow This List">\n      <i class="ly-icon-heart"></i>&nbsp;&nbsp;<span>Follow List</span>\n    </div>\n    <div class="ly-embed" title="Embed This List">\n    <i class="ly-icon-embed"></i>&nbsp;&nbsp;<span>Embed List</span>\n    </div>\n    <div class="ly-share-list" title="Share This List">\n      <span class="ly-icon-share-alt">&nbsp;</span>\n      <i class=\'lw-action ly-icon-facebook-square ly-icon-color-facebook\' data-network=\'fb\' title="Share List on Facebook"></i>\n      <i class=\'lw-action ly-icon-twitter-square ly-icon-color-twitter\' data-network=\'tw\'  title="Share List on Twitter"></i>\n      <i class=\'lw-action ly-icon-linkedin-square ly-icon-color-linkedin\' data-network=\'li\'  title="Share List on LinkedIn"></i>\n      <i class=\'lw-action ly-icon-google-plus-square ly-icon-color-google-plus\' data-network=\'gp\'  title="Share List on Google Plus"></i>\n      <i class=\'lw-action ly-icon-envelope ly-icon-color-mail\' data-network=\'ma\'  title="Share List via Email"></i>\n    </div>\n  </div>\n  \n</div>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/list_permissions"]=this.SHT["plugin/list_permissions"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){return'\n      <option value="remove">Remove Headline Image</option>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+='<div class="ly-styled-select">\n  <select>\n    <option value="" disabled="disabled" selected="selected"></option>\n    <option value="settings">Edit List</option>        \n    ',o=n["if"].call(t,t&&t.headline,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;return s+="\n  </select>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/promoted"]=this.SHT["plugin/promoted"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+="<div class='ly-pm cf'>\n  <div class='ly-pm-w'><img src='",(u=n.image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"'/>\n    <a class='ly-pm-t' href='",(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"' target='_blank'>\n      <h3>",(u=n.title)?o=u.call(t,{hash:{},data:i}):(u=t&&t.title,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"</h3>\n    </a><span class='ly-pm-v'>\n    <i class='ly-icon-eye'></i> ",(u=n.views)?o=u.call(t,{hash:{},data:i}):(u=t&&t.views,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+" Views</span>\n    <a class='ly-pm-s' href='",(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"' target='_blank'>Trending List</a>&nbsp;<a class='ly-pm-d'>Dismiss</a>\n  </div>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/share"]=this.SHT["plugin/share"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){return"\n    <i class='lw-action ly-icon-embed' data-network='em'></i>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+="<div class='ly-dd has_tip ly-share-dd anchor-right click-remove'>\n  <i class='lw-action ly-icon-facebook' data-network='fb'></i>\n  <i class='lw-action ly-icon-twitter' data-network='tw'></i>\n  <i class='lw-action ly-icon-linkedin' data-network='li'></i>\n  <i class='lw-action ly-icon-google-plus' data-network='gp'></i>\n  <i class='lw-action ly-icon-envelope' data-network='ma'></i>\n  ",o=n["if"].call(t,t&&t.embed,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/theme"]=this.SHT["plugin/theme"]=Handlebars.template(function(e,t,n,r,i){function c(e,t){var n="",r;return n+="\n    color: "+f((r=(r=e&&e.theme,r==null||r===!1?r:r.text_color),typeof r===a?r.apply(e):r))+" !important;\n    ",n}function h(e,t){var n="",r;return n+="\n    background-color: "+f((r=(r=e&&e.theme,r==null||r===!1?r:r.background_color),typeof r===a?r.apply(e):r))+" !important;\n    ",n}function p(e,t){var n="",r;return n+="\n    font-family: "+f((r=(r=e&&e.theme,r==null||r===!1?r:r.text_font),typeof r===a?r.apply(e):r))+" !important;\n    ",n}function d(e,t){var n="",r;return n+="\n    border: 1px solid "+f((r=(r=e&&e.theme,r==null||r===!1?r:r.border_color),typeof r===a?r.apply(e):r))+" !important;\n    ",n}function v(e,t){var n="",r;return n+='\n      font-family: "'+f((r=(r=e&&e.theme,r==null||r===!1?r:r.title_font),typeof r===a?r.apply(e):r))+'" !important;\n    ',n}function m(e,t){var n="",r;return n+="\n      color: "+f((r=(r=e&&e.theme,r==null||r===!1?r:r.title_color),typeof r===a?r.apply(e):r))+" !important;\n    ",n}function g(e,t){var r="",i,s;return r+="\n  ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .listly-item .item_footer *,\n  ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-header .ly-list-actions * {\n      color: "+f((i=(i=e&&e.theme,i==null||i===!1?i:i.secondary_link_color),typeof i===a?i.apply(e):i))+" !important;\n  }\n",r}function y(e,t){var r="",i,s;return r+="\n  ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-dim,\n  ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-dim * {\n      color: "+f((i=(i=e&&e.theme,i==null||i===!1?i:i.secondary_text_color),typeof i===a?i.apply(e):i))+" !important;\n  }\n",r}function b(e,t){var r="",i,s;return r+="\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" a,\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-brand-strong, \n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .listly-item .item_footer .item-voting .btn.true,\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .listly-item .item_footer .ly-emotion .btn.true i,\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-brand-strong * {\n        color: "+f((i=(i=e&&e.theme,i==null||i===!1?i:i.link_color),typeof i===a?i.apply(e):i))+" !important;\n    }\n",r}function w(e,t){var r="",i,s;return r+="\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" * {\n      border-color: "+f((i=(i=e&&e.theme,i==null||i===!1?i:i.separator_color),typeof i===a?i.apply(e):i))+" !important;\n    }\n",r}function E(e,t){var r="",i,s;return r+="\n    ",(s=n.listly_dom)?i=s.call(e,{hash:{},data:t}):(s=e&&e.listly_dom,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" .ly-dd {\n      background-color: "+f((i=(i=e&&e.theme,i==null||i===!1?i:i.background_color),typeof i===a?i.apply(e):i))+" !important;\n    }\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this;(u=n.listly_dom)?o=u.call(t,{hash:{},data:i}):(u=t&&t.listly_dom,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+" {\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.text_color),{hash:{},inverse:l.noop,fn:l.program(1,c,i),data:i});if(o||o===0)s+=o;s+="\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.background_color),{hash:{},inverse:l.noop,fn:l.program(3,h,i),data:i});if(o||o===0)s+=o;s+="\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.text_font),{hash:{},inverse:l.noop,fn:l.program(5,p,i),data:i});if(o||o===0)s+=o;s+="\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.border_color),{hash:{},inverse:l.noop,fn:l.program(7,d,i),data:i});if(o||o===0)s+=o;s+="\n}\n\n  ",(u=n.listly_dom)?o=u.call(t,{hash:{},data:i}):(u=t&&t.listly_dom,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+" h1, ",(u=n.listly_dom)?o=u.call(t,{hash:{},data:i}):(u=t&&t.listly_dom,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"  h2, ",(u=n.listly_dom)?o=u.call(t,{hash:{},data:i}):(u=t&&t.listly_dom,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+" h3 {\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.title_font),{hash:{},inverse:l.noop,fn:l.program(9,v,i),data:i});if(o||o===0)s+=o;s+="\n    ",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.title_color),{hash:{},inverse:l.noop,fn:l.program(11,m,i),data:i});if(o||o===0)s+=o;s+="\n  }\n\n",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.secondary_link_color),{hash:{},inverse:l.noop,fn:l.program(13,g,i),data:i});if(o||o===0)s+=o;s+="\n\n",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.secondary_text_color),{hash:{},inverse:l.noop,fn:l.program(15,y,i),data:i});if(o||o===0)s+=o;s+="\n\n",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.link_color),{hash:{},inverse:l.noop,fn:l.program(17,b,i),data:i});if(o||o===0)s+=o;s+="\n\n",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.separator_color),{hash:{},inverse:l.noop,fn:l.program(19,w,i),data:i});if(o||o===0)s+=o;s+="\n\n",o=n["if"].call(t,(o=t&&t.theme,o==null||o===!1?o:o.background_color),{hash:{},inverse:l.noop,fn:l.program(21,E,i),data:i});if(o||o===0)s+=o;return s+="\n\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["plugin/tools"]=this.SHT["plugin/tools"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="listly-list-card ly-list-tools cf">\n\n  <div class="cf">\n\n\n    <div class="ly-tools-b cf">\n\n      <button class="ly-queue ly-brand-strong ly-reverse-button">\n        <span class="ly-list-active"><span class="ly-mod-count value"></span>&nbsp;Items in Queue</span>\n        <span class="ly-queue-active">Back To List</span>\n      </button>\n\n      <span class="ly-additem-wrap ly-brand-strong">\n      </span>\n    </div>\n\n    <div class="ly-tools-a cf">\n\n      <div class="ly-filter ly-styled-select fl" title="Filter Items">Filter&nbsp;<span class="value ly-dim"></span>\n      </div>\n\n      <div class="ly-sort ly-styled-select fl">\n        <select>\n          <option value="crowdrank">CrowdRank</option>\n          <option value="curated">Curated</option>\n          <option value="alpha">Alpha</option>\n          <option value="newest">Newest</option>\n        </select>\n      </div>\n\n      <div class="ly-layout ly-styled-select fl">\n        <select>\n          <option value="full">List</option>\n          <option value="magazine">Magazine</option>\n          <option value="gallery">Gallery</option>\n          <option value="slideshow">Slideshow</option>\n          <option value="short">Minimal</option>\n        </select>\n      </div>\n\n      <div class="ly-search fr">\n        <input type="text" class="ly-search-items" placeholder="Search Items" />\n        <i class="ly-icon-search ly-search-btn"></i>\n        <i class="ly-icon-times ly-search-clear" style="display:none !important"></i>\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class="ly-filterwidget nobrptags cf ly-pointer-box has_tip click-hide" style="display:none !important">\n    <div class="lwf_activetags"></div>\n    <ul class="lwf_taglist"></ul>\n  </div>\n\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["recents/becomes_power_user"]=this.SHT["recents/becomes_power_user"]=Handlebars.template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="grabbed-list fb_content">\n<p>You need to be Power User on Listly to grab a list from this page and make it your own. <strong>What\'s the quickest way to become a power user?</strong></p>\n\n    <ol>\n      <li>Connect four of your networks to Listly</li>\n      <li>Make a list with 5 items</li>\n      <li>Follow 5 people on Listly</li>\n      <li>Invite at least 5 people to Listly</li>\n    </ol>\n\n    <p>Watch this video to see how</p>\n    <video>...</video>\n</div>\n'})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["recents/grab_list"]=this.SHT["recents/grab_list"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+='<div class="grabbed-list fb_content">\n    <p> Congrats, this list is now yours! We are depending on you to make this list the most loved on Listly! </p>\n\n      <div class="link">\n        <h2><a href="',(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">',(u=n.title)?o=u.call(t,{hash:{},data:i}):(u=t&&t.title,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'</a></h2>\n      </div>\n\n      <a href="',(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" class="btn" alt="Go Curate">Curate Now</a>\n      <div class="btn-group">\n        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#" title="Share this list">Share \n          <span class="caret"></span>\n        </a>\n        <ul class="ly-share dropdown-menu" data-listid="',(u=n.list_id)?o=u.call(t,{hash:{},data:i}):(u=t&&t.list_id,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" data-title="',(u=n.title)?o=u.call(t,{hash:{},data:i}):(u=t&&t.title,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" data-twitter-name="',(u=n.twitter_name)?o=u.call(t,{hash:{},data:i}):(u=t&&t.twitter_name,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">\n          <li>\n            <a class="fb-share" href="javascript:void(0)" data-network=\'fb\'>Facebook</a>\n            <a class="tw-share" href="javascript:void(0)" data-network=\'tw\'>Twitter</a>\n            <a class="li-share" href="javascript:void(0)" data-network=\'li\'>LinkedIn</a>\n            <a class="gp-share" href="javascript:void(0)" data-network=\'gp\'>Google+</a>\n            <a class="ma-share" href="javascript:void(0)" data-network=\'ma\'>Mail</a>\n          </li>\n        </ul>\n      </div>\n      <a href="',(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'/invite" class="btn" alt="Invite Friends"> Invite Friends To List </a>\n\n</div>\n',s})}.call(this),function(){this.SHT||(this.SHT=
{}),Handlebars.partials["recents/suggest_card"]=this.SHT["recents/suggest_card"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+='<li class="listitem no_embed suggested" style="display:none">\n  <div class="list">\n    <div class="list-block list-suggest start">\n      <p class="lead">Have an idea for a list?</p>\n      <form class="new_pickin_suggestion" method="post">\n        <input name="utf8" type="hidden" value="✓">\n        <input name="authenticity_token" type="hidden" value="',(u=n.authenticity_token)?o=u.call(t,{hash:{},data:i}):(u=t&&t.authenticity_token,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">\n        <textarea class="text required" name="title" placeholder="11 crazy facts about ______________ that happened in your world today"></textarea>\n\n        <button type="button" class="btn btn-listly-blue new-suggestion">Suggest</button>\n      </form>\n    </div>\n\n    <div class="list-block list-suggest complete gotit" style="display:none">\n      <p class="lead">Thank You for the suggestion!</p>\n      <p class="lead">If you\'re a power user on Listly, you will own the list when approved!\n      </p>\n      <button class="btn btn-listly-blue gotit" type="button">Got It!</button>\n    </div>\n  </div>\n</li>\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["searches/form"]=this.SHT["searches/form"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){return"active"}function d(e,t){var r="",i,s,o;r+='\n    <div id="list-advanced-search" ',i=(s=n.compare||e&&e.compare,o={hash:{},inverse:f.noop,fn:f.program(4,v,t),data:t},s?s.call(e,e&&e.filter,"list","!=",o):l.call(e,"compare",e&&e.filter,"list","!=",o));if(i||i===0)r+=i;return r+='>\n      Filter List:\n      <select id="searchdate" name="searchdate">\n        <option value="all" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"all",e&&e.daysago,o):l.call(e,"selected","all",e&&e.daysago,o)))+'>All</option>\n        <option value="0" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"0",e&&e.daysago,o):l.call(e,"selected","0",e&&e.daysago,o)))+' >Today</option>\n        <option value="1" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"1",e&&e.daysago,o):l.call(e,"selected","1",e&&e.daysago,o)))+'>1 day ago</option>\n        <option value="2" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"2",e&&e.daysago,o):l.call(e,"selected","2",e&&e.daysago,o)))+'>2 day ago</option>\n        <option value="3" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"3",e&&e.daysago,o):l.call(e,"selected","3",e&&e.daysago,o)))+'>3 day ago</option>\n        <option value="4" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"4",e&&e.daysago,o):l.call(e,"selected","4",e&&e.daysago,o)))+'>4 day ago</option>\n        <option value="5" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"5",e&&e.daysago,o):l.call(e,"selected","5",e&&e.daysago,o)))+'>5 day ago</option>\n        <option value="6" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"6",e&&e.daysago,o):l.call(e,"selected","6",e&&e.daysago,o)))+'>6 day ago</option>\n        <option value="last7" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"last7",e&&e.daysago,o):l.call(e,"selected","last7",e&&e.daysago,o)))+'>Last 7 Days</option>\n        <option value="last30" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"last30",e&&e.daysago,o):l.call(e,"selected","last30",e&&e.daysago,o)))+'>Last 30 days</option>\n      </select>\n\n      <select id="datetype" name="datetype">\n        <option value="updated_at" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"updated_at",e&&e.datetype,o):l.call(e,"selected","updated_at",e&&e.datetype,o)))+'>Updated</option>\n        <option value="created_at" '+c((s=n.selected||e&&e.selected,o={hash:{},data:t},s?s.call(e,"created_at",e&&e.datetype,o):l.call(e,"selected","created_at",e&&e.datetype,o)))+">Created</option>\n      </select>\n    </div>\n    ",r}function v(e,t){return'style="display:none"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f=this,l=n.helperMissing,c=this.escapeExpression,h="function";s+='<div class="search-form well">\n  <form accept-charset="UTF-8" action="/search" id="search-form" method="get">\n    <div style="margin:0;padding:0;display:inline">\n      <input name="utf8" type="hidden" value="✓">\n      <input name="authenticity_token" type="hidden" value="',(u=n.authenticity_token)?o=u.call(t,{hash:{},data:i}):(u=t&&t.authenticity_token,o=typeof u===h?u.call(t,{hash:{},data:i}):u),s+=c(o)+'">\n    </div>\n\n\n      <div class="form-group col-md-12 cf">\n        <input id="filter" name="filter" type="hidden" value="',(u=n.filter)?o=u.call(t,{hash:{},data:i}):(u=t&&t.filter,o=typeof u===h?u.call(t,{hash:{},data:i}):u),s+=c(o)+'">\n        <div class="search-input input-group ">\n            <input class="input-xl form-control" id="q" name="q" placeholder="Type search terms" type="text" value="',(u=n.query)?o=u.call(t,{hash:{},data:i}):(u=t&&t.query,o=typeof u===h?u.call(t,{hash:{},data:i}):u),s+=c(o)+'" autofocus="true">\n            <span class="input-group-btn">\n              <button class="btn btn-primary" id="submit-button" name="button" type="submit">Search</button>\n            </span>    \n        </div>\n      </div>\n\n    <ul class="listly-tabs clearfix js-filters">\n      <!--li class="filter all"><a class="" data-filter="all">All</a></li-->\n      <li class="filter list"><a class="',o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:f.noop,fn:f.program(1,p,i),data:i},u?u.call(t,t&&t.filter,"list",a):l.call(t,"ifCond",t&&t.filter,"list",a));if(o||o===0)s+=o;s+='" data-filter="list">Lists</a></li>\n      <li class="filter item"><a class="',o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:f.noop,fn:f.program(1,p,i),data:i},u?u.call(t,t&&t.filter,"item",a):l.call(t,"ifCond",t&&t.filter,"item",a));if(o||o===0)s+=o;s+='" data-filter="item">Items</a></li>\n      <li class="filter user"><a class="',o=(u=n.ifCond||t&&t.ifCond,a={hash:{},inverse:f.noop,fn:f.program(1,p,i),data:i},u?u.call(t,t&&t.filter,"user",a):l.call(t,"ifCond",t&&t.filter,"user",a));if(o||o===0)s+=o;s+='" data-filter="user">Users</a></li>\n    </ul>\n\n    ',o=n["if"].call(t,t&&t.curator,{hash:{},inverse:f.noop,fn:f.program(3,d,i),data:i});if(o||o===0)s+=o;return s+='\n\n  </form>\n\n\n\n  <div class="search-results">\n    <div class="js-search-results">\n    </div>\n  </div>\n  <div class="search-loader"></div>\n</div>\n\n',s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["signin/signin"]=this.SHT["signin/signin"]=Handlebars.template(function(e,t,n,r,i){function p(e,t){return"\n          <p>To continue, please sign in or sign up.</p>\n      "}function d(e,t){var n="",r;return n+='\n        <img src="'+l((r=(r=(r=e&&e.identities,r==null||r===!1?r:r.facebook),r==null||r===!1?r:r.pic),typeof r===f?r.apply(e):r))+'" width="40"/>\n      ',n}function v(e,t){var n="",r;return n+='\n      <img src="'+l((r=(r=(r=e&&e.identities,r==null||r===!1?r:r.twitter),r==null||r===!1?r:r.pic),typeof r===f?r.apply(e):r))+'" width="40"/>\n    ',n}function m(e,t){var n="",r;return n+='\n          <img src="'+l((r=(r=(r=e&&e.identities,r==null||r===!1?r:r.linkedin),r==null||r===!1?r:r.pic),typeof r===f?r.apply(e):r))+'" width="40"/>\n        ',n}function g(e,t){var n="",r;return n+='\n          <img src="'+l((r=(r=(r=e&&e.identities,r==null||r===!1?r:r.google_oauth2),r==null||r===!1?r:r.pic),typeof r===f?r.apply(e):r))+'" width="40"/>\n        ',n}function y(e,t){return'\n\n      <div id="listly-join-pitch-wrapper">\n        <div id="listly-join-pitch">\n          <ul>\n            <p id="why-join">Why Join?</p>\n            <li>Discover and create great lists</li>\n            <li>Collaborate with friends</li>\n            <li>Embed anywhere</li>\n            <li><a href="//list.ly/about" target="_blank" id="find-out-more">Find out more &#8250;</a></li>\n          </ul>\n        </div>\n      </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a,f="function",l=this.escapeExpression,c=this,h=n.helperMissing;s+='<div class="fb_content" id="listly-signin-widget" data-type="',(u=n.source)?o=u.call(t,{hash:{},data:i}):(u=t&&t.source,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+'">\n\n  <div id="listly-signin-box" class="clearfix">\n\n    <div id="listly-signin-title">\n      <h2>',(u=n.title)?o=u.call(t,{hash:{},data:i}):(u=t&&t.title,o=typeof u===f?u.call(t,{hash:{},data:i}):u),s+=l(o)+"</h2>\n      ",o=(u=n.compare||t&&t.compare,a={hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i},u?u.call(t,t&&t.source,"embed","==",a):h.call(t,"compare",t&&t.source,"embed","==",a));if(o||o===0)s+=o;s+='\n    </div>\n\n    <button class="btn signin btn-fb" data-provider="facebook"> \n      ',o=n["if"].call(t,(o=t&&t.identities,o==null||o===!1?o:o.facebook),{hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i});if(o||o===0)s+=o;s+='\n      <i class="ly-icon-facebook"></i>\n      Sign in with Facebook\n    </button><br/> \n  \n    <button class="btn signin btn-twitter" data-provider="twitter"> \n    ',o=n["if"].call(t,(o=t&&t.identities,o==null||o===!1?o:o.twitter),{hash:{},inverse:c.noop,fn:c.program(5,v,i),data:i});if(o||o===0)s+=o;s+='\n      <i class="ly-icon-twitter"></i>\n      Sign in with Twitter\n\n    </button>\n    <div class="second clearfix"> \n      <button class="btn signin btn-linkedin" data-provider="linkedin"> \n        ',o=n["if"].call(t,(o=t&&t.identities,o==null||o===!1?o:o.linkedin),{hash:{},inverse:c.noop,fn:c.program(7,m,i),data:i});if(o||o===0)s+=o;s+='\n        <i class="ly-icon-linkedin"></i>\n        LinkedIn\n      </button> \n      <button class="btn signin btn-google" data-provider="google_oauth2"> \n        ',o=n["if"].call(t,(o=t&&t.identities,o==null||o===!1?o:o.google_oauth2),{hash:{},inverse:c.noop,fn:c.program(9,g,i),data:i});if(o||o===0)s+=o;s+='\n        <i class="ly-icon-google-plus"></i>\n      Google+\n      </button> \n    </div> \n    <p>\n      <a href="//list.ly/terms" target="_blank">Terms of Service</a> /\n      <a href="//list.ly/privacy" target="_blank">Privacy Policy</a>\n    </p>\n\n    ',o=(u=n.compare||t&&t.compare,a={hash:{},inverse:c.noop,fn:c.program(11,y,i),data:i},u?u.call(t,t&&t.source,"bookmarklet","!=",a):h.call(t,"compare",t&&t.source,"bookmarklet","!=",a));if(o||o===0)s+=o;return s+="\n\n  </div>\n\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["twitter_lists/required_notice"]=this.SHT["twitter_lists/required_notice"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){return"Then come back to this list to add!"}function f(e,t){return'\n      <br/>\n      <a href="#" class="submit-button btn btn-default" id="back-to-list-creation">Got it</a>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this;s+='<div id="required-twitter-template">\n\n    <h3>Oops!</h3>\n\n    <p> To contribute to a Twitter List (or make one of your own), you need to link your Listly account to your Twitter account. </p>\n\n    <p> You can link your Twitter account in Listly <a href="/settings" target="blank">Settings</a> page.\n      ',o=n["if"].call(t,t&&t.nobuttons,{hash:{},inverse:u.noop,fn:u.program(1,a,i),data:i});if(o||o===0)s+=o;s+="</p>\n\n    ",o=n.unless.call(t,t&&t.nobuttons,{hash:{},inverse:u.noop,fn:u.program(3,f,i),data:i});if(o||o===0)s+=o;return s+="\n\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/bio"]=this.SHT["user/bio"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var r="",i,s;return r+="\n    ",(s=n.bio)?i=s.call(e,{hash:{},data:t}):(s=e&&e.bio,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"\n  ",r}function c(e,t){var r="",i;r+="\n    ",i=n["if"].call(e,e&&e.is_current_user,{hash:{},inverse:f.program(6,p,t),fn:f.program(4,h,t),data:t});if(i||i===0)r+=i;return r+="\n  ",r}function h(e,t){return'\n        <div class="add-bio-link">\n          <a href="/settings" title="Edit User Bio">Add Bio</a>\n        </div>\n    '}function p(e,t){return'\n        <div class="add-bio-link">\n          No Biography\n        </div>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="card profile profile-bio">\n  ',o=n["if"].call(t,t&&t.bio,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/stats"]=this.SHT["user/stats"]=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression;return s+='<div class="card profile profile-stats">\n  <div class="mojo">\n    <div class="number">',(u=n.mojopoints)?o=u.call(t,{hash:{},data:i}):(u=t&&t.mojopoints,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'</div>\n    Mojo\n  </div>\n\n  <div class="stats">\n    <div class="stat">\n      <div class="title">\n        Lists\n      </div>\n      <div class="info">\n        ',(u=n.list_count)?o=u.call(t,{hash:{},data:i}):(u=t&&t.list_count,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'\n      </div>\n    </div>\n\n    <div class="stat">\n      <div class="title">\n        Views\n      </div>\n      <div class="info">\n        ',(u=n.views)?o=u.call(t,{hash:{},data:i}):(u=t&&t.views,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'\n      </div>\n    </div>\n\n    <div class="stat">\n      <div class="title">\n        Followers\n      </div>\n      <div class="info">\n        ',(u=n.follower_count)?o=u.call(t,{hash:{},data:i}):(u=t&&t.follower_count,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'\n      </div>\n    </div>\n\n    <div class="stat">\n      <div class="title">\n        Helpers\n      </div>\n      <div class="info">\n        ',(u=n.helper_count)?o=u.call(t,{hash:{},data:i}):(u=t&&t.helper_count,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'\n      </div>\n    </div>\n\n    <div class="stat">\n      <div class="title">\n        Embeds\n      </div>\n      <div class="info">\n        ',(u=n.embed_count)?o=u.call(t,{hash:{},data:i}):(u=t&&t.embed_count,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"\n      </div>\n    </div>\n  </div>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/top_lists"]=this.SHT["user/top_lists"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var r="",i,s;return r+='\n      <div class="list">\n        <a href="',(s=n.url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'"> ',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+" </a>\n      </div>\n    ",r}function c(e,t){return"\n      None yet!\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="card profile profile-top-lists">\n  <div class="title">\n    Top Lists\n  </div>\n\n  <div class="toplists">\n    ',o=n.each.call(t,t&&t.toplists,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n  </div>\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/userprofile"]=this.SHT["user/userprofile"]=Handlebars.template(function(e,t,n,r,i){function h(e,t){var r="",i,s;r+='\n        <div class="quick_stats">\n          <small>\n          ',(s=n.list_count)?i=s.call(e,{hash:{},data:t}):(s=e&&e.list_count,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" Lists | ",(s=n.views)?i=s.call(e,{hash:{},data:t}):(s=e&&e.views,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" Views ",i=n["if"].call(e,e&&e.helpers,{hash:{},inverse:l.noop,fn:l.program(2,p,t),data:t});if(i||i===0)r+=i;return r+="\n          </small>\n        </div>\n      ",r}function p(e,t){var r="",i,s;return r+=" | ",(s=n.helpers)?i=s.call(e,{hash:{},data:t}):(s=e&&e.helpers,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" Helpers",r}function d(e,t){return'\n      <p class="label label-warning pro">PRO</p>\n    '}function v(e,t){return'\n      <p class="label">SITE CURATOR</p>\n    '}function m(e,t,r){var i="",s,o;i+='\n        <a href="',(o=n.url)?s=o.call(e,{hash:{},data:t}):(o=e&&e.url,s=typeof o===a?o.call(e,{hash:{},data:t}):o),i+=f(s)+'" target="_blank" rel="nofollow ',s=n["if"].call(e,r&&r.listpage,{hash:{},inverse:l.noop,fn:l.program(9,g,t),data:t});if(s||s===0)i+=s;return i+='">\n          <i class="ly-icon-',(o=n.network)?s=o.call(e,{hash:{},data:t}):(o=e&&e.network,s=typeof o===a?o.call(e,{hash:{},data:t}):o),i+=f(s)+'-square"></i>\n        </a>\n      ',i}function g(e,t){var r,i,s;return r=(i=n.ifCond||e&&e.ifCond,s={hash:{},inverse:l.noop,fn:l.program(10,y,t),data:t},i?i.call(e,e&&e.network,"google-plus",s):c.call(e,"ifCond",e&&e.network,"google-plus",s)),r||r===0?r:""}function y(e,t){return"author"}function b(e,t){var r="",i;r+="\n      ",i=n.unless.call(e,e&&e.followcard,{hash:{},inverse:l.noop,fn:l.program(13,w,t),data:t});if(i||i===0)r+=i;return r+="\n    ",r}function w(e,t){return'\n        <div class="editprofile">\n          <a href="/settings" class="btn btn-xs">Edit Profile</a>\n        </div>\n      '}function E(e,t){var r="",i;r+='\n      <div class="follow">\n        ',i=n["if"].call(e,e&&e.is_following,{hash:{},inverse:l.program(18,x,t),fn:l.program(16,S,t),data:t});if(i||i===0)r+=i;return r+="\n      </div>\n    ",r}function S(e,t){var r="",i,s;return r+='\n          <button id="follow_user" class="btn btn-xs btn-default following" data-user="',(s=n.screen_name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.screen_name,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+'" data-op="unfollow" title="Unfollow User">\n            <i class="ly-icon-check"></i> &nbsp;<span>FOLLOWING</span>\n          </button>\n        ',r}function x(e,t){var r="",i,s;return r+='\n          <button id="follow_user" class="btn btn-xs btn-default" data-user="',(s=n.screen_name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.screen_name,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+'" data-op="follow">\n            <i class="ly-icon-user"></i> &nbsp;<span>FOLLOW</span>\n          </button>\n        ',r}function T(e,t){var r="",i,s;r+='\n  	<div class="profile_bottom">\n  		<div class="quick_stats">\n  			',(s=n.list_count)?i=s.call(e,{hash:{},data:t}):(s=e&&e.list_count,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" Lists | ",(s=n.views)?i=s.call(e,{hash:{},data:t}):(s=e&&e.views,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" Views ",i=n["if"].call(e,e&&e.helpers,{hash:{},inverse:l.noop,fn:l.program(2,p,t),data:t});if(i||i===0)r+=i;r+='\n  		</div>\n  		<div class="toplists">\n  	    ',i=n.each.call(e,e&&e.toplists,{hash:{},inverse:l.program(23,C,t),fn:l.program(21,N,t),data:t});if(i||i===0)r+=i;return r+="\n  		</div>\n  	</div>\n  ",r}function N(e,t){var r="",i,s;return r+='\n          <div class="list">\n            <a href="',(s=n.url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.url,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+'"> ',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===a?s.call(e,{hash:{},data:t}):s),r+=f(i)+" </a>\n          </div>\n        ",r}function C(e,t){return"\n          No Lists yet\n  	    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=this,c=n.helperMissing;s+='<div class="card profile">\n  <div class="profile_top clearfix">\n    <a class="user-link" href="',(u=n.url)?o=u.call(t,{hash:{},data:i}):(u=t&&t.url,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'">\n      <img class="user-image" src="',(u=n.image)?o=u.call(t,{hash:{},data:i}):(u=t&&t.image,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+'" onerror="Listly.defaultProfileImage(this);" alt="">\n      <p class="user-name title-resize">',(u=n.name)?o=u.call(t,{hash:{},data:i}):(u=t&&t.name,o=typeof u===a?u.call(t,{hash:{},data:i}):u),s+=f(o)+"</p>\n      ",o=n["if"].call(t,t&&t.listpage,{hash:{},inverse:l.noop,fn:l.program(1,h,i),data:i});if(o||o===0)s+=o;s+="\n    </a>\n\n\n    ",o=n["if"].call(t,t&&t.pro,{hash:{},inverse:l.noop,fn:l.program(4,d,i),data:i});if(o||o===0)s+=o;s+="\n    ",o=n["if"].call(t,t&&t.curator,{hash:{},inverse:l.noop,fn:l.program(6,v,i),data:i});if(o||o===0)s+=o;s+='\n\n    <div class="network">\n      ',o=n.each.call(t,t&&t.links,{hash:{},inverse:l.noop,fn:l.programWithDepth(8,m,i,t),data:i});if(o||o===0)s+=o;s+="\n    </div>\n\n    ",o=n["if"].call(t,t&&t.is_current_user,{hash:{},inverse:l.program(15,E,i),fn:l.program(12,b,i),data:i});if(o||o===0)s+=o;s+="\n  </div>\n\n  ",o=n["if"].call(t,t&&t.followcard,{hash:{},inverse:l.noop,fn:l.program(20,T,i),data:i});if(o||o===0)s+=o;return s+="\n</div>\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/userview"]=this.SHT["user/userview"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var r="",i,s;return r+='\n\n	<div class="user">\n	  <div class="user-header">\n	    <a class="user-image" href="',(s=n.url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">\n		  <img class="pull-left" src="',(s=n.image)?i=s.call(e,{hash:{},data:t}):(s=e&&e.image,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'">\n		</a>\n		<h2 class="user-name">',(s=n.name)?i=s.call(e,{hash:{},data:t}):(s=e&&e.name,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</h2>\n	  </div>\n	</div>\n\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n.each.call(t,t,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}.call(this),function(){this.SHT||(this.SHT={}),Handlebars.partials["user/weekly_stats"]=this.SHT["user/weekly_stats"]=Handlebars.template(function(e,t,n,r,i){function l(e,t){var r="",i,s;return r+=' | <span class="rank">Rank ',(s=n.weekly_rank)?i=s.call(e,{hash:{},data:t}):(s=e&&e.weekly_rank,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</span>",r}function c(e,t){var r="",i,s;return r+=' | <span class="rank">Views ',(s=n.weekly_views)?i=s.call(e,{hash:{},data:t}):(s=e&&e.weekly_views,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+"</span>",r}function h(e,t){var r="",i,s;return r+='\n      <div class="list">\n        <a href="',(s=n.url)?i=s.call(e,{hash:{},data:t}):(s=e&&e.url,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+'"> ',(s=n.title)?i=s.call(e,{hash:{},data:t}):(s=e&&e.title,i=typeof s===u?s.call(e,{hash:{},data:t}):s),r+=a(i)+" </a>\n      </div>\n    ",r}function p(e,t){return"\n      None yet!\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="card profile profile-weekly-stats">\n  <span class="label label-info">Weekly Stats</span>\n  ',o=n["if"].call(t,t&&t.weekly_rank,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+="\n  ",o=n["if"].call(t,t&&t.weekly_views,{hash:{},inverse:f.noop,fn:f.program(3,c,i),data:i});if(o||o===0)s+=o;s+='\n  <div class="toplists">\n    ',o=n.each.call(t,t&&t.toplists,{hash:{},inverse:f.program(7,p,i),fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;return s+="\n  </div>\n</div>\n",s})}.call(this),Handlebars.registerHelper("eachProperty",function(e,t){var n="";for(var r in e)n+=t.fn({property:r,value:e[r]});return n}),Handlebars.registerHelper("if_gt",function(e,t){return e>t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("ifCond",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("plusOne",function(e){return e+1}),Handlebars.registerHelper("selected",function(e,t){return e===t?" selected":""}),Handlebars.registerHelper("for",function(e,t,n,r){var i="";for(var s=e;s<t;s+=n)i+=r.fn(s);return i}),Handlebars.registerHelper("compare",function(e,t,n,r){var i,s;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");r===undefined&&(r=t,t=n,n="==="),i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"typeof":function(e,t){return typeof e==t}};if(!i[n])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+n);return s=i[n](e,t),s?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("foreach",function(e,t){return t.inverse&&!e.length?t.inverse(this):e.map(function(n,r){return n.$index=r,n.$first=r===0,n.$last=r===e.length-1,t.fn(n)}).join("")}),Handlebars.registerHelper("if_gteq",function(e,t){return e>=t.hash.compare?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("json",function(e){return JSON.stringify(e)}),Handlebars.registerHelper("paginate",function(e,t){var n=Number(e.currentPage),r=Number(e.pageCount),i=Number(e.perPage)||25,s=Number(e.totalItems),o={current_page:n};return o.first_page=1,o.last_page=r,o.prev_disabled=n==1,o.prev_page=o.prev_disabled?1:n-1,o.next_disabled=n==r,o.next_page=o.next_disabled?r:n+1,o.batch_first=(n-1)*i+1,o.batch_last=n*i>s?s:n*i,o.total_items=s,o.no_batch=i==1?!0:!1,t.fn(o)}),Handlebars.registerHelper("numberToHuman",function(e,t){t=Math.pow(10,t);var n=["k","m","b","t"],r=n.length-1;while(r>=0){var i=Math.pow(10,(r+1)*3);if(i<=e){e=Math.round(e*t/i)/t,e===1e3&&r<n.length-1&&(e=1,r++),e+=n[r];break}r--}return e}),+function(e){"use strict";var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;typeof s!="object"&&(u=o=s),typeof o=="function"&&(o=s.top(this.$element)),typeof u=="function"&&(u=s.bottom(this.$element));var a=this.unpin!=null&&r+this.unpin<=i.top?!1:u!=null&&i.top+this.$element.height()>=n-u?"bottom":o!=null&&r<=o?"top":!1;if(this.affixed===a)return;this.unpin!=null&&this.$element.css("top","");var f="affix"+(a?"-"+a:""),l=e.Event(f+".bs.affix");this.$element.trigger(l);if(l.isDefaultPrevented())return;this.affixed=a,this.unpin=a=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(f).trigger(e.Event(f.replace("affix","affixed"))),a=="bottom"&&this.$element.offset({top:i.top})};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed.bs.alert").remove()}var n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=e(r);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one(e.support.transition.end,s).emulateTransitionEnd(150):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText||r.data("resetText",r[i]()),r[i](s[t]||this.options[t]),setTimeout(e.proxy(function(){t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(".item"),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var f=e.Event("slide.bs.carousel",{relatedTarget:i[0],direction:o});this.$element.trigger(f);if(f.isDefaultPrevented())return;return this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(r.css("transition-duration").slice(0,-1)*1e3)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1
,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(s.interval=!1),i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var s=function(t){if(t&&t.target!=this.$element[0]){this.$element.one(e.support.transition.end,e.proxy(s,this));return}this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(t){if(t&&t.target!=this.$element[0]){this.$element.one(e.support.transition.end,e.proxy(r,this));return}this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&n=="show"&&(n=!n),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i),o=s.data("bs.collapse"),u=o?"toggle":n.data(),a=n.attr("data-parent"),f=a&&e(a);if(!o||!o.transitioning)f&&f.find('[data-toggle="collapse"][data-parent="'+a+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed");s.collapse(u)})}(jQuery),+function(e){"use strict";function i(r){e(t).remove(),e(n).each(function(){var t=s(e(this)),n={relatedTarget:this};if(!t.hasClass("open"))return;t.trigger(r=e.Event("hide.bs.dropdown",n));if(r.isDefaultPrevented())return;t.removeClass("open").trigger("hidden.bs.dropdown",n)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;n.trigger("focus"),r.toggleClass("open").trigger("shown.bs.dropdown",u)}return!1},r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o||o&&t.keyCode==27)return t.which==27&&i.find(n).trigger("focus"),r.trigger("click");var u=" li:not(.divider):visible a",a=i.find('[role="menu"]'+u+', [role="listbox"]'+u);if(!a.length)return;var f=a.index(a.filter(":focus"));t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).trigger("focus")};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";function t(n,r){var i,s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scrollspy",s),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this;this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight),n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);if(s&&e<=r[0])return s!=(o=i[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)})},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()},t.prototype.checkScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return;this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&t.preventDefault(),i.modal(s,this).one("hide",function(){n.is(":visible")&&n.trigger("focus")})})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(i);o&&(i=i.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),a=r[0].offsetWidth,f=r[0].offsetHeight;if(o){var l=i,c=this.$element.parent(),h=this.getPosition(c);i=i=="bottom"&&u.top+u.height+f-h.scroll>h.height?"top":i=="top"&&u.top-h.scroll-f<0?"bottom":i=="right"&&u.right+a>h.width?"left":i=="left"&&u.left-a<h.left?"right":i,r.removeClass(l).addClass(i)}var p=this.getCalculatedOffset(i,u,a,f);this.applyPlacement(p,i),this.hoverState=null;var d=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,d).emulateTransitionEnd(150):d()}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,s=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),u=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(u)&&(u=0),t.top=t.top+o,t.left=t.left+u,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var a=r[0].offsetWidth,f=r[0].offsetHeight;n=="top"&&f!=s&&(t.top=t.top+s-f);var l=this.getViewportAdjustedDelta(n,t,a,f);l.left?t.left+=l.left:t.top+=l.top;var c=l.left?l.left*2-i+a:l.top*2-s+f,h=l.left?"left":"top",p=l.left?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(c,r[0][p],h)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){t.hoverState!="in"&&n.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r=n.tagName=="BODY";return e.extend({},typeof n.getBoundingClientRect=="function"?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:r?e(window).width():t.outerWidth(),height:r?e(window).height():t.outerHeight()},r?{top:0,left:0}:t.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var u=t.top-s-o.scroll,a=t.top+s-o.scroll+r;u<o.top?i.top=o.top-u:a>o.top+o.height&&(i.top=o.top+o.height-a)}else{var f=t.left-s,l=t.left+s+n;f<o.left?i.left=o.left-f:l>o.width&&(i.left=o.left+o.width-l)}return i},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e,t,n,r,i,s){function w(e,t){var n=typeof e[t];return n=="function"||n=="object"&&!!e[t]||n=="unknown"}function E(e,t){return typeof e[t]=="object"&&!!e[t]}function S(e){return Object.prototype.toString.call(e)==="[object Array]"}function x(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!q(navigator.plugins)&&typeof navigator.plugins[e]=="object"){var n=navigator.plugins[e].description;n&&!q(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(y=n.match(/\d+/g))}if(!y){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),y=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(i){}}if(!y)return!1;var s=parseInt(y[0],10),o=parseInt(y[1],10);return b=s>9&&o>0,!0}function A(){if(C)return;C=!0;for(var e=0;e<k.length;e++)k[e]();k.length=0}function M(e,t){if(C){e.call(t);return}k.push(function(){e.call(t)})}function _(){var e=parent;if(h!=="")for(var t=0,n=h.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function D(t){return e.easyXDM=d,h=t,h&&(v="easyXDM_"+h.replace(".","_")+"_"),p}function P(e){return e.match(f)[3]}function H(e){return e.match(f)[4]||""}function B(e){var t=e.toLowerCase().match(f),n=t[2],r=t[3],i=t[4]||"";if(n=="http:"&&i==":80"||n=="https:"&&i==":443")i="";return n+"//"+r+i}function j(e){e=e.replace(c,"$1/");if(!e.match(/^(http||https):\/\//)){var t=e.substring(0,1)==="/"?"":n.pathname;t.substring(t.length-1)!=="/"&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}while(l.test(e))e=e.replace(l,"");return e}function F(e,t){var n="",r=e.indexOf("#");r!==-1&&(n=e.substring(r),e=e.substring(0,r));var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o+"="+s(t[o]));return e+(g?"#":e.indexOf("?")==-1?"?":"&")+i.join("&")+n}function q(e){return typeof e=="undefined"}function U(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],typeof r=="object"?U(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function z(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=v+"TEST"+u,m=n!==e.elements[n.name],t.body.removeChild(e)}function W(e){q(m)&&z();var n;m?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,typeof e.container=="string"&&(e.container=t.getElementById(e.container)),e.container||(U(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;e.props.src="javascript:false",U(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&T(n,"load",e.onLoad);if(e.usePost){var i=e.container.appendChild(t.createElement("form")),s;i.target=n.name,i.action=r,i.method="POST";if(typeof e.usePost=="object")for(var o in e.usePost)e.usePost.hasOwnProperty(o)&&(m?s=t.createElement('<input name="'+o+'"/>'):(s=t.createElement("INPUT"),s.name=o),s.value=e.usePost[o],i.appendChild(s));i.submit(),i.parentNode.removeChild(i)}else n.src=r;return e.props.src=r,n}function X(e,t){typeof e=="string"&&(e=[e]);var n,r=e.length;while(r--){n=e[r],n=new RegExp(n.substr(0,1)=="^"?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$");if(n.test(t))return!0}return!1}function V(r){var i=r.protocol,s;r.isHost=r.isHost||q(I.xdm_p),g=r.hash||!1,r.props||(r.props={});if(!r.isHost){r.channel=I.xdm_c.replace(/["'<>\\]/g,""),r.secret=I.xdm_s,r.remote=I.xdm_e.replace(/["'<>\\]/g,""),i=I.xdm_p;if(r.acl&&!X(r.acl,r.remote))throw new Error("Access denied for "+r.remote)}else r.remote=j(r.remote),r.channel=r.channel||"default"+u++,r.secret=Math.random().toString(16).substring(2),q(i)&&(B(n.href)==B(r.remote)?i="4":w(e,"postMessage")||w(t,"postMessage")?i="1":r.swf&&w(e,"ActiveXObject")&&x()?i="6":navigator.product==="Gecko"&&"frameElement"in e&&navigator.userAgent.indexOf("WebKit")==-1?i="5":r.remoteHelper?i="2":i="0");r.protocol=i;switch(i){case"0":U(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0);if(r.isHost){if(!r.local){var o=n.protocol+"//"+n.host,a=t.body.getElementsByTagName("img"),f,l=a.length;while(l--){f=a[l];if(f.src.substring(0,o.length)===o){r.local=f.src;break}}r.local||(r.local=e)}var c={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,c.xdm_e=r.local,c.xdm_pa=1):c.xdm_e=j(r.local),r.container&&(r.useResize=!1,c.xdm_po=1),r.remote=F(r.remote,c)}else U(r,{channel:I.xdm_c,remote:I.xdm_e,useParent:!q(I.xdm_pa),usePolling:!q(I.xdm_po),useResize:r.useParent?!1:r.useResize});s=[new p.stack.HashTransport(r),new p.stack.ReliableBehavior({}),new p.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new p.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":s=[new p.stack.PostMessageTransport(r)];break;case"2":r.remoteHelper=j(r.remoteHelper),s=[new p.stack.NameTransport(r),new p.stack.QueueBehavior,new p.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":s=[new p.stack.NixTransport(r)];break;case"4":s=[new p.stack.SameOriginTransport(r)];break;case"5":s=[new p.stack.FrameElementTransport(r)];break;case"6":y||x(),s=[new p.stack.FlashTransport(r)]}return s.push(new p.stack.QueueBehavior({lazy:r.lazy,remove:!0})),s}function $(e){var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}};for(var r=0,i=e.length;r<i;r++)t=e[r],U(t,n,!0),r!==0&&(t.down=e[r-1]),r!==i-1&&(t.up=e[r+1]);return t}function J(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var o=this,u=Math.floor(Math.random()*1e4),a=Function.prototype,f=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,l=/[\-\w]+\/\.\.\//,c=/([^:])\/\//g,h="",p={},d=e.easyXDM,v="easyXDM_",m,g=!1,y,b,T,N;if(w(e,"addEventListener"))T=function(e,t,n){e.addEventListener(t,n,!1)},N=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!w(e,"attachEvent"))throw new Error("Browser not supported");T=function(e,t,n){e.attachEvent("on"+t,n)},N=function(e,t,n){e.detachEvent("on"+t,n)}}var C=!1,k=[],L;"readyState"in t?(L=t.readyState,C=L=="complete"||~navigator.userAgent.indexOf("AppleWebKit/")&&(L=="loaded"||L=="interactive")):C=!!t.body;if(!C){if(w(e,"addEventListener"))T(t,"DOMContentLoaded",A);else{T(t,"readystatechange",function(){t.readyState=="complete"&&A()});if(t.documentElement.doScroll&&e===top){var O=function(){if(C)return;try{t.documentElement.doScroll("left")}catch(e){r(O,1);return}A()};O()}}T(e,"load",A)}var I=function(e){e=e.substring(1).split("&");var t={},n,r=e.length;while(r--)n=e[r].split("="),t[n[0]]=i(n[1]);return t}(/xdm_e=/.test(n.search)?n.search:n.hash),R=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return typeof JSON!="undefined"&&typeof JSON.stringify=="function"&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),typeof String.prototype.evalJSON=="function"&&(t=n.evalJSON(),t.a&&t.a.length===3&&t.a[2]===3&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(R=function(){return e},e):null)};U(p,{version:"2.4.17.1",query:I,stack:{},apply:U,getJSONObject:R,whenReady:M,noConflict:D}),p.DomHelper={on:T,un:N,requiresJSON:function(n){E(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};p.Fn={set:function(t,n){e[t]=n},get:function(t,n){var r=e[t];return n&&delete e[t],r}}}(),p.Socket=function(e){var t=$(V(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=B(e.remote);this.origin=B(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},p.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];typeof r=="function"&&(t.local[n]={method:r})}var i=$(V(e).concat([new p.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=B(e.remote),this.destroy=function(){i.destroy()},i.init()},p.stack.SameOriginTransport=function(e){var t,i,s,o;return t={outgoing:function(e,t,n){s(e),n&&n()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){o=B(e.remote),e.isHost?(U(e.props,{src:F(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:v+e.channel+"_provider"}),i=W(e),p.Fn.set(e.channel,function(e){return s=e,r(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,o)}})):(s=_().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,o)}),r(function(){t.up.callback(!0)},0))},init:function(){M(t.onDOMReady,t)}}},p.stack.FlashTransport=function(e){function c(e,t){r(function(){i.up.incoming(e,a)},0)}function d(n){var r=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(Math.random()*1e4);p.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){p.stack.FlashTransport[n].swf=f=l.firstChild;var e=p.stack.FlashTransport[n].queue;for(var t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?l=typeof e.swfContainer=="string"?t.getElementById(e.swfContainer):e.swfContainer:(l=t.createElement("div")
,U(l.style,b&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(l));var s="callback=flash_loaded"+n.replace(/[\-.]/g,"_")+"&proto="+o.location.protocol+"&domain="+P(o.location.href)+"&port="+H(o.location.href)+"&ns="+h;l.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}var i,s,u,a,f,l;return i={outgoing:function(t,n,r){f.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){try{f.destroyChannel(e.channel)}catch(t){}f=null,s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){a=e.remote,p.Fn.set("flash_"+e.channel+"_init",function(){r(function(){i.up.callback(!0)})}),p.Fn.set("flash_"+e.channel+"_onMessage",c),e.swf=j(e.swf);var t=P(e.swf),o=function(){p.stack.FlashTransport[t].init=!0,f=p.stack.FlashTransport[t].swf,f.createChannel(e.channel,e.secret,B(e.remote),e.isHost),e.isHost&&(b&&e.swfNoThrottle&&U(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),U(e.props,{src:F(e.remote,{xdm_e:B(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:v+e.channel+"_provider"}),s=W(e))};p.stack.FlashTransport[t]&&p.stack.FlashTransport[t].init?o():p.stack.FlashTransport[t]?p.stack.FlashTransport[t].queue.push(o):(p.stack.FlashTransport[t]={queue:[o]},d(t))},init:function(){M(i.onDOMReady,i)}}},p.stack.PostMessageTransport=function(t){function a(e){if(e.origin)return B(e.origin);if(e.uri)return B(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function f(e){var n=a(e);n==u&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&i.up.incoming(e.data.substring(t.channel.length+1),n)}var i,s,o,u;return i={outgoing:function(e,n,r){o.postMessage(t.channel+" "+e,n||u),r&&r()},destroy:function(){N(e,"message",f),s&&(o=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){u=B(t.remote);if(t.isHost){var a=function(n){n.data==t.channel+"-ready"&&(o="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,N(e,"message",a),T(e,"message",f),r(function(){i.up.callback(!0)},0))};T(e,"message",a),U(t.props,{src:F(t.remote,{xdm_e:B(n.href),xdm_c:t.channel,xdm_p:1}),name:v+t.channel+"_provider"}),s=W(t)}else T(e,"message",f),o="postMessage"in e.parent?e.parent:e.parent.document,o.postMessage(t.channel+"-ready",u),r(function(){i.up.callback(!0)},0)},init:function(){M(i.onDOMReady,i)}}},p.stack.FrameElementTransport=function(i){var s,o,u,a;return s={outgoing:function(e,t,n){u.call(this,e),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){a=B(i.remote),i.isHost?(U(i.props,{src:F(i.remote,{xdm_e:B(n.href),xdm_c:i.channel,xdm_p:5}),name:v+i.channel+"_provider"}),o=W(i),o.fn=function(e){return delete o.fn,u=e,r(function(){s.up.callback(!0)},0),function(e){s.up.incoming(e,a)}}):(t.referrer&&B(t.referrer)!=I.xdm_e&&(e.top.location=I.xdm_e),u=e.frameElement.fn(function(e){s.up.incoming(e,a)}),s.up.callback(!0))},init:function(){M(s.onDOMReady,s)}}},p.stack.NameTransport=function(e){function l(t){var r=e.remoteHelper+(n?"#_3":"#_2")+e.channel;i.contentWindow.sendMessage(t,r)}function c(){n?(++o===2||!n)&&t.up.callback(!0):(l("ready"),t.up.callback(!0))}function h(e){t.up.incoming(e,a)}function d(){u&&r(function(){u(!0)},0)}var t,n,i,s,o,u,a,f;return t={outgoing:function(e,t,n){u=n,l(e)},destroy:function(){i.parentNode.removeChild(i),i=null,n&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){n=e.isHost,o=0,a=B(e.remote),e.local=j(e.local),n?(p.Fn.set(e.channel,function(t){n&&t==="ready"&&(p.Fn.set(e.channel,h),c())}),f=F(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),U(e.props,{src:f+"#"+e.channel,name:v+e.channel+"_provider"}),s=W(e)):(e.remoteHelper=e.remote,p.Fn.set(e.channel,h));var t=function(){var n=i||this;N(n,"load",t),p.Fn.set(e.channel+"_load",d),function s(){typeof n.contentWindow.sendMessage=="function"?c():r(s,50)}()};i=W({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){M(t.onDOMReady,t)}}},p.stack.HashTransport=function(t){function d(e){if(!c)return;var n=t.remote+"#"+f++ +"_"+e;(s||!h?c.contentWindow:c).location=n}function m(e){a=e,n.up.incoming(a.substring(a.indexOf("_")+1),p)}function g(){if(!l)return;var e=l.location.href,t="",n=e.indexOf("#");n!=-1&&(t=e.substring(n)),t&&t!=a&&m(t)}function y(){o=setInterval(g,u)}var n,i=this,s,o,u,a,f,l,c,h,p;return n={outgoing:function(e,t){d(e)},destroy:function(){e.clearInterval(o),(s||!h)&&c.parentNode.removeChild(c),c=null},onDOMReady:function(){s=t.isHost,u=t.interval,a="#"+t.channel,f=0,h=t.useParent,p=B(t.remote);if(s){U(t.props,{src:t.remote,name:v+t.channel+"_provider"});if(h)t.onLoad=function(){l=e,y(),n.up.callback(!0)};else{var i=0,o=t.delay/50;(function d(){if(++i>o)throw new Error("Unable to reference listenerwindow");try{l=c.contentWindow.frames[v+t.channel+"_consumer"]}catch(e){}l?(y(),n.up.callback(!0)):r(d,50)})()}c=W(t)}else l=e,y(),h?(c=parent,n.up.callback(!0)):(U(t,{props:{src:t.remote+"#"+t.channel+new Date,name:v+t.channel+"_consumer"},onLoad:function(){n.up.callback(!0)}}),c=W(t))},init:function(){M(n.onDOMReady,n)}}},p.stack.ReliableBehavior=function(e){var t,n,r=0,i=0,s="";return t={incoming:function(e,o){var u=e.indexOf("_"),a=e.substring(0,u).split(",");e=e.substring(u+1),a[0]==r&&(s="",n&&(n(!0),n=null)),e.length>0&&(t.down.outgoing(a[1]+","+r+"_"+s,o),i!=a[1]&&(i=a[1],t.up.incoming(e,o)))},outgoing:function(e,o,u){s=e,n=u,t.down.outgoing(i+","+ ++r+"_"+e,o)}}},p.stack.QueueBehavior=function(e){function h(){if(e.remove&&n.length===0){J(t);return}if(o||n.length===0||a)return;o=!0;var i=n.shift();t.down.outgoing(i.data,i.origin,function(e){o=!1,i.callback&&r(function(){i.callback(e)},0),h()})}var t,n=[],o=!0,u="",a,f=0,l=!1,c=!1;return t={init:function(){q(e)&&(e={}),e.maxLength&&(f=e.maxLength,c=!0),e.lazy?l=!0:t.down.init()},callback:function(e){o=!1;var n=t.up;h(),n.callback(e)},incoming:function(n,r){if(c){var s=n.indexOf("_"),o=parseInt(n.substring(0,s),10);u+=n.substring(s+1),o===0&&(e.encode&&(u=i(u)),t.up.incoming(u,r),u="")}else t.up.incoming(n,r)},outgoing:function(r,i,o){e.encode&&(r=s(r));var u=[],a;if(c){while(r.length!==0)a=r.substring(0,f),r=r.substring(a.length),u.push(a);while(a=u.shift())n.push({data:u.length+"_"+a,origin:i,callback:u.length===0?o:null})}else n.push({data:r,origin:i,callback:o});l?t.down.init():h()},destroy:function(){a=!0,t.down.destroy()}}},p.stack.VerifyBehavior=function(e){function s(){n=Math.random().toString(16).substring(2),t.down.outgoing(n)}var t,n,r,i=!1;return t={incoming:function(i,o){var u=i.indexOf("_");u===-1?i===n?t.up.callback(!0):r||(r=i,e.initiate||s(),t.down.outgoing(i)):i.substring(0,u)===r&&t.up.incoming(i.substring(u+1),o)},outgoing:function(e,r,i){t.down.outgoing(n+"_"+e,r,i)},callback:function(t){e.initiate&&s()}}},p.stack.RpcBehavior=function(e,t){function o(e){e.jsonrpc="2.0",n.down.outgoing(r.stringify(e))}function u(e,t){var n=Array.prototype.slice;return function(){var r=arguments.length,u,a={method:t};r>0&&typeof arguments[r-1]=="function"?(r>1&&typeof arguments[r-2]=="function"?(u={success:arguments[r-2],error:arguments[r-1]},a.params=n.call(arguments,0,r-2)):(u={success:arguments[r-1]},a.params=n.call(arguments,0,r-1)),s[""+ ++i]=u,a.id=i):a.params=n.call(arguments,0),e.namedParams&&a.params.length===1&&(a.params=a.params[0]),o(a)}}function f(e,t,n,r){if(!n){t&&o({id:t,error:{code:-32601,message:"Procedure not found."}});return}var i,s;t?(i=function(e){i=a,o({id:t,result:e})},s=function(e,n){s=a;var r={id:t,error:{code:-32099,message:e}};n&&(r.error.data=n),o(r)}):i=s=a,S(r)||(r=[r]);try{var u=n.method.apply(n.scope,r.concat([i,s]));q(u)||i(u)}catch(f){s(f.message)}}var n,r=t.serializer||R(),i=0,s={};return n={incoming:function(e,n){var i=r.parse(e);if(i.method)t.handle?t.handle(i,o):f(i.method,i.id,t.local[i.method],i.params);else{var u=s[i.id];i.error?u.error&&u.error(i.error):u.success&&u.success(i.result),delete s[i.id]}},init:function(){if(t.remote)for(var r in t.remote)t.remote.hasOwnProperty(r)&&(e[r]=u(t.remote[r],r));n.down.init()},destroy:function(){for(var r in t.remote)t.remote.hasOwnProperty(r)&&e.hasOwnProperty(r)&&delete e[r];n.down.destroy()}}},o.easyXDM=p}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),listlyXDM={easyXDM:easyXDM.noConflict("listlyXDM")},function(e){function f(){var t,n,r={height:s.innerHeight,width:s.innerWidth};if(!r.height){t=i.compatMode;if(t||!e.support.boxModel)n=t==="CSS1Compat"?o:i.body,r={height:n.clientHeight,width:n.clientWidth}}return r}function l(){return{top:s.pageYOffset||o.scrollTop||i.body.scrollTop,left:s.pageXOffset||o.scrollLeft||i.body.scrollLeft}}function c(){var i=e(),s,u=0;e.each(t,function(e,t){var n=t.data.selector,r=t.$element;i=i.add(n?r.find(n):r)}),s=i.length;if(s){n=n||f(),r=r||l();for(;u<s;u++){if(!e.contains(o,i[u]))continue;var a=i[u],c=e(a),h={height:c.height(),width:c.width()},p=c.offset(),d=c.data("inview"),v,m,g;if(!r||!n)return;a.offsetWidth>0&&a.offsetHeight>0&&a.style.display!="none"&&p.top+h.height>r.top&&p.top<r.top+n.height&&p.left+h.width>r.left&&p.left<r.left+n.width?(v=r.left>p.left?"right":r.left+n.width<p.left+h.width?"left":"both",m=r.top>p.top?"bottom":r.top+n.height<p.top+h.height?"top":"both",g=v+"-"+m,(!d||d!==g)&&c.data("inview",g).trigger("inview",[!0,v,m])):d&&c.data("inview",!1).trigger("inview",[!1])}}}function p(e){clearTimeout(h),h=setTimeout(function(){h=null,c()},e)}var t={},n,r,i=document,s=window,o=i.documentElement,u=e.expando,a;e.event.special.inview={add:function(n){t[n.guid+"-"+this[u]]={data:n,$element:e(this)},!a&&!e.isEmptyObject(t)&&(a=setInterval(c,250))},remove:function(n){try{delete t[n.guid+"-"+this[u]]}catch(r){}e.isEmptyObject(t)&&(clearInterval(a),a=null)}};var h;e(s).bind("scroll resize",function(){n=r=null,p(50)}),!o.addEventListener&&o.attachEvent&&o.attachEvent("onfocusin",function(){r=null}),e(i).bind("inviewcheck",function(){p(50)})}(Listly.jQuery||jQuery),function(e){var t={className:"autosizejs",append:"",callback:!1},n="hidden",r="border-box",i="lineHeight",s='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],u="oninput",a="onpropertychange",f,l=e(s).data("autosize",!0)[0];l.style.lineHeight="99px",e(l).css(i)==="99px"&&o.push(i),l.style.lineHeight="",e.fn.autosize=function(i){return i=e.extend({},t,i||{}),l.parentNode!==document.body&&e(document.body).append(l),this.each(function(){function m(){f=t,l.className=i.className,e.each(o,function(e,t){l.style[t]=s.css(t)})}function g(){var e,r,o;f!==t&&m();if(!h){h=!0,l.value=t.value+i.append,l.style.overflowY=t.style.overflowY,o=parseInt(t.style.height,10),l.style.width=Math.max(s.width(),0)+"px",l.scrollTop=0,l.scrollTop=9e4,e=l.scrollTop;var u=parseInt(s.css("maxHeight"),10);u=u&&u>0?u:9e4,e>u?(e=u,r="scroll"):e<c&&(e=c),e+=d,t.style.overflowY=r||n,o!==e&&(t.style.height=e+"px",v&&i.callback.call(t)),setTimeout(function(){h=!1},1)}}var t=this,s=e(t),c,h,p,d=0,v=e.isFunction(i.callback);if(s.data("autosize"))return;if(s.css("box-sizing")===r||s.css("-moz-box-sizing")===r||s.css("-webkit-box-sizing")===r)d=s.outerHeight()-s.height();c=Math.max(parseInt(s.css("minHeight"),10)-d,s.height()),p=s.css("resize")==="none"||s.css("resize")==="vertical"?"none":"horizontal",s.css({overflow:n,overflowY:n,wordWrap:"break-word",resize:p}).data("autosize",!0),a in t?u in t?t[u]=t.onkeyup=g:t[a]=g:t[u]=g,e(window).resize(g),s.bind("autosize",g),g()})}}(Listly.jQuery||window.jQuery||window.Zepto),function(e){var t,n,r,i,s,o;return t="touchactive",r=function(t){var n,r;return n=e(t),r=n.closest('*[data-touchclick="true"]'),r.length?r:n},o=function(e){var n,i,s,o;n=r(e.target),i=Math.round((new Date).getTime()/1e3),o=n.data("touchclick-last-touch"),s=i-o,o&&s<3&&e.type==="mousedown"?n.data("touchclick-disabled",!0):(n.data("touchclick-disabled",!1),n.addClass(t));if(e.type==="touchstart"||e.type==="MSPointerDown")return n.data("touchclick-last-touch",i)},s=function(e){var n;return n=r(e.target),n.data("touchclick-disabled",!0),n.removeClass(t)},i=function(n){var i;return i=r(n.target),i.data("touchclick-disabled")||(n.type="touchclick",e.event.dispatch.call(this,n)),i.data("touchclick-disabled",!1),i.removeClass(t)},n=function(t){var n;return n=e(this),window.navigator.pointerEnabled?(n[t]("pointerdown",o),n[t]("pointerup",i)):window.navigator.msPointerEnabled?(n[t]("MSPointerDown",o),n[t]("MSPointerUp",i)):(n[t]("touchstart mousedown",o),n[t]("touchmove mouseout",s),n[t]("touchend mouseup",i))},e.event.special.touchclick={setup:function(){return n.call(this,"on")},teardown:function(){return n.call(this,"off")}}}(Listly.jQuery||jQuery),function(e){e.extend(e.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}var a=e.validator.normalizeRules(e.extend({},e.validator.classRules(r),e.validator.attributeRules(r),e.validator.dataRules(r),e.validator.staticRules(r)),r);if(a.required){var f=a.required;delete a.required,a=e.extend({required:f},a)}return a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e,t){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e,t){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e,t){if(t.which===9&&this.elementValue(e)==="")return;(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e,t){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var n=e.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");n.settings[r]&&n.settings[r].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.groups={};e.each(this.settings.groups,function(n,r){typeof r=="string"&&(r=r.split(/\s/)),e.each(r,function(e,r){t[r]=n})});var n=this.settings.rules;e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),r=e(t).val();return n==="radio"||n==="checkbox"?e("input[name='"+e(t).attr("name")+"']:checked").val():typeof r=="string"?r.replace(/\r/g,""):r},check:function(t){t=this.validationTargetFor(this.clean(t));var n=e(t).rules(),r=!1,i=this.elementValue(t),s;for(var o in n){var u={method:o,parameters:n[o]};try{s=e.validator.methods[o].call(this,i,t,u.parameters);if(s==="dependency-mismatch"){r=!0;continue}r=!1;if(s==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!s)return this.formatAndAdd(t,u),!1}catch(a){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+t.id+", check the '"+u.method+"' method.",a),a}}if(r)return;return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e];return undefined},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var r=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:t}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(n)):(r=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e,t){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},r=e(t);for(var i in e.validator.methods){var s;i==="required"?(s=r.get(0).getAttribute(i),s===""&&(s=!0),s=!!s):s=r.attr(i),s?n[i]=s:r[0].getAttribute("type")===i&&(n[i]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,r,i={},s=e(t);for(n in e.validator.methods)r=s.data("rule-"+n.toLowerCase()),r!==undefined&&(i[n]=r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1){delete t[r];return}if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!==undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0||r==="true";if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),delete s.invalid[n.name],s.showErrors()}else{var a={},f=r||s.defaultMessage(n,"remote");a[n.name]=i.message=e.isFunction(f)?f(t):f,s.invalid[n.name]=!0,s.showErrors(a)}i.valid=o,s.stopRequest(n,o)}},r)),"pending"},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i<=r},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i
.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--){var o=e.charAt(s);r=parseInt(o,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i}return n%10===0},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){var i=e.port;e.mode==="abort"&&(t[i]&&t[i].abort(),t[i]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return i==="abort"?(t[s]&&t[s].abort(),t[s]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),function(e){function r(e){return e===null||e===undefined}function i(t,n){var r=[],s=[];return e.each(t,function(e,t){s.push(t),i.length===n&&(r.push(s),s=[])}),s.length!==0&&r.push(s),r}function s(t){return r(t)?[]:e.isArray(t)?t:[t]}function o(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})}var t={key:null,endpoint:"oembed",secure:null,query:{},method:"replace",addImageStyles:!0,wrapElement:"div",className:"embed",batch:20},n=/(^|\s)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/i,u=function(e,t,n){this.init(e,t,n)};u.prototype={init:function(t){this.urls=t,this.count=0,this.results={},this._deferred=e.Deferred()},notify:function(e){this.results[e.original_url]=e,this.count++,this._deferred.notify.apply(this._deferred,[e]);if(this.count===this.urls.length){var t=this,n=this.urls.map(function(e){return t.results[e]});this._deferred.resolve(n)}return this},state:function(){return this._deferred.state.apply(this._deferred,arguments)}},window.Keeper=u;var a=function(){};a.prototype={defaults:{},log:function(e,t){!r(window.console)&&!r(window.console[e])&&window.console[e].apply(window.console,[t])},build:function(t,n,i){i=r(i)?{}:i;var s=i.secure;r(s)&&(s=window.location.protocol==="https:"?!0:!1);var o=(s?"https":"http")+"://api.embed.ly/"+(t==="objectify"?"2/":"1/")+t,u=r(i.query)?{}:i.query;return u.key=i.key,o+="?"+e.param(u),o+="&urls="+n.map(encodeURIComponent).join(","),o},ajax:function(a,f,l){l=e.extend({},t,e.embedly.defaults,typeof l=="object"&&l);if(r(l.key))return this.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),null;f=s(f);var c=new u(f),h=[],p=[];e.each(f,function(e,t){n.test(t)?h.push(t):p.push({url:t,original_url:t,error:!0,invalid:!0,error_message:'Invalid url "'+t+'"'})});var d=i(h,l.batch),v=this;return e.each(d,function(t,n){e.ajax({url:v.build(a,n,l),dataType:"jsonp",success:function(t){e.each(o([n,t]),function(e,t){var n=t[1];n.original_url=t[0],n.invalid=!1,c.notify(n)})}})}),p.length&&setTimeout(function(){e.each(p,function(e,t){c.notify(t)})},1),c._deferred},oembed:function(e,t){return this.ajax("oembed",e,t)},preview:function(e,t){return this.ajax("preview",e,t)},objectify:function(e,t){return this.ajax("objectify",e,t)}};var f=function(e,t,n){this.init(e,t,n)};f.prototype={init:function(t,n,r){this.elem=t,this.$elem=e(t),this.original_url=n,this.options=r,this.loaded=e.Deferred();var i=this;this.loaded.done(function(){i.$elem.trigger("loaded",[i])}),this.$elem.trigger("initialized",[this])},progress:function(t){e.extend(this,t),this.options.display?this.options.display.apply(this.elem,[this,this.elem]):this.options.endpoint==="oembed"&&this.display(),this.loaded.resolve(this)},imageStyle:function(){var e=[],t;return this.options.addImageStyles&&(this.options.query.maxwidth&&(t=isNaN(parseInt(this.options.query.maxwidth,10))?"":"px",e.push("max-width: "+this.options.query.maxwidth+t)),this.options.query.maxheight&&(t=isNaN(parseInt(this.options.query.maxheight,10))?"":"px",e.push("max-height: "+this.options.query.maxheight+t))),e.join(";")},display:function(){this.style=this.imageStyle();var e;this.type==="photo"?(e="<a href='"+this.original_url+"' target='_blank'>",e+="<img style='"+this.style+"' src='"+this.url+"' alt='"+this.title+"' /></a>"):this.type==="video"||this.type==="rich"?e=this.html:(this.title=this.title||this.url,e=this.thumbnail_url?"<img src='"+this.thumbnail_url+"' class='thumb' style='"+this.style+"'/>":"",e+="<a href='"+this.original_url+"'>"+this.title+"</a>",e+=this.provider_name?"<a href='"+this.provider_url+"' class='provider'>"+this.provider_name+"</a>":"",e+=this.description?'<div class="description">'+this.description+"</div>":""),this.options.wrapElement&&(e="<"+this.options.wrapElement+' class="'+this.options.className+'">'+e+"</"+this.options.wrapElement+">"),this.code=e,this.options.method==="replace"?this.$elem.replaceWith(this.code):this.options.method==="after"?this.$elem.after(this.code):this.options.method==="afterParent"?this.$elem.parent().after(this.code):this.options.method==="replaceParent"&&this.$elem.parent().replaceWith(this.code),this.$elem.trigger("displayed",[this])}},e.embedly=new a,e.fn.embedly=function(n){if(n===undefined||typeof n=="object"){n=e.extend({},t,e.embedly.defaults,typeof n=="object"&&n);if(r(n.key))return e.embedly.log("error","Embedly jQuery requires an API Key. Please sign up for one at http://embed.ly"),this.each(e.noop);var i={},s=function(t){if(!e.data(e(t),"embedly")){var r=e(t).attr("href"),s=new f(t,r,n);e.data(t,"embedly",s),i.hasOwnProperty(r)?i[r].push(s):i[r]=[s]}},o=this.each(function(){r(e(this).attr("href"))?e(this).find("a").each(function(){r(e(this).attr("href"))||s(this)}):s(this)}),u=e.embedly.ajax(n.endpoint,e.map(i,function(e,t){return t}),n).progress(function(t){e.each(i[t.original_url],function(e,n){n.progress(t)})});return n.progress&&u.progress(n.progress),n.done&&u.done(n.done),o}},e.expr[":"].embedly=function(t){return!r(e(t).data("embedly"))}}(Listly.jQuery||jQuery),function(e){typeof e.fn.each2=="undefined"&&e.fn.extend({each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1);return this}})}(jQuery),function(e,t){"use strict";function l(e,t){var n=0,r=t.length;for(;n<r;n+=1)if(e===t[n])return n;return-1}function c(e,t){return e===t}function h(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function p(e){return e.outerWidth(!1)-e.width()}function d(n){var r="keyup-change-value";n.bind("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.bind("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function v(n){n.bind("mousemove",function(n){var r=a;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function m(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function g(e){var t=!1,n;return function(){return t===!1&&(n=e(),t=!0),n}}function y(e,t){var n=m(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){l(e.target,t.get())>=0&&n(e)})}function b(e){e.preventDefault(),e.stopPropagation()}function w(e){e.preventDefault(),e.stopImmediatePropagation()}function E(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),u.attr("class","select2-sizer"),e("body").append(u)}return u.text(t.val()),u.width()}function S(e,t,n,r){var i=e.toUpperCase().indexOf(t.toUpperCase()),s=t.length;if(i<0){n.push(r(e));return}n.push(r(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(e.substring(i,i+s))),n.push("</span>"),n.push(r(e.substring(i+s,e.length)))}function x(t){var n,r=0,i=null,s=t.quietMillis||100;return function(o){window.clearTimeout(n),n=window.setTimeout(function(){r+=1;var n=r,s=t.data,u=t.url,a=t.transport||e.ajax,f=t.traditional||!1,l=t.type||"GET";s=s?s.call(this,o.term,o.page,o.context):null,u=typeof u=="function"?u.call(this,o.term,o.page,o.context):u,null!==i&&i.abort(),i=a.call(null,{url:u,dataType:t.dataType,data:s,type:l,traditional:f,success:function(e){if(n<r)return;var i=t.results(e,o.page);o.callback(i)}})},s)}}function T(t){var n=t,r,i=function(e){return""+e.text};return e.isArray(n)||(i=n.text,e.isFunction(i)||(r=n.text,i=function(e){return e[r]}),n=n.results),function(t){var r=t.term,s={results:[]},o;if(r===""){t.callback({results:n});return}o=function(n,s){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[],e(n.children).each2(function(e,t){o(t,u.children)}),(u.children.length||t.matcher(r,i(u),n))&&s.push(u)}else t.matcher(r,i(n),n)&&s.push(n)},e(n).each2(function(e,t){o(t,s.results)}),t.callback(s)}}function N(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(s===""||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function C(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function k(t){return e.isFunction(t)?t():t}function L(t){var n=0;return e.each(t,function(e,t){t.children?n+=L(t.children):n++}),n}function A(e,n,r,i){var s=e,o=!1,u,a,f,l,h;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(f=0,l=i.tokenSeparators.length;f<l;f++){h=i.tokenSeparators[f],a=e.indexOf(h);if(a>=0)break}if(a<0)break;u=e.substring(0,a),e=e.substring(a+h.length);if(u.length>0){u=i.createSearchChoice(u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(f=0,l=n.length;f<l;f++)if(c(i.id(u),i.id(n[f]))){o=!0;break}o||r(u)}}}if(s!==e)return e}function O(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2!==t)return;var n,r,i,s,o,u,a,f;n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},f=e(document),o=function(){var e=1;return function(){return e++}}(),f.bind("mousemove",function(e){a={x:e.pageX,y:e.pageY}}),r=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results",u;this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&n.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=g(function(){return n.element.closest("body")}),u=e("#select2-drop-mask"),u.length==0&&(u=e(document.createElement("div")),u.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),u.hide(),u.appendTo(this.body()),u.bind("mousedown touchstart",function(t){var n=e("#select2-drop"),r;n.length>0&&(r=n.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close())})),n.element.attr("class")!==t&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(k(n.containerCss)),this.container.addClass(k(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){e(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(k(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(s),this.search=i=this.container.find("input.select2-input"),i.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),v(this.results),this.dropdown.delegate(s,"mousemove-filtered",this.bind(this.highlightUnderEvent)),y(80,this.results),this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop(),o;i>0&&s-i<=0?(r.scrollTop(0),b(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),b(e))}),d(i),i.bind("keyup-change",this.bind(this.updateResults)),i.bind("focus",function(){i.addClass("select2-focused"),i.val()===" "&&i.val("")}),i.bind("blur",function(){i.removeClass("select2-focused")}),this.dropdown.delegate(s,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),b(t)})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").attr("tabIndex",this.elementTabIndex).show())},prepareOpts:function(n){var r,i,s,o;r=n.element,r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,u,a,f,l=this.opts.id,c=this;o=function(r,i,u){var a,f,h,p,d,v,m,g,y,b;r=n.sortResults(r,i,s);for(a=0,f=r.length;a<f;a+=1)h=r[a],d=h.disabled===!0,p=!d&&l(h)!==t,v=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+u),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),v&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(h)),g=e(document.createElement("div")),g.addClass("select2-result-label"),b=n.formatResult(h,g,s,c.opts.escapeMarkup),b!==t&&g.html(b),m.append(g),v&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,u+1),m.append(y)),m.data("select2-data",h),i.append(m)},o(i,r,0)}},e.fn.select2.defaults,n),typeof n.id!="function"&&(s=n.id,n.id=function(e){return e[s]});if(e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.attr("data-select2-tags")}i?(n.query=this.bind(function(n){var i={results:[],more:!1},s=n.term,o,u,a;a=function(e,t){var r;e.is("option")?n.matcher(s,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:c(e.attr("disabled"),"disabled")}):e.is("optgroup")&&(r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){a(t,r.children)}),r.children.length>0&&t.push(r))},o=r.children(),this.getPlaceholder()!==t&&o.length>0&&(u=o[0],e(u).text()===""&&(o=o.not(u))),o.each2(function(e,t){a(t,i.results)}),n.callback(i)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(o=n.element.data("ajax-url"),o&&o.length>0&&(n.ajax.url=o),n.query=x(n.ajax)):"data"in n?n.query=T(n.data):"tags"in n&&(n.query=N(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection=function(t,r){var i=[];e(h(t.val(),n.separator)).each(function(){var t=this,r=this,s=n.tags;e.isFunction(s)&&(s=s()),e(s).each(function(){if(c(this.id,t))return r=this.text,!1}),i.push({id:t,text:r})}),r(i)}));if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e=this.opts.element,t;e.bind("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var e=this.opts.element.attr("disabled")!=="disabled",t=this.opts.element.attr("readonly")==="readonly";e=e&&!t,this.enabled!==e&&(e?this.enable():this.disable())}),e.bind("propertychange.select2 DOMAttrModified.select2",t),typeof WebKitMutationObserver!="undefined"&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){if(this.enabled)return;this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled")},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.container.offset(),n=this.container.outerHeight(!1),r=this.container.outerWidth(!1),i=this.dropdown.outerHeight(!1),s=e(window).scrollLeft()+document.documentElement.clientWidth,o=e(window).scrollTop()+document.documentElement.clientHeight,u=t.top+n,a=t.left,f=u+i<=o,l=t.top-i>=this.body().scrollTop(),c=this.dropdown.outerWidth(!1),h=a+c<=s,p=this.dropdown.hasClass("select2-drop-above"),d,v,m;this.body().css("position")!=="static"&&(d=this.body().offset(),u-=d.top,a-=d.left),p?(v=!0,!l&&f&&(v=!1)):(v=!1,!f&&l&&(v=!0)),h||(a=t.left+r-c),v?(u=t.top-i,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),m=e.extend({top:u,left:a,width:r},k(this.opts.dropdownCss)),this.dropdown.css(m)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t,s;this.clearDropdownAlignmentPreference(),this.search.val()===" "&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),s=e("#select2-drop-mask"),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s.css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),s.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.container.parents().add(window).each(function(){e(this).bind(r+" "+n+" "+i,function(t){e("#select2-drop-mask").css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),e("#select2-drop").data("select2").positionDropdown()})}),this.focusSearch()},close:function(){if(!this.opened())return;var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).unbind(n).unbind(r).unbind(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=this.findHighlightableChoices(),i=e(n[r]),s=i.offset().top+i.outerHeight(!0),r===n.length-1&&(a=t.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=t.offset().top+t.outerHeight(!0),s>o&&t.scrollTop(t.scrollTop()+(s-o)),u=i.offset().top-t.offset().top,u<0&&i.css("display")!="none"&&t.scrollTop(t.scrollTop()+u)},findHighlightableChoices:function(){var e=this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)");return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){var n=this.findHighlightableChoices(),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n=this.findHighlightableChoices();if(arguments.length===0)return l(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1),t<0&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),e(n[t]).addClass("select2-highlighted"),this.ensureHighlightVisible()},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else n.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=-1,i=this.resultsPage+1,s=this,o=this.search.val(),u=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height(),n<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({term:o,page:i,context:u,matcher:this.opts.matcher,callback:this.bind(function(n){if(!s.opened())return;s.opts.populateResults.call(this,e,n.results,{term:o,page:i,context:u}),n.more===!0?(t.detach().appendTo(e).text(s.opts.formatLoadMore(i+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):t.remove(),s.positionDropdown(),s.resultsPage=i})}))},tokenize:function(){},updateResults:function(n){function f(){i.scrollTop(0),r.removeClass("select2-active"),u.positionDropdown()}function l(e){i.html(e),f()}var r=this.search,i=this.results,s=this.opts,o,u=this,a;if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;r.addClass("select2-active");var h=e.isFunction(s.maximumSelectionSize)?s.maximumSelectionSize():s.maximumSelectionSize;if(h>=1){o=this.data();if(e.isArray(o)&&o.length>=h&&C(s.formatSelectionTooBig,"formatSelectionTooBig")){l("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(h)+"</li>");return}}if(r.val().length<s.minimumInputLength){C(s.formatInputTooShort,"formatInputTooShort")?l("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>"):l("");return}s.formatSearching()&&n===!0&&l("<li class='select2-searching'>"+s.formatSearching()+"</li>");if(s.maximumInputLength&&r.val().length>s.maximumInputLength){C(s.formatInputTooLong,"formatInputTooLong")?l("<li class='select2-no-results'>"+s.formatInputTooLong(r.val(),s.maximumInputLength)+"</li>"):l("");return}a=this.tokenize(),a!=t&&a!=null&&r.val(a),this.resultsPage=1,s.query({term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(!this.opened())return;this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&r.val()!==""&&(a=this.opts.createSearchChoice.call(null,r.val(),o.results),a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return c(u.id(this),u.id(a))}).length===0&&o.results.unshift(a));if(o.results.length===0&&C(s.formatNoMatches,"formatNoMatches")){l("<li class='select2-no-results'>"+s.formatNoMatches(r.val())+"</li>");return}i.empty(),u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null}),o.more===!0&&C(s.formatLoadMore,"formatLoadMore")&&(i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),f()})})},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r&&(this.highlight(t),this.onSelect(r,e))},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?t:this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,s,o;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){i=r[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(i!==null&&i.length>=1)return i[1]}}return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.attr("style","width: "+r)}}),i=O(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["    <a href='javascript:void(0)' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},disable:function(){if(!this.enabled)return;this.parent.disable.apply(this,arguments),this.selection.attr("tabIndex","-1"),this.search.attr("tabIndex","-1")},enable:function(){if(this.enabled)return;this.parent.enable.apply(this,arguments),this.elementTabIndex?this.selection.attr("tabIndex",this.elementTabIndex):this.selection.removeAttr("tabIndex"),this.search.removeAttr("tabIndex")},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show()},focus:function(){this.close(),this.selection.focus(),this.opts.element.triggerHandler("focus")},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,t=this.container,r=this.dropdown,i=!1;this.selection=e=t.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){b(e);return}if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),b(e);return;case n.TAB:case n.ENTER:this.selectHighlighted(),b(e);return;case n.ESC:this.cancel(e),b(e);return}else{if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open();if(e.which===n.ENTER)return}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){var e=this.elementTabIndex||0;e?this.selection.attr("tabIndex",e):this.selection.removeAttr("tabIndex")}),10)})),e.delegate("abbr","mousedown",this.bind(function(e){if(!this.enabled)return;this.clear(),w(e),this.close(),this.triggerChange(),this.selection.focus()})),e.bind("mousedown",this.bind(function(e){i=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),i=!1})),r.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.elementTabIndex||0)}),10)})),e.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which==n.DOWN||e.which==n.UP||e.which==n.ENTER&&this.opts.openOnEnter){this.open(),b(e);return}if(e.which==n.DELETE||e.which==n.BACKSPACE){this.opts.allowClear&&this.clear(),b(e);return}})),e.bind("keypress",this.bind(function(e){if(e.which==n.DELETE||e.which==n.BACKSPACE||e.which==n.TAB||e.which==n.ENTER||e.which==0)return;var t=String.fromCharCode(e.which);this.search.val(t),this.open()})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){var e;if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(t,n){var r=t.find(":selected");e.isFunction(n)&&n({id:r.attr("value"),text:r.text(),element:r})}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val();t.query({matcher:function(e,n,r){return c(i,t.id(r))},callback:e.isFunction(r)?function(e){r(e.results.length?e.results[0]:null)}:e.noop})}),t},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,n){var r=0,i=this,s=!0;this.findHighlightableChoices().each2(function(e,t){if(c(i.id(t.data("select2-data")),i.opts.element.val()))return r=e,!1}),this.highlight(r),n===!0&&(s=this.showSearchInput=L(t.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search"
)[s?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[s?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e,t){var n=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),(!t||!t.noFocus)&&this.selection.focus(),c(n,this.id(e))||this.triggerChange()},updateSelection:function(e){var n=this.selection.find("span"),r;this.selection.data("select2-data",e),n.empty(),r=this.opts.formatSelection(e,n),r!==t&&n.append(this.opts.escapeMarkup(r)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=!1,r=null,i=this;if(arguments.length===0)return this.opts.element.val();e=arguments[0],arguments.length>1&&(n=arguments[1]);if(this.select)this.select.val(e).find(":selected").each2(function(e,t){return r={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&e!==0){this.clear(),n&&this.triggerChange();return}this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),i.triggerChange()})}},clearSearch:function(){this.search.val("")},data:function(e){var n;if(arguments.length===0)return n=this.selection.data("select2-data"),n==t&&(n=null),n;!e||e===""?this.clear():(this.opts.element.val(e?this.id(e):""),this.updateSelection(e))}}),s=O(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(t,n){var r=[];t.find(":selected").each2(function(e,t){r.push({id:t.attr("value"),text:t.text(),element:t})}),e.isFunction(n)&&n(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=h(n.val(),t.separator);t.query({matcher:function(n,r,s){return e.grep(i,function(e){return c(e,t.id(s))}).length},callback:e.isFunction(r)?function(e){r(e.results)}:e.noop})}),t},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field"),this.selection=r=this.container.find(t),this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.BACKSPACE&&this.search.val()===""){this.close();var t,i=r.find(".select2-search-choice-focus");if(i.length>0){this.unselect(i.first()),this.search.width(10),b(e);return}t=r.find(".select2-search-choice:not(.select2-locked)"),t.length>0&&t.last().addClass("select2-search-choice-focus")}else r.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),b(e);return;case n.ENTER:case n.TAB:this.selectHighlighted(),b(e);return;case n.ESC:this.cancel(e),b(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open(),(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&b(e)})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(t,"mousedown",this.bind(function(t){if(!this.enabled)return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()})),this.container.delegate(t,"focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder()})),this.clearSearch()},enable:function(){if(this.enabled)return;this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0)},initSelection:function(){var e;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):this.search.val()===" "&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus(),this.opts.element.triggerHandler("focus")},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){l(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),e!=null&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.addSelectedChoice(e),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:e}),(!t||!t.noFocus)&&this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=r?i:s,u=this.id(n),a=this.getVal(),f;f=this.opts.formatSelection(n,o.find("div")),f!=t&&o.find("div").replaceWith("<div>"+this.opts.escapeMarkup(f)+"</div>"),r&&o.find(".select2-search-choice-close").bind("mousedown",b).bind("click dblclick",this.bind(function(t){if(!this.enabled)return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),b(t)})).bind("focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active")})),o.data("select2-data",n),o.insertBefore(this.searchContainer),a.push(u),this.setVal(a)},unselect:function(e){var t=this.getVal(),n,r;e=e.closest(".select2-search-choice");if(e.length===0)throw"Invalid argument: "+e+". Must be .select2-search-choice";n=e.data("select2-data");if(!n)return;r=l(this.id(n),t),r>=0&&(t.splice(r,1),this.setVal(t),this.select&&this.postprocessResults()),e.remove(),this.triggerChange({removed:n})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result"),n=this.results.find(".select2-result-with-children"),r=this;t.each2(function(t,n){var i=r.id(n.data("select2-data"));l(i,e)>=0&&(n.addClass("select2-selected"),n.find(".select2-result-selectable").addClass("select2-selected"))}),n.each2(function(e,t){!t.is(".select2-result-selectable")&&t.find(".select2-result-selectable:not(.select2-selected)").length===0&&t.addClass("select2-selected")}),this.highlight()==-1&&r.highlight(0)},resizeSearch:function(){var e,t,n,r,i,s=p(this.search);e=E(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,i<e&&(i=n-s),i<40&&(i=n-s),i<=0&&(i=e),this.search.width(i)},getVal:function(){var e;return this.select?(e=this.select.val(),e===null?[]:e):(e=this.opts.element.val(),h(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){l(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},val:function(){var n,r=!1,i=[],s=this;if(arguments.length===0)return this.getVal();n=arguments[0],arguments.length>1&&(r=arguments[1]);if(!n&&n!==0){this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange();return}this.setVal(n);if(this.select)this.select.find(":selected").each(function(){i.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(i),r&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var n=this,r;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();t||(t=[]),r=e.map(t,function(e){return n.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch()}}),e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,a,f=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(n.length===0||typeof n[0]=="object")r=n.length===0?{}:e.extend({},n[0]),r.element=e(this),r.element.get(0).tagName.toLowerCase()==="select"?a=r.element.attr("multiple"):(a=r.multiple||!1,"tags"in r&&(r.multiple=a=!0)),o=a?new s:new i,o.init(r);else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(l(n[0],f)<0)throw"Unknown method: "+n[0];u=t,o=e(this).data("select2");if(o===t)return;n[0]==="container"?u=o.container:u=o[n[0]].apply(o,n.slice(1));if(u!==t)return!1}}),u===t?this:u},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return S(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n){return e?e.text:t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(n==1?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please enter "+n+" less character"+(n==1?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:A,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(e).replace(/[&<>"'/\\]/g,function(e){return t[e[0]]})},blurOnChange:!1,selectOnBlur:!1},window.Select2={query:{ajax:x,local:T,tags:N},util:{debounce:m,markMatch:S},"class":{"abstract":r,single:i,multi:s}}}(jQuery),function(){var e=[].slice;(function(t,n){"use strict";var r;return r=function(){function e(e,n){n==null&&(n={}),this.$element=t(e),this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},n),this.$wrapper=t("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),e.options.size!=null&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(""+e.options.baseClass+"-indeterminate"),e.options.inverse&&t.push(""+e.options.baseClass+"-inverse"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=t("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=t("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=t("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=t("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._initWidth(),this._containerPosition(this.options.state,function(e){return function(){if(e.options.animate)return e.$wrapper.addClass(""+e.options.baseClass+"-animate")}}(this)),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return e.prototype._constructor=e,e.prototype.state=function(e,t){return typeof e=="undefined"?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate?(this.indeterminate(!1),e=!0):e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return typeof e=="undefined"?this.options.size:(this.options.size!=null&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this._width(),this.options.size=e,this.$element)},e.prototype.animate=function(e){return typeof e=="undefined"?this.options.animate:(e=!!e,e===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(e){return typeof e=="undefined"?this.options.disabled:(e=!!e,e===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(e){return typeof e=="undefined"?this.options.readonly:(e=!!e,e===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(e){return typeof e=="undefined"?this.options.indeterminate:(e=!!e,e===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(e){return typeof e=="undefined"?this.options.inverse:(e=!!e,e===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var e,t;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),t=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,typeof e=="undefined"?t:(t!=null&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,typeof e=="undefined"?t:(t!=null&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return typeof e=="undefined"?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return typeof e=="undefined"?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return typeof e=="undefined"?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)},e.prototype.handleWidth=function(e){return typeof e=="undefined"?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(e){return typeof e=="undefined"?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(e){return this.options.baseClass},e.prototype.wrapperClass=function(e){return typeof e=="undefined"?this.options.wrapperClass:(e||(e=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return typeof e=="undefined"?this.options.radioAllOff:(e=!!e,e===this.options.radioAllOff?this.$element:(this.options.radioAllOff=e,this.$element))},e.prototype.onInit=function(e){return typeof e=="undefined"?this.options.onInit:(e||(e=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return typeof e=="undefined"?this.options.onSwitchChange:(e||(e=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var e,t;return e=this.$on.add(this.$off),e.add(this.$label).css("width",""),t=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,e.width(t),this.$label.width(function(e){return function(n,r){return e.options.labelWidth!=="auto"?e.options.labelWidth:r<t?t:r}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(this._handleWidth*2+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._initWidth=function(){var e;return this.$wrapper.is(":visible")?this._width():e=n.setInterval(function(t){return function(){if(t.$wrapper.is(":visible"))return t._width(),n.clearInterval(e)}}(this),50)},e.prototype._containerPosition=function(e,n){e==null&&(e=this.options.state),this.$container.css("margin-left",function(t){return function(){var n;return n=[0,"-"+t._handleWidth+"px"],t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]}}(this));if(!n)return;return t.support.transition?this.$container.one("bsTransitionEnd",n).emulateTransitionEnd(500):n()},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(n,r){var i;n.preventDefault(),n.stopImmediatePropagation(),i=e.$element.is(":checked"),e._containerPosition(i);if(i===e.options.state)return;e.options.state=i,e.$wrapper.toggleClass(""+e.options.baseClass+"-off").toggleClass(""+e.options.baseClass+"-on");if(!r)return e.$element.is(":radio")&&t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[i])}}(this),"focus.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(!t.which||e.options.disabled||e.options.readonly)return;switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(t){return e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(t){return e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){if(e._dragStart||e.options.disabled||e.options.readonly)return;return t.preventDefault(),e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var n;if(e._dragStart==null)return;t.preventDefault(),n=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart;if(n<-e._handleWidth||n>0)return;return e._dragEnd=n,e.$container.css("margin-left",""+e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){var n;if(!e._dragStart)return;return t.preventDefault(),e.options.animate&&e.$wrapper.addClass(""+e.options.baseClass+"-animate"),e._dragEnd?(n=e._dragEnd>-(e._handleWidth/2),e._dragEnd=!1,e.state(e.options.inverse?!n:n)):e.state(!e.options.state),e._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var e;return e=this.$element.closest("label"),e.on("click",function(t){return function(n){n.preventDefault(),n.stopImmediatePropagation();if(n.target===e[0])return t.toggleState()}}(this))},e.prototype._formHandler=function(){var e;e=this.$element.closest("form");if(e.data("bootstrap-switch"))return;return e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var n,r,i,s;if(!t.isArray(e))return[""+this.options.baseClass+"-"+e];r=[];for(i=0,s=e.length;i<s;i++)n=e[i],r.push(""+this.options.baseClass+"-"+n);return r},e}(),t.fn.bootstrapSwitch=function(){var n,i,s;return i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],s=this,this.each(function(){var e,o;e=t(this),o=e.data("bootstrap-switch"),o||e.data("bootstrap-switch",o=new r(this,i));if(typeof i=="string")return s=o[i].apply(o,n)}),s},t.fn.bootstrapSwitch.Constructor=r,t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}.call(this),function(){var e;e=function(e){var t;return t=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i),t.test(e)},$(function(){var t,n,r;$("h5.open_invitation").find("a").on("click",function(e){return e.preventDefault()}),$(".checkall").change(function(){var e;return e=$(this).closest("table").find("td").find(":checkbox"),$(this).is(":checked")?$("form.invitations input:checkbox").attr("checked",!0):$("form.invitations input:checkbox").attr("checked",!1)}),$(document).on("click","a.close-hide",function(){return $(this).parent().fadeOut(1e3)}).on("click",".tweetinvite",function(e){var t,n;return e.preventDefault(),t="Love lists? Join me on Listly",n="https://twitter.com/intent/tweet?url="+$(this).attr("data-url")+"&text="+t,Listly.Analytics.event("Invited via Tweet","Invitation"),window.open(n,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no"),!1}).on("submit","form#new_invitation",function(t){var n,r,i,s,o;$("#invitations-message span").html(""),$("#invitations-message").fadeOut(100),t.preventDefault(),t.stopPropagation(),n=[],r="Please check your email address(es) and try again",o=$("#users input[type=text], textarea").val(),o?n=o.split(/[;,]+/):(r="Please add at least one email address and try again",$("input[type='checkbox']:checked").each(function(){return n.push(this.value)})),Listly.Analytics.event("Clicked email Invitations","Invitation",n),s=!0;for(i in n)o=n[i],s=s&&e($.trim(o));return n.length>0&&s?$.ajax({url:$(this).attr("action"),type:"POST",dataType:"html",data:{users:n,list_id:$("#list_id").data("value")},beforeSend:function(e){return $(".submit").attr("value","Please wait...").attr("disabled","disabled")},success:function(e){return $(".submit").attr("value","Send Invitations").attr("disabled",!1),$("#invitations-message span").html(e),$("#invitations-message").fadeIn(1e3).removeClass("alert-danger").addClass("show").addClass("alert-success"),$("#users input[type=text], textarea").val("")}}):($(".submit").attr("value","Send Invitations").attr("disabled",!1),$("#invitations-message span").html(r),$("#invitations-message").fadeIn(1e3).removeClass("alert-success").addClass("alert-danger"))}).on("listly.invitations.connected",function(e,t){Listly.Analytics.event("Clicked on Invitations","Invitation",t);if($("#invitationspage").length&&$("#invitationspage").data("page-type")==="send")return $.ajax({url:"/contacts/"+t,dataType:"json",data:{list_id:$("#invitationspage").data("list_id")},beforeSend:function(e){if(!$("#invitelanding").length)return $("#invitationspage .btn").attr("disabled","disabled"),$("tr."+t+" td.description").append('  <div class="search-loader muted"></div><div class="muted">Processing...it might take time depending on the size of your contact list</div>')}}).done(function(e,n,r){return e.status==="success"?($("#invitationspage").html(e.html),history.pushState(null,"","//"+window.location.host+"/contacts/"+t)):window.location.href=window.location.href})}).on("click",".invitation-list",function(){var e;return e=$(this).data("list-id"),Listly.Analytics.event("Clicked on facebook","Invitation",e),FB.ui({method:"apprequests",message:"Invite your friends to create awesome lists",data:{list_id:e}},n(e)),!1}),n=function(e){return function(t){var n,r,i,s;if(t.to)return i=t.to.shift(),n=function(){var e,n,r,i;r=t.to,i=[];for(e=0,n=r.length;e<n;e++)s=r[e],i.push(s);return i}(),n.push(t.request),r="/"+Listly.User.user_id+"/invitations",$.post(r,{referral_codes:n,uid:i,provider:"facebook",list_id:e},function(e){return console.log("success invitation")})}};if($("#invitationspage").length&&$("#invitationspage").data("page-type")==="send")return $(document).on("click",".fb-invitation",function(){return Listly.Analytics.event("Clicked on facebook","Invitation","general invitation"),$("#invitations-message span").html(""),$("#invitations-message").fadeOut(100),FB.ui({method:"apprequests",message:"Invite your friends to create awesome lists"},r),!1}).on("ajax:success",".invitation-email",function(e,t,n){return t=$("<div style='padding:20px'></div>").append(t),$(t).find(".top_wrapper_td").remove(),$.listlybox(t,"invitation-email","Invitation Email Sample"),$("#listlybox").find("a").not(".close_lb").on("click",function(e){return alert("Preview only: inactive link"),e.preventDefault()}),!1}).on("ajax:success","form#new_invitation",function(e,n,r){return $("textarea#users").val(""),t()}),r=function(e){var n,r,i,s;if(e&&e.to)return i=e.to.shift(),n=function(){var t,n,r,i;r=e.to,i=[];for(t=0,n=r.length;t<n;t++)s=r[t],i.push(s);return i}(),n.push(e.request),r="/"+Listly.User.user_id+"/invitations",$.post(r,{referral_codes:n,uid:i,provider:"facebook"},function(e){return t()})},t=function(){return $("#invitations-message span").html("Friend Invited"),$("#invitations-message").fadeIn(1e3).removeClass("alert-danger").addClass("show").addClass("alert-success")}})}.call(this),function(e){Listly.Analytics||(Listly.Analytics=new function(){var t={".list.ly":"UA-12364154-1",".air.local":"UA-12364154-5",".listly-staging.herokuapp.com":"UA-12364154-6"},n={".list.ly":"f5100b7d739046eb56bc632ab814295376bdbf4e",".air.local":"1311125162d831922d917c7d9fdc34581ab48110",".listly-staging.herokuapp.com":"1311125162d831922d917c7d9fdc34581ab48110",".shyam.getmyip.com":"1311125162d831922d917c7d9fdc34581ab48110"
},r=null,i=this;this.event=function(e,t,n,r){t=typeof t=="undefined"?"uncategorized":t,n=typeof n=="undefined"?"":n,r=typeof r=="undefined"?0:r,window._gaq.push(["listly._trackEvent",t,e,n,r])},this.identify=function(){var e=Listly.User.join_date.split(":")[0],t=Listly.User.join_date.split(":")[1];window._gaq.push(["listly._setCustomVar",2,"Join month",e,1]),window._gaq.push(["listly._setCustomVar",3,"Join year",t,1]),Listly.User.authenticated?window._gaq.push(["listly._setCustomVar",1,"User Type","Signed In",2]):window._gaq.push(["listly._setCustomVar",1,"User Type","Visitor",2])};var s=function(){window._gaq=window._gaq||[],window._gaq.push(["listly._setAccount",t[Listly.Settings.DOMAIN]]),Listly.Site?(window._gaq.push(["listly._setCustomVar",5,"Listly View",document.URL,3]),window._gaq.push(["listly._trackPageview"])):(window._gaq.push(["listly._setReferrerOverride",encodeURIComponent(document.URL)]),window._gaq.push(["listly._setCustomVar",5,"Embed View",document.URL,3]));if(window._gat===undefined){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}},o=function(){e(document).ready(function(){var e=window.listly_events||[];for(var t in e)ev=JSON.parse(e[t]),Listly.Analytics.event(ev.action,ev.category,ev.label)})},u=function(){s(),Listly&&Listly.Site&&o()};u()})}(Listly.jQuery||jQuery),function(e){Listly.Auth||(Listly.Auth=new function(){var t=Listly.Settings.ROOT+"/easyxdm.swf",n={twitter:Listly.Settings.ROOT+"/auth/twitter",facebook:Listly.Settings.ROOT+"/auth/facebook",linkedin:Listly.Settings.ROOT+"/auth/linkedin",google_oauth2:Listly.Settings.ROOT+"/auth/google_oauth2",google_extra:Listly.Settings.ROOT+"/auth/google_extra"},r=Listly.Settings.ROOT+"/plugin/authcheck?source=plugin&callback=?",i=this,s=null,o=null,u="location=no,status=no,width=800,height=400,left="+(screen.width-800)/2+",top="+(screen.height-400)/2,a=null,f=null,l=null,c=null,h=null,p,d=function(){Listly.signin?e(document).ready(function(){e(document).trigger("listly.signin",[{go_to:Listly.go_to,trigger:"On Entry"}])}):e(document).trigger("listly.authcheck",[!0])};this.sendAuthComplete=function(t){if(Listly.ListlyPlugin&&!Listly.ready)setTimeout(i.sendAuthComplete,100,t);else{var n={authenticated:Listly.User.authenticated,screen_name:Listly.User.screen_name},r=JSON.stringify(p)!==JSON.stringify(n);p=n,e(document).trigger("listly.authcomplete",[t,r])}},e(document).on("listly.signin",function(t,n){p={authenticated:Listly.User.authenticated,screen_name:Listly.User.screen_name},n=n||{};var r=n.title||"Join Listly — it's free and easy!";e.listlybox(SHT["signin/signin"]({source:Listly.Site?"listly":"embed",identities:Listly.User.identity,title:r}),"listly_login"," ");if(n["trigger"]=="Vote"||n["trigger"]=="Add Item")Listly.Auth.vote_add_signin=!0;n.go_to&&(a=n.go_to),n.trigger_on_signin&&(f=n.trigger_on_signin),n.from_embed_url&&(c=n.from_embed_url),n.from_list_id&&(h=n.from_list_id.split("_")[1]),Listly.Analytics.event("Activated Signin","Signin",n.trigger||"unknown")}).on("click","button.signin",function(t){var r=e(this).data("provider"),s=e(this).data("from"),o=n[r];Listly.Analytics.event("Selected "+r,"Signin",r),s&&(o=Listly.urlUtils.addParams(o,"from="+s)),c&&(o=Listly.urlUtils.addParams(o,"from_embed_url="+c)),h&&(o=Listly.urlUtils.addParams(o,"from_list_id="+h)),e(this).data("trigger_on_signin")&&(f=e(this).data("trigger_on_signin")),i._loginWindow=window.open(o,"loginWindow",u),i._loginWindow.focus(),Listly.loginWindow=!0,e.listlybox.close(),i._loginInterval=window.setInterval(i.completeConnect,300,r),e(document).one("touchstart",function(){Listly.loginWindow&&(Listly.loginWindow=!1,window.clearInterval(i._loginInterval),e(document).trigger("listly.authcheck"))})}).on("listly.authcheck",function(t,n,s){e.getJSON(r,function(t){Listly.User=t,a?a=="[home]"?window.location.href=Listly.Settings.ROOT+"/"+Listly.User.screen_name:window.location.href=a:(Listly.Analytics.identify(),Listly.User.authenticated&&(e(document).trigger("listly.authenticated"),f&&e(document).trigger(f,s))),a=f=null,i.sendAuthComplete(n)})}),this.completeConnect=function(t){i._loginWindow.closed&&(Listly.loginWindow=!1,window.clearInterval(i._loginInterval),e(document).trigger("listly.authcheck",[!1,t]))},d()})}(Listly.jQuery||jQuery),function(e){Listly.share||(Listly.share={shortener_path:Listly.Settings.ROOT+"/api/v2/shortener/create?callback=?",process:function(t,n){var r=n.list,i=n.item||null,s=n.title,o=n.item_title||null,u=n.twitter_name||null,a=n.embed_dom_id,f=typeof i=="undefined"||i==null,l,c;f?(l=s,c=Listly.Site?Listly.Settings.ROOT+"/l/"+r:window.location.href.replace(location.hash,"")+"#"+a,Listly.Analytics.event("Shared on "+t,"List",s)):(l="'"+o+"' in "+s,c=Listly.Site?Listly.Settings.ROOT+"/i/"+i:window.location.href.replace(location.hash,"")+"#item_"+i,Listly.Analytics.event("Shared on "+t,"Item",o));var h={share_text:encodeURIComponent(l),url:encodeURIComponent(c),title:encodeURIComponent(s),twitter_name:encodeURIComponent(u)};if(Listly.Site)this.shareNetwork(t,h);else{var p=this;e.getJSON(this.shortener_path,{url:c,list:r,item:i},function(e){h.url=encodeURIComponent(e.shorturl)}).done(function(){p.shareNetwork(t,h)})}},shareNetwork:function(e,t){var n;switch(e){case"fb":n="http://www.facebook.com/sharer.php?u="+t.url;break;case"tw":var r=t.twitter_name!="null"?t.twitter_name:"listly";n="http://twitter.com/intent/tweet?url="+t.url+"&text="+t.share_text+"&via="+r;break;case"gp":n="https://plus.google.com/share?url="+t.url;break;case"li":n="http://www.linkedin.com/shareArticle?url="+t.url;break;case"ma":n="mailto:?subject="+t.title.replace(/\+/g," ")+"&body="+"Hi!%0A%0AI%20wanted%20to%20share%20this%20cool%20list%20with%20you%3A%0A%0A"+t.title.replace(/\+/g," ")+"%0A%0A"+t.url}e=="ma"?window.location=n:window.open(n,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no")}})}(Listly.jQuery||jQuery),function(e){e.fn.showImp=function(){return this.each(function(){var t=e(this);t.attr("style","display: block !important")})},e.fn.toggleImp=function(){return this.each(function(){var t=e(this);t.is(":visible")?t.attr("style","display: none !important"):t.attr("style","display: block !important")})},e.fn.showItem=function(t,n){return t||(t="full"),this.each(function(){var r=e(this),i=e(this).find(".option_media img"),s=t=="gallery"?"display: inline-block !important":"display: block !important";r.removeAttr("style").attr("style",s),n>250&&(t=="magazine"||t=="slideshow")&&i.attr("src",i.attr("data-src-full"))})},e.fn.hideImp=function(){return this.each(function(){var t=e(this);t.attr("style","display: none !important")})},e.fn.cssimp=function(t,n){return this.each(function(){var r=e(this);r.css(t,""),r.attr("style",r[0].style.cssText+t+":"+n+" !important;")})},Listly.viglink={reaf:function(t){var n=e(t).is("[longurl]")?e(t).attr("longurl"):e(t).attr("href"),r={key:"96859b9fd7d840ea366ec3dbcbabf42b",out:n,loc:document.location.href,reaf:1,title:document.title,txt:e(t).text()};e(t).attr("href","https://api.viglink.com/api/click?"+Listly.urlUtils.encodeParams(r))}},Listly.urlUtils={addParams:function(e,t){return e.indexOf("?")!=-1?e.split("?")[0]+"?"+t+"&"+e.split("?")[1]:e.indexOf("#")!=-1?e.split("#")[0]+"?"+t+"#"+e.split("#")[1]:e+"?"+t},encodeParams:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},decode:function(e){var t=/\+/g;return decodeURIComponent(e.replace(t," "))},parseParams:function(e){var t=/([^&=]+)=?([^&]*)/g,n={},r;while(r=t.exec(e)){var i=this.decode(r[1]),s=this.decode(r[2]);i.substring(i.length-2)==="[]"?(i=i.substring(0,i.length-2),(n[i]||(n[i]=[])).push(s)):n[i]=s}return n},parseHeaders:function(t){var n={};if(!t||t.length==0)return n;var r=t.split(",");return e.each(r,function(){var e=this.split(";"),t=e[0].replace(/<(.*)>/,"$1").trim(),r=e[1].replace(/rel="(.*)"/,"$1").trim();n[r]=t}),n}},Listly.utils=Listly.utils||{},Listly.utils.debouncer=function(e,t){var n,t=t||200;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,Array.prototype.slice.call(i))},t)}}}(Listly.jQuery||jQuery),function(e){function t(t){if(e.listlybox.settings.inited)return!0;e.listlybox.settings.inited=!0,e(document).trigger("init.listlybox"),n();var r=e.listlybox.settings.imageTypes.join("|");e.listlybox.settings.imageTypesRegexp=new RegExp("\\.("+r+")(\\?.*)?$","i"),t&&e.extend(e.listlybox.settings,t),e("body").append(e.listlybox.settings.listlyboxHtml);var i=[new Image,new Image];e("#listlybox").find(".b:first, .bl").each(function(){i.push(new Image),i.slice(-1).src=e(this).css("background-image").replace(/url\((.+)\)/,"$1")}),e("#listlybox .close_lb").click(e.listlybox.close)}function n(){var t=e.listlybox.settings;t.imageTypes=t.image_types||t.imageTypes,t.listlyboxHtml=t.listlybox_html||t.listlyboxHtml}function r(t,n){if(t.match(/#/)){var r=window.location.href.split("#")[0],s=t.replace(r,"");if(s=="#")return;e.listlybox.reveal(e(s).html(),n)}else t.match(e.listlybox.settings.imageTypesRegexp)?i(t,n):o(t,n)}function i(t,n){var r=new Image;r.onload=function(){e.listlybox.reveal('<div class="image"><img src="'+r.src+'" /></div>',n)},r.src=t}function s(t,n){var r='<iframe id ="listly_iframe" src="'+t.href+'"';t.klass?r+=' class="'+t.klass+'"':r+=' class="listlybox_iframe"',r+=' scrolling="auto"',r+=" frameborder=0",r+=" />",e.listlybox.reveal(r,n)}function o(t,n){e.listlybox.jqxhr=e.get(t,function(t){e.listlybox.reveal(t,n)})}function u(){return e.listlybox.settings.overlay==0||e.listlybox.settings.opacity===null}function a(){if(u())return;return e("#listlybox_overlay").length==0&&e("body").append('<div id="listlybox_overlay" class="listlybox_hide"></div>'),e("#listlybox_overlay").hide().addClass("listlybox_overlayBG").css("opacity",e.listlybox.settings.opacity).fadeIn(200),!1}function f(){if(u())return;return e("#listlybox_overlay").fadeOut(200,function(){e("#listlybox_overlay").removeClass("listlybox_overlayBG"),e("#listlybox_overlay").addClass("listlybox_hide"),e("#listlybox_overlay").remove()}),!1}e.listlybox=function(t,n,u,a,f){e.listlybox.loading(t.settings||[]),u&&(e("#listlybox .lboxpopup").prepend("<div class='lboxheader'><h2>"+u+"</h2></div>"),a&&a.length>0&&e("#listlybox .lboxheader").append("<p>"+a+"</p>")),f?e("#listlybox").addClass(f):e("#listlybox").removeClass(),t.iframe?s(t.iframe,n):t.ajax?o(t.ajax,n):t.image?i(t.image,n):t.div?r(t.div,n):e.isFunction(t)?t.call(e):e.listlybox.reveal(t,n)},e.extend(e.listlybox,{settings:{opacity:.9,overlay:!0,imageTypes:["png","jpg","jpeg","gif"],listlyboxHtml:'    <div id="listlybox" style="display:none;">       <div class="lboxpopup">         <div class="lboxcontent">         </div>         <a href="#" class="close_lb ly-icon-times"></a>       </div>     </div>'},loading:function(){t();if(e("#listlybox .loading").length==1)return!0;a(),e("#listlybox .lboxcontent").empty().append('<div class="loading"></div>'),e("#listlybox").show().css({marginLeft:-(e("#listlybox .lboxpopup").outerWidth()/2)}),e(document).trigger("loading.listlybox")},reveal:function(t,n){e(document).trigger("beforeReveal.listlybox");var r=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);n&&e("#listlybox .lboxcontent").addClass(n),r&&e("#listlybox .lboxcontent").addClass("overflowscroll"),e("#listlybox .lboxcontent").empty().append(t),e("#listlybox .lboxpopup").children().fadeIn("normal"),e("#listlybox").fadeIn("normal").css({marginLeft:-(e("#listlybox .lboxpopup").outerWidth()/2)}),e(document).trigger("reveal.listlybox").trigger("afterReveal.listlybox"),e.listlybox.settings.position=e("body").scrollTop(),e("body").css({overflow:"hidden"})},reposition:function(t){typeof t=="undefined"&&(t=e("#listlybox .lboxpopup").outerHeight()),e("#listlybox").show().css({marginLeft:-(e("#listlybox .lboxpopup").outerWidth()/2)})},close:function(){return e(document).trigger("close.listlybox"),e("body").scrollTop(e.listlybox.settings.position),e("body").css({overflow:"inherit"}),!1}}),e.fn.listlybox=function(n){function i(){e.listlybox.loading(!0);var t=this.rel.match(/listlybox\[?\.(\w+)\]?/);return t&&(t=t[1]),n&&n.iframe&&s(n.iframe,t),r(this.href,t),!1}if(e(this).length==0)return;return t(n),this.bind("click.listlybox",i)},e(document).bind("close.listlybox",function(){e.listlybox.jqxhr&&(e.listlybox.jqxhr.abort(),e.listlybox.jqxhr=null),e(document).unbind("keydown.listlybox"),e("#listlybox .lboxcontent").removeClass("overflowscroll"),e("#listlybox").fadeOut(function(){e("#listlybox .lboxcontent").removeClass().addClass("lboxcontent").empty(),e("#listlybox .loading").remove(),e("#listlybox .lboxheader").remove(),e(document).trigger("afterClose.listlybox")}),f()})}(Listly.jQuery||jQuery),Listly.AddItem=function(e,t){var n={action:"quickadd"},t=$.extend({},n,t),r=e,i=r.find(".item_error"),s=this,o="https://ajax.googleapis.com/ajax/services/search/images?v=1.0&callback=?&rsz=6&imgsz=large&q=",u="add",a=!1,f=!1,l=!1,c=t.premium||!1,h=["youtu.be","ted.com/talks","youtube.com/watch","hulu.com","vimeo.com","vine.co"],p=new RegExp("\\b"+h.join("\\b|\\b")+"\\b"),d=["blogtalkradio.com","ustream.tv/recorded","audioboo.fm/boos","audioboom.com/boos","soundcloud.com","snd.sc","spreaker.com","spotify.com"],v=new RegExp("\\b"+d.join("\\b|\\b")+"\\b"),m=["imgur.com/","instagram.com/p/","instagr.am/p/","flickr.com/photos/","flic.kr/"],g=new RegExp("\\b"+m.join("\\b|\\b")+"\\b"),y=["^(https?://)?(www.)?twitter.com/(#!/)?@?([a-zA-Z0-9_]+)/?$","^(https?://)?(www.)?facebook.com/(?:profile.php?id=)?(.+)","^(https?://)?(www.)?linkedin.com/((in/[^/]+/?)|(pub/[^/]+/((\\w|\\d)+/?){3}))$","^(https?://)?(www.)?list.ly/(#!/)?@?([a-zA-Z0-9_]+)/?$","((http|https)://)?(www[.])?plus.google.com/.?/?.?/?([0-9]*)"],b=new RegExp("\\b"+y.join("\\b|\\b")+"\\b"),w={text:"item/add_text",link:"item/add_url",photo:"item/add_photo",video:"item/add_media",audio:"item/add_media",profile:"item/add_media",place:"item/add_place"},E={text:!0,link:!0,photo:!0,video:!0,audio:!0,profile:!0,place:!0,csv:!0,bulk:!0},S={set:function(e,t){r.find(":input[name='"+e+"']").val(t)},get:function(e){return r.find(":input[name='"+e+"']").val()},hideError:function(){r.removeClass("error").find(".item_error").html("").hide()},showError:function(e){r.addClass("error").find(".item_error").html(e).show()},showLoader:function(){r.find(".ly-item-spinner").show()},hideLoader:function(){r.find(".ly-item-spinner").hide()},populateItem:function(e){var t=e.type||(e.url?"link":"text");S.processMenu(t,function(){f=!0,S.set("id",e.id),S.set("name",e.name),S.set("location",e.location),S.set("url",e.url),S.set("note",e.raw_note),S.set("type",t),e.image&&N.populateImages([{url:e.image,display_image:e.full_image}]),S.set("tag_list",e.tag_list),T.expand(),e.type=="place"&&L.show({lat:e.latitude,lng:e.longitude})})},preProcess:function(e){Listly.utils.isValidURL(e)?x.getIframely(e,function(t){S.processMenu(t.listly_type,function(){S.set("url",e),(itunes_id=Listly.utils.isiTunesURL(e))?k.parseiTunesURL(e,itunes_id):Listly.utils.isValidURL(e)&&k.parseEmbedly(e)})}):S.processMenu("text",function(){S.set("name",e)})},processMenu:function(t,n){t=="bulk"?$.listlybox(SHT["list/bulk_import"]()):t=="csv"?C.show():e.attr("data-type",t).addClass("expanded").find(".add_menu").fadeOut(function(){S.set("type",t),e.find(".add_body").html(SHT[w[t]]({mediatype:t,mode:u})).show(),T.setup_placeholders(),N.init(),t=="place"&&L.init(),u=="add"&&e.find(".add_cancel").show(),t=="text"&&e.find(".add_save").show(),a=!0,$(document).trigger("listly.quickadd.itemschanged"),n&&n()})},processCancel:function(){r.removeClass("saved error expanded").find(".add_cancel,.add_cancel_really").hide(),a=!1,f=!1,r.removeAttr("data-type").find(".add_body").slideUp("slow",function(){r.find(".add_body").html(""),r.find(".add_save").hide(),S.hideError(),$(document).trigger("listly.quickadd.itemschanged"),r.find(".add_menu").html(SHT["item/add_menu"](E)).fadeIn()})},fbshare:function(e){itemurl=Listly.Settings.ROOT+"/i/"+e.attr("data-id"),url="https://www.facebook.com/sharer.php?u="+itemurl,Listly.Analytics.event("Shared on Facebook","Bookmarklet"),window.open(url,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no")},tweet:function(e){share_text="Sharing item '"+e.attr("data-name")+"' in list '"+e.attr("data-list")+"'",itemurl=Listly.Settings.ROOT+"/i/"+e.attr("data-id"),url="https://twitter.com/intent/tweet?url="+itemurl+"&text="+share_text+"&via=listly",Listly.Analytics.event("Shared on Twitter","Bookmarklet"),window.open(url,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no")},postSave:function(e,n){e&&r.data("count")!="multiple"&&(t.after_save&&t.after_save(e,n)||$.noop(),S.showNext(n.item))},showNext:function(e){var n=typeof t.add_another=="undefined"?!0:t.add_another,i=typeof t.show_link=="undefined"?!1:t.show_link;r.removeClass("saved error").html(SHT["item/add_next"]({item:e,add_another:n,show_link:i}))},processSave:function(e){S.hideError();if(!S.hasRequiredFields())S.showError("Please complete required fields"),e(!1,{});else if(l)e(!0,{});else{r.find(".add_actions button").attr("disabled",!0),S.showLoader();var t={name:S.get("name"),note:S.get("note"),url:S.get("url"),image:S.get("image"),type:S.get("type"),location:S.get("location"),tag_list:S.get("tag_list")};if(u=="add")var n="/api/v3/list/"+S.get("list_code")+"/add_item";else var n="/api/v3/item/"+S.get("id");$.post(n,{item:t}).done(function(t){S.hideLoader(),t.status=="ok"?(r.addClass("saved"),l=!0,r.find(":input").attr("disabled",!0),r.find(".add_actions button").hide(),e(!0,t)):(S.showError(t.error),e(!1,{}),r.find(".add_actions button").attr("disabled",!1))}).fail(function(t){S.showError(t.error),e(!1,{}),r.find(".add_actions button").attr("disabled",!1),S.hideLoader()})}},hasRequiredFields:function(){var e=r.find(":input[required='required']").filter(function(){return $.trim(this.value).length===0}).length==0;return e}},x={getLinks:function(e){var t=/((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?|(@([\w-]+)))/gi;return e.match(t)},getHandles:function(e){var t=/(@([\w-]+))/gi;return e.match(t)},getIframely:function(e,t){if(b.test(e))t({listly_type:"profile"});else{var n="//embeds.list.ly/oembed?url="+encodeURIComponent(e)+"&callback=?";$.ajax({url:n,dataType:"jsonp",timeout:6e3}).success(function(n){switch(n.type){case"photo":n.listly_type="photo";break;case"rich":case"video":v.test(e)?n.listly_type="audio":n.listly_type="video";break;default:n.listly_type="link"}t(n)}).error(function(e){}).fail(function(){t({listly_type:"link"})})}},getItemType:function(e){return Listly.utils.isValidURL(e)?p.test(e)?(console.log("it's a video"),type="video"):v.test(e)?(console.log("it's a audio"),type="audio"):g.test(e)?(console.log("it's a photo"),type="photo"):b.test(e)?(console.log("it's a profile"),type="profile"):(console.log("it's a link"),type="link"):(console.log("it's text"),type="text"),type}},T={setup_placeholders:function(){r.find("input:not(.placeholder), textarea:not(.placeholder)").placeholder(),r.find("input[data-start='true']").focus()},populateFields:function(e,n){S.set("name",e.name),S.set("url",e.url),S.set("note",e.description),S.set("location",e.location),N.reset(),N.populateImages(e.images),T.expand(),S.hideLoader(),f=!0,n&&n(),t.after_populated&&t.after_populated()},expand:function(e){r.find(".new_item_contract").slideUp("slow"),r.find(".new_item_expand").slideDown("slow"),r.find(".add_save").show(),r.find(".help-block").hide(),e&&e()},contract:function(){r.find(".new_item_expand").slideUp("slow"),r.find(".add_save").hide(),r.find(".help-block").show()}},N={fp_elem:null,image_selector:null,selected_image:null,image_total:0,image_meta:null,init:function(){r.find(".image-widget").length>0&&(r.find(".image-widget").html(SHT["item/image"]),N.uploadFile(),N.image_selector=r.find(".image_options"),N.image_meta=r.find(".image_meta"),N.selected_image=r.find(".selected_image"),r.find(".picture").on("touchclick",".skip_left",function(){N.selectImage("left")}).on("touchclick",".skip_right",function(){N.selectImage("right")}).on("touchclick",".no-image",function(){N.reset()}).on("touchclick",".selected_image:empty",function(e){return e.preventDefault(),r.find(".add_image").trigger("click"),!1}).on("onerror",".selected_image img",function(){$(this).remove()}).on("touchclick",".listly-link-upload",function(){var e=prompt("Upload Image from URL","http://");if(e==""||e=="http://"||e==null)return;Listly.utils.isValidURL(e)?N.IsValidImageUrl(e,function(t){t?N.populateImages([{url:e}]):alert("Error. Not a valid image?")}):alert("Error. Not a valid image URL!")}))},IsValidImageUrl:function(e,t){$("<img>",{src:e,error:function(){t(!1)},load:function(){t(!0)}})},uploadFile:function(){fp_elem=e.find(".add_image")[0];var t={file_input:fp_elem,access_key:"AKIAJDJ55DQIDSA5K3SQ",content_type:"application/octet-stream",bucket:"listly-temp",accepted_extensions:"gif,jpg,jpeg,webp,png,GIF,JPG,WEBP,PNG",ajax_base:"/uploads",max_size:10737418.24,chunk_size:(1<<30)/99,on_error:function(){},on_select:function(e){N.selected_image.addClass("loading"),$(fp_elem).closest(".fp-container").hide(),r.find(".fp-progress").show()},on_start:function(e){r.find(".progress-bar").css("width","10%").text("0%")},on_progress:function(e,t){var n=10+e/t*100+"%";r.find(".progress-bar").css("width",n)},on_complete:function(){$(fp_elem).closest(".fp-container").show(),r.find(".fp-progress").hide().find(".progress-bar").css("width","10%");var e="https://listly-temp.s3.amazonaws.com/"+this.settings.key;N.populateImages([{url:e}]),N.uploadFile()}};mule_upload(t)},populateImages:function(e){t.action=="edit"&&e.push({url:S.get("image")});var n=parseInt(e.length);if(n<1){r.find(".no-image").hide(),r.find(".listly-file-upload").hide(),r.attr("data-type")=="photo"&&T.contract();return}r.find(".no-image").show(),r.find(".listly-file-upload").show(),r.attr("data-type")=="photo"&&T.expand(),$.each(e,function(e,t){var n=typeof t.unescapedUrl=="undefined"?t.url:t.unescapedUrl,r=typeof t.display_image=="undefined"?n:t.display_image,i=$("<img/>").attr("src",r).attr("data-image",n).attr("data-index",e+1).error(function(){N.removeImage(this)});e==0?(i.addClass("chosen_image"),S.set("image",n),N.selected_image.html(i)):N.selected_image.append(i)}),n>1?(N.image_selector.find(".image_counter").text("1 of "+n),N.image_selector.find("button").show()):(N.image_selector.find(".image_counter").text(""),N.image_selector.find("button").hide()),setTimeout(function(){N.selectImage("first"),N.selected_image.removeClass("loading")},2e3)},selectImage:function(e){var t=N.selected_image.find(".chosen_image"),n=parseInt(t.attr("data-index")),r,i,s=N.selected_image.find("img").length;switch(e){case"right":i=n+1,i=i>s?1:i;break;case"left":i=n-1,i=i<1?s:i;break;default:i=1}t.removeClass("chosen_image"),r=N.selected_image.find("img[data-index="+i+"]"),r.addClass("chosen_image"),S.set("image",r.attr("data-image")),s>1&&N.image_selector.find(".image_counter").text(i+" of "+s);var o=r.prop("naturalWidth"),u=r.prop("naturalHeight"),a=" "+o+" x "+u+" px";N.image_meta.find(".image_sizes").text(o+"x"+u+"px "),parseInt(o)<500||parseInt(u)<125?N.image_meta.find(".image_optimal").html(""):N.image_meta.find(".image_optimal").html(""),N.image_meta.show(),N.image_selector.show()},reset:function(){N.selected_image.removeClass("loading").html(""),N.populateImages([]),N.image_selector.fadeOut(),N.image_meta.fadeOut(),S.set("image",""),e.find(".no-image").hide()},removeImage:function(e){$(e).remove(),r.find(".image_array img").each(function(e,t){$(this).attr("data-index",e+1)}),N.selectImage("first")},googleImageSearch:function(e){if(e=="")return;$.getJSON(o+encodeURIComponent(e),function(e){e.responseStatus=="200"?N.populateImages(e.responseData.results):N.selected_image.removeClass("loading")})}},C={working:!1,init:function(){C.uploadStatus()},setBusy:function(){r.find("li[data-type='csv']").removeClass("imported").addClass("importing")},setComplete:function(){r.find("li[data-type='csv']").removeClass("importing").addClass("imported")},upload:function(e){var n="/list/"+t.list+"/upload_csv?format=html&url="+e.csv_url+"&filename="+e.csv_filename;$.ajax({url:n,method:"POST",beforeSend:function(){working=!0,C.setBusy()},success:function(e){C.uploadStatus()}})},uploadStatus:function(){var e="/list/"+t.list+"/upload_csv_status";$.getJSON(e,function(e){e.job_status!="none"&&(e.job_status=="queued"||e.job_status=="working"?(C.working=!0,C.setBusy(),setTimeout(C.uploadStatus,5e3),$("#csv-import-status").replaceWith(e.html)):(C.setComplete(),$("#csv-import-status").replaceWith(e.html),C.working&&(C.working=!1,$(document).trigger("listly.refreshListByNewest"),$("html, body").animate({scrollTop:$(".ly-body").offset().top},"slow"))))})},show:function(){$.listlybox({ajax:"/list/"+t.list+"/csv_import"},"","CSV Import")}},k={parseiTunesURL:function(e,t){$.getJSON("https://itunes.apple.com/lookup?id="+t+"&callback=?",function(e){if(e.resultCount>0){var t=e.results[0],n={};switch(t.wrapperType){case"collection":n.name=t.collectionName+" by "+t.artistName,n.description=t.collectionType+" - Preview from "+n.name+" on the iTunes Store. ",n.url=t.collectionViewUrl,n.tags=t.primaryGenreName,n.images=[{url:t.artworkUrl100}];break;case"audiobook":n.name=t.collectionName+" by "+t.artistName,n.description=t.description,n.url=t.collectionViewUrl,n.tags=t.primaryGenreName,n.images=[{url:t.artworkUrl100}];break;case"track":n.name=t.trackName+" by "+t.artistName,n.description=t.kind+" - Preview from "+n.name+" on the iTunes Store. ",n.url=t.trackViewUrl,n.tags=t.primaryGenreName,n.images=[{url:t.artworkUrl100}];break;case"software":n.name=t.trackName,n.description=t.description,n.url=t.trackViewUrl,n.tags=t.genres.join(","),n.images=[{url:t.artworkUrl512}];break;default:switch(t.kind){case"ebook":n.name=t.trackName+" by "+t.artistName,n.description=t.description,n.url=t.trackViewUrl,n.tags=t.genres.join(","),n.images=[{url:t.artworkUrl100}]}}T.populateFields(n)}else T.showError("Invalid iTunes URL?"),S.hideLoader()})},parseEmbedly:function(e){$.embedly.preview(e,{key:"6c529ee41a3e11e1897f4040d3dc5c07"}).progress(function(e){if(e.error_code)S.showError("We had issues processing that link. Does it exist?"),S.hideLoader();else{var t={},n=e.title||"";Listly.utils.isValidURL(n)&&(n="Website at "+n),t.url=e.original_url,t.name=n,t.description=e.description||"",t.images=e.images,T.populateFields(t)}})}},L={loc:null,showloc:[],show:function(e){if(L.loc){var t="//maps.google.com/?output=embed&z=8&q="+e.lat+","+e.lng;r.find(".map").html("<iframe src='"+t+"'></iframe>")}else L.showloc.push(e)},setupAutocomplete:function(){var e=L;typeof $.fn.geocomplete=="function"&&(((window||{}).google||{}).maps||{}).places?(L.loc=r.find(".location").geocomplete({map:r.find(".map")}).bind("geocode:result",function(e,t){var n={},r=t;n.name=t.name||S.get("location"),n.url=t.website,n.place_id=t.place_id,n.lat=t.geometry.location.lat(),n.location=t.formatted_address,n.lng=t.geometry.location.lng(),n.images=[],T.populateFields(n,function(){if(t.photos){var e=[];$.each(t.photos,function(t,n){e.push({url:n.getUrl({maxWidth:1500})})}),N.populateImages(e)}else N.googleImageSearch(n.location+" -map")}),T.expand()}),L.showloc.length>0&&L.show(L.showloc.pop())):setTimeout(e.setupAutocomplete,100)},init:function(){if(window.google===undefined||window.google.maps===undefined){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?libraries=places&v=3.exp&signed_in=true&sensor=false&callback=Listly.AddItem.toString",document.body.appendChild(e)}var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//cdnjs.cloudflare.com/ajax/libs/geocomplete/1.4/jquery.geocomplete.min.js";var n=document.getElementsByTagName("head")[0];n.appendChild(t),L.setupAutocomplete()}},A={attach:function(){e.on("touchclick",".add_menu li",function(e){e.preventDefault();var t=$(this).attr("data-type"),n=t=="text"||t=="link"||c;n?S.processMenu($(this).attr("data-type")):r.find(".upgrade_to_pro").show()}).on("touchclick",".add_cancel",function(){f?($(this).hide(),r.find(".add_cancel_really").show()):S.processCancel()}).on("touchclick",".add_cancel_really",function(){S.processCancel()}).on("touchclick",".add_save",function(){s.save()}).on("touchclick","textarea:not(.md-input)",function(){$(this).markdown({iconlibrary:"fa",resize:"vertical",hiddenButtons:["cmdImage","cmdCode"]}),$(this).focus()}).on("paste","input[name='url'][data-start]",function(e){var t=$(this);setTimeout(function(){s.parseURL()},1)}).on("keyup","input[name='url'][data-start]",function(e){(e.keyCode=="13"||e.keyCode=="32")&&Listly.utils.delay(function(){s.parseURL()},300)}).on("keyup",".location",function(e){if(e.keyCode=="13"){var t=$(this);Listly.utils.delay(function(){t.trigger("geocode")},1e3)}}).on("change","#to_pickin",function(){S.set("list_code",$(this).val())}).on("touchclick",".ai_tweetitem",function(){S.tweet($(this))}).on("touchclick",".ai_fbshare",function(){S.fbshare($(this))}).on("touchclick",".ai_another",function(){a=!1,f=!1,l=!1,r.removeAttr("data-type").removeClass("expanded").addClass("quick-add-box clearfix").html(SHT["item/additem"]()),r.find(".add_menu").html(SHT["item/add_menu"](E)).fadeIn(),S.set("list_code",t.list)}).on("touchclick",".ai_close",function(){t.after_close&&t.after_close()}),$(document).on("listly.csvupload",function(e,t){C.upload(t)})}};this.mode=function(){return u},this.processed=function(){return a},this.complete=function(){return a&&S.hasRequiredFields()},this.saved=function(){return l},this.delete=function(){r.remove()},this.save=function(e){var e=e||{},t=e.callback||S.postSave;S.processSave(t)},this.parseURL=function(){var e=x.getLinks(S.get("url"));if(e==null)return;if(f){var t=confirm("Overwrite current content from link?");if(!t)return}S.showLoader();var n=e.shift();x.getIframely(n,function(e){e.listly_type==S.get("type")||S.get("type")=="link"?(r.find(".help-block").removeAttr("style"),(itunes_id=Listly.utils.isiTunesURL(n))?k.parseiTunesURL(n,itunes_id):Listly.utils.isValidURL(n)&&k.parseEmbedly(n)):(r.find(".help-block").css("color","red"),S.hideLoader())})};var O=function(){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){r.html("To use this feature, please upgrade your browser to IE10, Opera 24, Android 4.4, Chrome 13 or Firefox 4");return}a=!1,l=!1,f=!1,$.each(t.hiddenButtons||[],function(e,t){E[t]=!1}),r.addClass("quick-add-box clearfix").html(SHT["item/additem"]()),A.attach(),t.list&&S.set("list_code",t.list),t.item?(S.populateItem(t.item),u="update"):t.seed?(a=!0,S.preProcess(t.seed)):r.find(".add_menu").html(SHT["item/add_menu"](E)).fadeIn(),t.listpicker&&($(t.listpicker).appendTo(r.find(".add_listpicker")),S.set("list_code",r.find("#to_pickin").val()),r.find(".add_listpicker").show()),r.find(".add_menu").attr("data-premium",t.premium),C.init()};O()},Listly.QuickAddExperience=function(e,t){Listly.QuickAddItems={};var n=this,r=$("#new_item_button"),i=function(){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){$("#list-quickadd").hide();return}$("document").ready(function(){n.addItem({list:e,premium:t})}),$(document).on("touchclick","#new_item_button",function(){return hideMessage(),n.addItem({list:e,premium:t}),$(this).hide(),!1}).on("touchclick","#bulk_submit_button",function(){var e=$("#bulk_items").val()==$("#bulk_items").attr("data-placeholder")?"":$("#bulk_items").val();n.bulkItems(e),$.listlybox.close()}).on("listly.quickadd.itemschanged",function(){setTimeout(function(){s.arrange()},100)}).on("touchclick","#save_quickadd",function(){hideMessage(),saveItems()})},s={status:function(){var e=[],t=[],n=[];return $(".qa-series").each(function(){key=$(this).attr("data-qid"),Listly.QuickAddItems[key].processed()?Listly.QuickAddItems[key].saved()?n.push(key):e.push(key):t.push(key)}),{pending_keys:e,blank_keys:t,saved_keys:n}},arrange:function(){var e=s.status();hideMessage(),e.pending_keys.length>0?($("#new_item_button").show(),$("#save_quickadd").show()):($("#new_item_button").hide(),$("#save_quickadd").hide()),$.each(e.blank_keys,function(t,n){if(t>0||t==0&&e.pending_keys.length>0)Listly.QuickAddItems[n].delete(),delete Listly.QuickAddItems[n]}),e.pending_keys.length==0&&$.each(e.saved_keys,function(e,t){Listly.QuickAddItems[t].delete(),delete Listly.QuickAddItems[t],doneSaving()})}};saveItems=function(){var e=0,t=0,n=0,r=[],i=[],o=[];keys_status=s.status(),keys_status.pending_keys.length<1?(showMessage
("info","Anything more than zero would be a good number. Try again!"),$("#save_quickadd").val("Save All").removeAttr("disabled")):($("#new_item_button").hide(),$.each(keys_status.blank_keys,function(e,t){Listly.QuickAddItems[t].delete(),delete Listly.QuickAddItems[t]}),$("#save_quickadd").val("Please wait...").attr("disabled","disabled"),showMessage("info","Take a deep breath while we save your work...",!0),saveItemsAsync(keys_status.pending_keys,keys_status.pending_keys.length,0,0,0))},saveItemsAsync=function(t,n,r,i,s){var o=t.shift();Listly.QuickAddItems[o].save({callback:function(o,u){o?r++:i++,s+=1;if(s==n)if(i==0)Listly.Analytics.event("New List Experience","Item",e+":"+$(".quick-add-box").length),showMessage("success","Saved "+n+" items to list. Refreshing list...",!0),setTimeout(doneSaving,3e3);else{var a=i==1?"1 item":i+" items";showMessage("danger","Oops, "+a+" could not be saved. Please check and retry.",!1),$("html, body").animate({scrollTop:$(".quick-add-box.error").offset().top-100},"slow"),$("#save_quickadd").val("Save All").removeAttr("disabled")}else showMessage("success","Saving "+s+" out of "+n,!0),saveItemsAsync(t,n,r,i,s)}})},this.bulkItems=function(r){var i=[],s=r.split(/\n/);for(var o=0;o<Math.min(50,s.length);o++)if(/\S/.test(s[o])){var u=$.trim(s[o]);u.match(/(@([\w-]+))/gi)&&(u=u.replace(/(@([\w-]+))/gi,"https://twitter.com/$2")),i.push(u)}$.each(i,function(r,i){n.addItem({seed:i,list:e,premium:t})})},this.addItem=function(e){var t=Math.floor(Math.random()*1000001),n=$("<div></div>").attr("class","qa-series").attr("data-qid",t).attr("data-count","multiple").attr("data-button-text","Save");r.closest("div").before(n),Listly.QuickAddItems[t]=new Listly.AddItem(n,e)},this.pending=function(e){return s.status().pending_keys.length>0?!0:!1},doneSaving=function(){$(document).trigger("listly.refreshListByNewest"),$("html, body").animate({scrollTop:$(".ly-body").offset().top},"slow");for(var r in Listly.QuickAddItems)delete Listly.QuickAddItems[r];$(".quick-add-box").remove(),$("#new_item_button").hide(),$("#save_quickadd").val("Save All").removeAttr("disabled").hide(),n.addItem({list:e,premium:t}),hideMessage()},hideMessage=function(){$(".on_return").hide()},showMessage=function(e,t,n){n&&(t="<i class='ly-icon-spinner ly-icon-spin'></i> "+t),$(".on_return").removeClass("alert-success alert-info alert-danger").addClass("alert-"+e).html(t).slideDown("slow")},i()},Listly.utils=Listly.utils||{},Listly.Regexp=Listly.Regexp||{},Listly.Regexp.TW_HANDLE=/^@([\w-]+)$/,Listly.Regexp.TW_PROFILE_URL=/^(https?:\/\/)?(www\.)?twitter\.com\/(#!\/)?@?([a-zA-Z0-9_]+)\/?$/,Listly.Regexp.TW_LIST_URL=/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/(?:#!\/)?([a-zA-Z0-9_]+)(?:\/lists)?\/([a-zA-Z0-9_-]+)$/,Listly.Regexp.ITUNES_URL=/^(?:\s*)(?:(?:http|https):\/\/)?itunes.apple.com\/\S*id(\d+)\S*\s*$/i,Listly.utils.caps=function(e){return e.replace(/(\b)([a-zA-Z])/g,function(e){return e.toUpperCase()})},Listly.utils.isValidURL=function(e){var t=/^(\s*)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)\s*$/i;return t.test(e)},Listly.utils.isiTunesURL=function(e){return Listly.Regexp.ITUNES_URL.test(e)?Listly.Regexp.ITUNES_URL.exec(e)[1]:!1},Listly.utils.getObjectSize=function(e){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t},Listly.utils.isTwitterHandle=function(e){var t=/^@([\w-]+)$/;return t.test(e)},Listly.utils.isTwitterURL=function(e){return Listly.Regexp.TW_PROFILE_URL.test(e)?Listly.Regexp.TW_PROFILE_URL.exec(e)[4]:!1},Listly.utils.googleAutoComplete=function(e,t){$.ajax({url:"https://clients1.google.com/complete/search?q="+e+"&hl=en&client=psy&source=gcsc&=cse&nocache="+Math.random().toString(),dataType:"jsonp",success:function(e){t($.map(e[1],function(e){return Listly.utils.caps(e[0].replace(/(<([^>]+)>)/ig,""))}))}})},Listly.utils.delay=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();var list_autocomplete=function(e){e.select2({createSearchChoice:function(e,t){return{new_list:!0,list_id:"0:"+e,title:e,description:"&lt;CREATE NEW LIST&gt;",self:!0}},placeholder:"Search for a list",allowClear:!0,minimumInputLength:4,id:function(e){return e.list_id},ajax:{url:"/api/v2/autocomplete/list",dataType:"jsonp",quietMillis:1e3,data:function(e,t){return{term:e,page_limit:10}},results:function(e,t){return{results:e.results}}},sortResults:function(e,t,n){return n.term?e.sort(function(e,t){return t.self&&!e.self||t.new_list?1:-1}):e},initSelection:function(e,t){var n=$(e).val();if(n!==""){var r=$(e).attr("data-title");t({list_id:n,title:r})}},formatResult:function(e){var t="<table class='list-result'><tr>";return t+="<td class='list-image'>",e.image!==undefined&&(t+="<img src='"+e.image[0]+"'/>"),t+="</td>",t+="<td class='list-info'><div class='list-title'>"+e.title+"</div>",e.description!==null&&(t+="<div class='list-description'>"+e.description.substring(0,60)+"</div>"),e.user_image!==undefined&&(t+="<td class='user-image'><img src='"+e.user_image+"'/></td>"),t+="</td></tr></table>",t},formatSelection:function(e){return e.new_list!==undefined?e.title+" [New List]":e.title},dropdownCssClass:"list_ac",formatResultCssClass:function(){return"list_ac_result"},escapeMarkup:function(e){return e}})},user_autocomplete=function(e){e.select2({placeholder:"Search for user",allowClear:!0,minimumInputLength:3,id:function(e){return e.id},ajax:{url:"/api/v2/autocomplete/user",dataType:"jsonp",quietMillis:1e3,data:function(e,t){return{term:e,page_limit:10}},results:function(e,t){return{results:e.results}}},initSelection:function(e,t){var n=$(e).val();if(n!==""){var r=$(e).attr("data-name");t({id:n,name:r})}},formatResult:function(e){var t="<table class='list-result'><tr>";return t+="<td class='list-image'>",e.image!==undefined&&(t+="<img src='"+e.image+"'/>"),t+="</td>",t+="<td class='list-info'><div class='list-title'>"+e.name+"</div>",t+="<div class='list-description'>"+e.screen_name+"</div>",t+="</td></tr></table>",t},formatSelection:function(e){return e.name+" <em style='color:#b8b8b8; font-size:13px;'>"+e.screen_name+"</em>"},dropdownCssClass:"list_ac",formatResultCssClass:function(){return"list_ac_result"},escapeMarkup:function(e){return e}})};$(document).ready(function(){$("#unsubscribe input[type='checkbox']").bootstrapSwitch().on("switchChange.bootstrapSwitch",function(e,t){$("#unsubscribe").submit()}),$("#deleteme").on("touchclick",function(){$(this).hide(),$("#really-delete").show().bind("ajax:success",function(e,t){$(this).hide(),t.status=="ok"?($("#delete-redirect").addClass("alert alert-success").html("<i class='ly-icon-spinner'> </i> Account deleted. Redirecting...").show(),parent.window.location.href="/"):$("#delete-redirect").addClass("alert alert-danger").html("There was a slight hiccup. <a href='mailto:support@list.ly?subject=Could not delete account&body=Hi! I encountered an error on Listly when I tried to delete my account:"+Listly.User.screen_name+"'>Email Us</a>").show()})}),$("#getapikey").on("click",function(){var e=!0;$("#apikey").data("apikey")!=undefined&&(e=confirm("Regenerating api key will make current key invalid immeditely. Are you sure?")),e&&($("#getapikey").html("Hang on...").attr("disabled","disabled"),$.ajax({url:"/"+Listly.User.screen_name+"/api_key",cache:!1,success:function(e){e.status=="ok"?($("#apikey").html(e.api_key).data("apikey",e.api_key),$("#getapikey").html("Regenerate API Key")):($("#apikey").html("").removeData("apikey"),$("#getapikey").html("Generate an API Key"))},error:function(){alert("Error generating api key. Try again."),$("#apikey").html("").removeData("apikey"),$("#getapikey").html("Generate an API Key")},complete:function(){$("#getapikey").removeAttr("disabled").html("Generate an API Key")}}))});if($("#edit-user-info .listly-file-upload").length){fp_elem=document.getElementById("profileupload");var e={file_input:fp_elem,access_key:"AKIAJDJ55DQIDSA5K3SQ",content_type:"application/octet-stream",bucket:"listly-temp",accepted_extensions:"png,PNG,gif,GIF,jpg,JPEG",ajax_base:"/uploads",max_size:10737418.24,chunk_size:(1<<30)/99,on_error:function(){console.log("error")},on_select:function(e){$(fp_elem).closest(".fp-container").hide().siblings(".progress").show()},on_start:function(e){$(fp_elem).closest(".fp-container").siblings(".progress").find(".progress-bar").css("width","0%").text("0%")},on_progress:function(e,t){var n=parseInt(e/t*100)+"%";$(fp_elem).closest(".fp-container").siblings(".progress").find(".progress-bar").css("width",e/t*100+"%").text(n)},on_complete:function(){mule_upload(e);var t="https://listly-temp.s3.amazonaws.com/"+this.settings.key;$.ajax({url:"/"+Listly.User.screen_name+"/display_picture?key="+t,success:function(e){$("#display-picture").attr("src",e.image),$("#header_profile").attr("src",e.image)},error:function(){},complete:function(){$(fp_elem).closest(".fp-container").show(),$(fp_elem).closest(".fp-container").siblings(".progress").hide().find(".progress-bar").css("width","0%")}})}};mule_upload(e)}$("#settingspage.usersettings").length&&($("#edit-user-info").find('input[type="submit"]').removeAttr("disabled"),$(document).on("ajax:success","form#edit-user-info",function(e,t){t.status=="ok"?t.screen_name_changed?location.reload():$("#information-message").html(t.message).fadeIn(2e3).removeClass("alert-danger").addClass("alert-success"):$("#information-message").html(t.message).fadeIn(2e3).removeClass("alert-success").addClass("alert-danger")}).on("ajax:error","form#edit-user-info",function(e,t){$("#information-message").html("Error Saving Profile!").fadeIn(2e3).removeClass("alert-success").addClass("alert-danger")}).on("ajax:success","#disconnect-button",function(e,t,n){$("#results").html(t),$("#networks-message").html("Network disconnected").fadeIn(2e3).removeClass("alert-danger").addClass("show").addClass("alert-success")}).on("listly.settings.connected",function(e,t){$("#settingspage.usersettings .networks").length&&Listly.User.screen_name&&$.ajax({url:"/"+Listly.User.screen_name+"/networks",data:{provider:t},success:function(e){$(".networks").replaceWith(e),$("#networks-message").html("Account linked successfully").fadeIn(2e3).removeClass("alert-danger").addClass("alert-success")},error:function(e,t,n){$("#networks-message").html("Account not linked").fadeIn(2e3).removeClass("alert-success").addClass("alert-danger")}})})),$("#settingspage").length&&($("#selectAllNotification").click(function(){var e=this.checked;$("#notifications").find(":checkbox").each(function(){$(this).prop("checked",e)})}),$("#notifications input:checkbox:unchecked").length>$("#notifications input:checkbox:checked").length&&$("#selectAllNotification").prop("checked","")),$.each($("input.uac"),function(){user_autocomplete($(this))}),$("#teamadd").click(function(){var e=$(this);$inp=e.prevAll("input"),dom_text=e.html();if($inp.val()=="")return alert("please select a user to add"),!1;$.ajax({url:"/"+Listly.User.screen_name+"/team_add?member="+$inp.val(),success:function(t){t.status=="ok"?(e.html(dom_text),e.closest("#my_team").find("table").append(t.html),e.closest("#my_team").find(".no-members").attr("data-size",t.team_size),e.closest("#my_team").find(".upgrade-members").attr("data-over",t.team_size>t.team_limit),e.closest("#my_team").find("tr").addClass("success").removeClass("error").slice(t.team_limit,t.team_size).removeClass("success").addClass("error")):(alert("Error: "+t.message),e.html(dom_text)),e.removeAttr("disabled"),$inp.select2("val","")},beforeSend:function(){e.attr("disabled","disabled"),e.html('<i class="ly-icon-refresh ly-icon-spin"></i> Adding...')},error:e.html(dom_text)})}),$(".team_box").on("ajax:success","a.drop",function(e,t,n,r){var i=$(this).closest(".team_box");$(this).closest("tr").remove(),i.find(".no-members").attr("data-size",t.team_size),i.find(".upgrade-members").attr("data-over",t.team_size>t.team_limit),i.find("tr:lt("+t.team_limit+")").removeClass("error").addClass("success"),i.find("tr:gt("+(t.team_limit-1)+")").removeClass("success").addClass("error")}).on("ajax:success","a.leave",function(e,t,n,r){var i=$(this).closest(".team_box");$(this).closest("tr").remove(),i.find(".no-members").attr("data-size",i.find("tr").size())}).on("ajax:error","a.drop",function(e,t,n,r){alert("Error: "+t.message)}),$(".inactive-team-member").popover()}),function(){window.console||(window.console={log:function(){}}),Listly.defaultImage=function(e){return e.onerror="",e.src=Listly.Settings.ROOT+"/assets/defaults/missing-image.png"},Listly.defaultProfileImage=function(e){return e.onerror="",e.src=Listly.Settings.ROOT+"/assets/defaults/default-profile-image.png"},Listly.addParametersToUrl=function(e,t){var n;return n=e.indexOf("?")!=-1?e.split("?")[0]+"?"+t+"&"+e.split("?")[1]:e.indexOf("#")!=-1?e.split("#")[0]+"?"+t+"#"+e.split("#")[1]:e+"?"+t,n},Listly.getCookie=function(e){var t,n,r,i;i=e+"=",n=document.cookie.split(";"),r=0;while(r<n.length){t=n[r];while(t.charAt(0)===" ")t=t.substring(1,t.length);if(t.indexOf(i)===0)return t.substring(i.length,t.length).replace(/"/g,"");r++}},Listly.findBootstrapEnvironment=function(){var e,t,n,r;n=["xs","sm","md","lg"],e=$("<div>"),e.appendTo($("body")),r=n.length-1;while(r>=0){t=n[r],e.addClass("hidden-"+t);if(e.is(":hidden"))return e.remove(),t;r--}},Listly.setProtocol=function(){return Listly.Settings.SECURE==="false"?"http:":"https:"},$(function(){$("input, textarea").placeholder(),$(window).on({scroll:function(){return $(this).scrollTop()>100&&!$("#listly-smartbar-content").hasClass("lsm-expanded")?$("#listly-smartbar-content").addClass("lsm-hidden").removeClass("lsm-expanded"):$("#listly-smartbar-content").removeClass("lsm-hidden")}}),$(document).on("ready",function(){if(Listly.User.authenticated&&!Listly.getCookie("listly-campaign-timeout")&&typeof listlyMinimal=="undefined"&&typeof listlyNoCampaign=="undefined")return $.ajax("/campaign",{success:function(e){if(e.campaign!==null)return $("#listly-smartbar").html(e.campaign),$("#listly-smartbar").removeClass("hide")}})}).on("touchclick",".forced-campaign",function(){return $.ajax("/campaign?campaign="+$(this).data("campaign"),{success:function(e){if(e.campaign!==null)return $("#listly-smartbar").html(e.campaign),$("#listly-smartbar").removeClass("hide")}})}).on("ajaxStart",function(){return $(".navbar .working").html("working...").show()}).on("ajaxComplete",function(){return $(".navbar .working").hide()}).on("reveal.listlybox",function(){if(Listly.findBootstrapEnvironment()==="xs")return $("body").addClass("modal-open")}).on("close.listlybox",function(){return $("body").removeClass("modal-open")}).on("touchclick","#listly-smartbar-header .lsm-expand-bar, #listly-smartbar-body .lsm-contract-bar",function(){return $("#listly-smartbar-content").hasClass("lsm-expanded")?($("#listly-smartbar-content").removeClass("lsm-expanded lsm-hidden"),$("#listly-smartbar-content").removeAttr("style")):($("#listly-smartbar-content").addClass("lsm-expanded").removeClass("lsm-hidden"),$("#listly-smartbar-content").height($(window).height()))}).on("touchclick",".ly-hl-da",function(){return Listly.Analytics.event("Clicked on Headline","List"),$("html, body").animate({scrollTop:$(".ly-header").offset().top-75},"slow")}).on("inview",".listly-ad-start",function(e,t,n,r){var i,s;if(t)if(r==="top"){s=(new Date).getTime(),i=Number($("#listly-slider-ad").data("lastshown"))||0;if(s-i>18e4)return $("#listly-slider-ad").slideDown()}else r==="bottom"}).on("inview","#list-related img.grey_image",function(){var e;return e=$(this),e.one("load",function(e){return $(this).removeClass("grey_image")}),e.attr("src",e.attr("data-src"))}).on("inview",".listly-ad-end",function(e,t,n,r){if(!t&&$("#listly-slider-ad").is(":visible"))return $("#listly-slider-ad").data("lastshown",(new Date).getTime()).slideUp()}).on("listly.authcomplete listly.disconnect",function(){return $.ajax("/signin/user_auth",{success:function(e){return $("li#newsfeed-icon").remove(),$("#user").replaceWith(e),$(document).trigger("listly.update_newfeed_header")}}),Listly.User.authenticated?($("body").removeClass("unknown").addClass("known"),$(".list-block.list-upsell").parent().parent().hide(),$(".listly-upsell-item").remove()):($("body").removeClass("known").addClass("unknown"),$(".list-block.list-upsell").parent().parent().show())}).on("click","a.trending-embed-link",function(e){var t,n;return e.preventDefault(),n=$(this).attr("href"),t="utm_campaign=listly_trending&utm_source=listly&utm_medium=listly_web",window.open(Listly.addParametersToUrl(n,t),"_new")}).on("click",".campaign-content a, .campaign-content button",function(e){if($(this).is("[data-campaign-category]"))return Listly.Analytics.event($(this).attr("data-campaign-action"),$(this).attr("data-campaign-category"),$(this).attr("data-campaign-label"))}).on("click",".today_tagger",function(){var e,t;return e=$(this),t=e.text(),$.ajax("/recents/"+e.attr("data-list")+"/tag?tag="+e.attr("data-tag"),{type:"PUT",dataType:"html",success:function(t){return e.parent().html(t)},beforeSend:function(){return e.attr("disabled","disabled"),e.html("Working...")},error:function(){return e.html(t)}})}).on("click","#follow_user",function(){var e,t;return Listly.User.authenticated?(e=$(this),t=e.html(),$.ajax("/"+e.attr("data-user")+"/"+e.attr("data-op"),{success:function(t){return e.replaceWith(t)},beforeSend:function(){return e.attr("disabled","disabled"),e.find("span").text("Working...")},error:function(){return e.html(t)}})):$(document).trigger("listly.signin",[{trigger:"Follow User"}])}).on("click",".join_button",function(){return $(document).trigger("listly.signin",[{trigger:"Site Banner",title:"Join Listly — it's free and easy!"}])}).on("click",".sidebar_join_button",function(){return $(document).trigger("listly.signin",[{trigger:"Sidebar Join Button",title:"Join Listly — it's free and easy!"}])}).on("click","#header_signin",function(){return $(document).trigger("listly.signin",[{trigger:"Site Header",title:"Sign in to Listly"}])}).on("click","#invite_signin",function(){return $(document).trigger("listly.signin",[{go_to:Listly.go_to,trigger:"Invite",title:"Signin to Accept Invite"}])}).on("click",".about-signin-footer",function(){return $(document).trigger("listly.newlist"),Listly.Analytics.event("Clicked on Make List","About","footer"),!1}).on("click",".about-signin-banner",function(){return $(document).trigger("listly.newlist"),Listly.Analytics.event("Clicked on Make List","About","banner"),!1}).on("mousedown","#letsmakealist",function(){return $("#listly-smartbar-content").removeClass("lsm-expanded lsm-hidden"),$("#listly-smartbar-content").removeAttr("style"),Listly.User.list_count===0?$(document).trigger("listly.letsmakealist"):$(document).trigger("listly.newlist")}).on("mousedown",".make_list_first_time",function(){return Listly.Analytics.event("Clicked on Make List from Lets Make a List","List","header"),$(document).trigger("listly.newlist")}).on("mousedown",".make_list, .makealist",function(){return Listly.User.list_count===0?$(document).trigger("listly.letsmakealist"):$(document).trigger("listly.newlist"),Listly.Analytics.event("Clicked on Make List","List","header")}).on("listly.letsmakealist",function(){return Listly.User.authenticated?$.listlybox({ajax:"/campaign/lets-make-a-list"},"","Let's make a list!"):$(document).trigger("listly.signin",[{trigger:"Make List",trigger_on_signin:"listly.newlist",title:"Signin to Make a List"}])}).on("listly.newlist",function(){return Listly.User.authenticated?($.listlybox({ajax:"/list/new"},"","Make a new list"),$(".lboxpopup .lboxheader:nth-child(2)").remove()):$(document).trigger("listly.signin",[{trigger:"Make List",trigger_on_signin:"listly.newlist",title:"Signin to Make a List"}])}).on("mousedown",".close_modal",function(){return $(".close_lb").click()}).on("click","button.go_premium",function(){return Listly.Analytics.event("Clicked on Go Premium","Premium","header"),document.location.href="/upgrade"}).on("click","a#bookmarklet",function(e){return Listly.Analytics.event("Clicked on Bookmarklet","Bookmarklet","header")}).on("click","#relatedlist a",function(e){return Listly.Analytics.event("Clicked Related List","List",encodeURIComponent($(this).attr("href")))}).on("click","a#aboutlistly a",function(e){return Listly.Analytics.event("Clicked on About Us","Site","banner")}).on("click",".getlistly",function(){return Listly.User.authenticated?document.location.href="/publishers/landing":$(document).trigger("listly.signin",[{go_to:"/publishers/landing",trigger:"Publisher"}])}).on("click",".invite_friends_list",function(){return Listly.User.authenticated?document.location.href=$(this).attr("data-href"):$(document).trigger("listly.signin",[{go_to:$(this).attr("data-href"),trigger:"Invite Friends",title:"Signin to Invite Friends"}])}).on("click",".tweetitem",function(e){var t,n,r;return e.preventDefault(),n="Sharing item '"+$(this).attr("data-name")+"' in list '"+$(this).attr("data-list")+"'",t=Listly.Settings.ROOT+"/i/"+$(this).attr("data-id"),r="https://twitter.com/intent/tweet?url="+t+"&text="+n+"&via=listly",Listly.Analytics.event("Shared on Twitter","Bookmarklet"),window.open(r,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no"),!1}).on("mouseenter",".listly-help",function(e){return $(this).popover("show")}).on("mouseleave",".listly-help",function(e){return $(this).popover("hide")}).on("click",".fbshare",function(e){var t,n;return e.preventDefault(),t=Listly.Settings.ROOT+"/i/"+$(this).attr("data-id"),n="https://www.facebook.com/sharer.php?u="+t,Listly.Analytics.event("Shared on Facebook","Bookmarklet"),window.open(n,"_blank","width=620,height=380,left=200,top=50,scrollbars=yes,location=yes,status=no"),!1}).on("click","#unread",function(e){var t;return $(this).hide(),t=document.elementFromPoint(event.pageX,event.pageY),$(this).show(),$(t).trigger("click")}).on("ajax:success",".list-fave a",function(e,t,n){return t.action==="follow"?$(this).attr("href","list/"+t.list_id+"/unfollow").attr("title","You faved this").attr("data-followed",!0):$(this).attr("href","list/"+t.list_id+"/follow").attr("title","Fave this").attr("data-followed",!1)}).on("click",".add_image",function(){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return alert("For Image uploads to work, please upgrade your browser to IE10, Opera 24, Android 4.4, Chrome 13 or Firefox 4")});if($("#site-activity").length)return $(document).on("ajax:success",".pagination a",function(e,t,n){$("#site-activity").html(t);if(history&&history.pushState)return history.pushState(null,"",this.href)})})}.call(this),function(){var e,t;$(function(){return $(document).on("switchChange.bootstrapSwitch","#twitter_list",function(n,r){return r?$("#twitter_list_section").data("twitter-user")?$("#twitter_list_section").data("twitter-user")===!0?e():t():$.get("/"+Listly.User.screen_name+"/networks",{provider:"twitter"}).done(function(){return $("#twitter_list_section").data("twitter-user",!0),e()}).fail(function(){return $("#twitter_list_section").data("twitter-user",!1),t()}):($("#nested-twitter-list").hide(),$("#pickin_twitter_list_attributes_tw_listname, #pickin_twitter_list_attributes_tw_listslug, #pickin_twitter_list_attributes_tw_private, #pickin_twitter_list_attributes_tw_listid").prop("disabled",!0).addClass("disabled"))}).on("change","select#pickin_twitter_list_attributes_tw_listid",function(){var e,t,n,r;return n=$("#pickin_twitter_list_attributes_tw_listid :selected"),t=n.text().replace(/^Listly: /,""),n.val()===""&&(t=""),r=n.data("slug"),e=n.data("mode"),$("#pickin_twitter_list_attributes_tw_listid, #pickin_twitter_list_attributes_tw_listslug, #pickin_twitter_list_attributes_tw_private").prop("disabled",!1).removeClass("disabled"),$("#nested-twitter-list #pickin_twitter_list_attributes_tw_listslug").val(r),$("#nested-twitter-list #pickin_twitter_list_attributes_tw_private").val(e==="private"),$("#nested-twitter-list #pickin_twitter_list_attributes_tw_listname").val(t)}).on("click","#back-to-list-creation",function(e){return e.preventDefault(),$("#required-twitter-template").remove(),$(".fb_content .listly_editor").scrollTop($(this).height()).show(),$("#twitter_list").bootstrapSwitch("state",!1)})}),e=function(){var e;return $("#nested-twitter-list #pickin_twitter_list_attributes_tw_listname").prop("disabled",!1),$("#nested-twitter-list").show(),$("#pickin_twitter_list_attributes_tw_listid:not(:has(option))")&&(e=$("#pickin_twitter_list_attributes_tw_listid"),$.get("/twitter/lists?unique=true").done(function(t){var n,r,i;return n=$.parseJSON(t.lists),t.message!=="ok"?$("#nested-twitter-list #twitter_error").html(t.message):$("#nested-twitter-list #twitter_error").html(""),e=$("#pickin_twitter_list_attributes_tw_listid"),e.find("option[value='']").text("Sync with").attr("selected",!0).attr("id","default-option"),i=$("<optGroup/>").attr("label","Public Lists").appendTo(e),r=$("<optGroup/>").attr("label","Private Lists").appendTo(e),$.each(n,function(e){return this.mode==="public"?i.append($("<option />").val(this.id).html(this.name).attr("data-slug",this.slug).attr("data-mode",this.mode)):r.append($("<option />").val(this.id).html(this.name).attr("data-slug",this.slug).attr("data-mode",this.mode))})}).fail(function(t,n,r){var i;return e=$("#pickin_twitter_list_attributes_tw_listid"),e.find("option[value='']").text("Something failed").attr("selected",!0),i=$.parseJSON(t.responseText).message,$("#nested-twitter-list #twitter_error").html(i)})),$("#pickin_twitter_list_attributes_tw_listname").val(""),$(" #pickin_twitter_list_attributes_tw_listid, #pickin_twitter_list_attributes_tw_listslug,#pickin_twitter_list_attributes_tw_private").prop("disabled",!1).removeClass("disabled"),$("#pickin_twitter_list_attributes_tw_listid>option:eq(0)").prop("selected",!0),$("#pickin_twitter_list_attributes_tw_listname").hide(),$("#pickin_twitter_list_attributes_tw_listid").show()},t=function(){var e;return e=SHT["twitter_lists/required_notice"],$(".fb_content").append(e),$(".fb_content .listly_editor").hide(),$(".fb_content").scrollTop(0)}}.call(this),function(){$(function(){$(document).on("ajax:send",".pagination a",function(e,t,n){return $(".search-loader").show()}),$("#userpage").length&&($(".followers").length||$(".following").length||$(".discover_friends").length)&&$(document).on("ajax:success",".pagination a",function(e,t,n){$("#results #userscards").html(t);if(history&&history.pushState)return history.pushState(null,"",this.href)});if($("#userpage").length&&$("#userlists").length)return $(document).on("ajax:success",".pagination a",function(e,t,n){$("#results #userlists").html(t);if(history&&history.pushState)return history.pushState(null,"",this.href)})})}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){var n=this;this.page=e!=null?e:1,this.render=t(this.render,this),this.embedCheck=t(this.embedCheck,this),this.nearBottom=t(this.nearBottom,this),this.check=t(this.check,this),$(window).scroll(this.check),$("#embeds_only").on("switchChange.bootstrapSwitch",function(e,t){return n.embedCheck(e,t)}),$(".list-embed").tooltip({html:!1,placement:"right"})}return e.prototype.check=function(){if(this.nearBottom())return this.page++,$(window).unbind("scroll",this.check),$.getJSON($("#trending").data("json-url"),{page:this.page,type:$("#trending").data("type")},this.render)},e.prototype.nearBottom=function(){return $(window).scrollTop()>$(document).height()-$(window).height()-100},e.prototype.embedCheck=function(e,t){var n,r;return n=$(t.el),r=t.value,r?$("#trending").addClass("embeds_only").find(".trending-embed-link").show():$("#trending").removeClass("embeds_only").find(".trending-embed-link").hide()},e.prototype.render=function(e){var t;t=e.lists,$("#trending ol").append(SHT["list/listview"](t));if(t.length>0)return $(window).scroll(this.check)},e}(),$(function(){return $("#trending ol").length&&new e,$("#embeds_only").bootstrapSwitch()})}.call(this),$(document).on("click","#feeds-follow_user",function(e){e.preventDefault(e);if(Listly.User.authenticated){var t=$(this),n=t.html();$.ajax({url:"/"+t.attr("data-user")+"/follow",success:function(e){t.replaceWith("Following this User"),Listly.Analytics.event("Clicked on Follow User","Newsfeed",t.attr("data-user"))},beforeSend:function(){t.attr("disabled","disabled"),t.find("span").text("Working...")},error:t.html(n)})}else $(document).trigger("listly.signin",[{trigger:"Follow User"}])}).on("click","#feeds-follow_list",function(e){e.preventDefault(e);var t=$(this),n="/list/"+t.data("list")+"/follow?callback=?";$.getJSON(n,function(e){t.html("Following this List"),Listly.Analytics.event("Clicked on Follow List","Newsfeed",t.data("list"))})}).on("click",".feed-expand",function(){$(this).hide(),$(this).prev().slideDown()}).on("listly.update_newfeed_header",function(){Listly.User.unread_newsfeeds!="0"?($("#newsfeed-icon #unread").show(),$("#newsfeed-icon #unread").html(Listly.User.unread_newsfeeds),$("#newsfeed-icon i").addClass("active")):($("#newsfeed-icon #unread").hide(),$("#newsfeed-icon i").removeClass("active"))}),function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function f(t){var n={},r=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!r.test(t.name)&&(n[t.name]=t.value)}),n}function l(t,n){var r=this,i=e(r);if(r.value==i.attr("placeholder")&&i.hasClass(a.customClass))if(i.data("placeholder-password")){i=i.hide().nextAll('input[type="password"]:first').show().attr("id",i.removeAttr("id").data("placeholder-id"));if(t===!0)return i[0].value=n;i.focus()}else r.value="",i.removeClass(a.customClass),r==h()&&r.select()}function c(){var t,n=this,r=e(n),i=this.id;if(n.value===""){if(n.type==="password"){if(!r.data("placeholder-textinput")){try{t=r.clone().attr({type:"text"})}catch(s){t=e("<input>").attr(e.extend(f(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":r,"placeholder-id":i}).bind("focus.placeholder",l),r.data({"placeholder-textinput":t,"placeholder-id":i}).before(t)}r=r.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",i).show()}r.addClass(a.customClass),r[0].value=r.attr("placeholder")}else r.removeClass(a.customClass)}function h(){try{return document.activeElement}catch(e){}}var t=Object.prototype.toString.call(window.operamini)=="[object OperaMini]",n="placeholder"in document.createElement("input")&&!t,r="placeholder"in document.createElement("textarea")&&!t,i=e.valHooks,s=e.propHooks,o,u;if(n&&r)u=e.fn.placeholder=function(){return this},u.input=u.textarea=!0;else{var a={};u=e.fn.placeholder=function(t){var r={customClass:"placeholder"};a=e.extend({},r,t);var i=this;return i.filter((n?"textarea":":input")+"[placeholder]").not("."+a.customClass).bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder"),i},u.input=n,u.textarea=r,o={get:function(t){var n=e(t),r=n.data("placeholder-password");return r?r[0].value:n.data("placeholder-enabled")&&n.hasClass("placeholder")?"":t.value},set:function(t,n){var r=e(t),i=r.data("placeholder-password");return i?i[0].value=n:r.data("placeholder-enabled")?(n===""?(t.value=n,t!=h()&&c.call(t)):r.hasClass(a.customClass)?l.call(t,!0,n)||(t.value=n):t.value=n,r):t.value=n}},n||(i.input=o,s.value=o),r||(i.textarea=o,s.value=o),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+a.customClass,this).each(l);setTimeout(function(){t.each(c)},10)})}),e(window).bind("beforeunload.placeholder",function(){e("."+a.customClass).each(function(){this.value=""})})}}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/
i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}),!function(e){"use strict";var t=function(t,n){this.$ns="bootstrap-markdown",this.$element=e(t),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=e.extend(!0,{},e.fn.markdown.defaults,n,this.$element.data(),this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};t.prototype={constructor:t,__alterButtons:function(t,n){var r=this.$handler,i=t=="all",s=this;e.each(r,function(e,r){var o=!0;i?o=!1:o=r.indexOf(t)<0,o==0&&n(s.$editor.find('button[data-handler="'+r+'"]'))})},__buildButtons:function(t,n){var r,i=this.$ns,s=this.$handler,o=this.$callback;for(r=0;r<t.length;r++){var u,a=t[r];for(u=0;u<a.length;u++){var f,l=a[u].data,c=e("<div/>",{"class":"btn-group"});for(f=0;f<l.length;f++){var h=l[f],p,d,v=i+"-"+h.name,m=this.__getIcon(h.icon),g=h.btnText?h.btnText:"",y=h.btnClass?h.btnClass:"btn",b=h.tabIndex?h.tabIndex:"-1",w=typeof h.hotkey!="undefined"?h.hotkey:"",E=typeof jQuery.hotkeys!="undefined"&&w!==""?" ("+w+")":"";p=e("<button></button>"),p.text(" "+this.__localize(g)).addClass("btn-default btn-sm").addClass(y),y.match(/btn\-(primary|success|info|warning|danger|link)/)&&p.removeClass("btn-default"),p.attr({type:"button",title:this.__localize(h.title)+E,tabindex:b,"data-provider":i,"data-handler":v,"data-hotkey":w}),h.toggle==1&&p.attr("data-toggle","button"),d=e("<span/>"),d.addClass(m),d.prependTo(p),c.append(p),s.push(v),o.push(h.callback)}n.append(c)}}return n},__setListener:function(){var t=typeof this.$textarea.attr("rows")!="undefined",n=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",r=t?this.$textarea.attr("rows"):n;this.$textarea.attr("rows",r),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on("focus",e.proxy(this.focus,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)).on("change",e.proxy(this.change,this)),this.eventSupported("keydown")&&this.$textarea.on("keydown",e.proxy(this.keydown,this)),this.$textarea.data("markdown",this)},__handle:function(t){var n=e(t.currentTarget),r=this.$handler,i=this.$callback,s=n.attr("data-handler"),o=r.indexOf(s),u=i[o];e(t.currentTarget).focus(),u(this),this.change(this),s.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var n=e.fn.markdown.messages,r=this.$options.language;return typeof n!="undefined"&&typeof n[r]!="undefined"&&typeof n[r][t]!="undefined"?n[r][t]:t},__getIcon:function(e){return typeof e=="object"?e[this.$options.iconlibrary]:e},setFullscreen:function(t){var n=this.$editor,r=this.$textarea;t===!0?(n.addClass("md-fullscreen-mode"),e("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(n.removeClass("md-fullscreen-mode"),e("body").removeClass("md-nooverflow")),this.$isFullscreen=t,r.focus()},showEditor:function(){var t=this,n,r=this.$ns,i=this.$element,s=i.css("height"),o=i.css("width"),u=this.$editable,a=this.$handler,f=this.$callback,l=this.$options,c=e("<div/>",{"class":"md-editor",click:function(){t.focus()}});if(this.$editor==null){var h=e("<div/>",{"class":"md-header btn-toolbar"}),p=[];l.buttons.length>0&&(p=p.concat(l.buttons[0])),l.additionalButtons.length>0&&(p=p.concat(l.additionalButtons[0])),l.reorderButtonGroups.length>0&&(p=p.filter(function(e){return l.reorderButtonGroups.indexOf(e.name)>-1}).sort(function(e,t){return l.reorderButtonGroups.indexOf(e.name)<l.reorderButtonGroups.indexOf(t.name)?-1:l.reorderButtonGroups.indexOf(e.name)>l.reorderButtonGroups.indexOf(t.name)?1:0})),p.length>0&&(h=this.__buildButtons([p],h)),l.fullscreen.enable&&h.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(l.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(e){e.preventDefault(),t.setFullscreen(!0)}),c.append(h);if(i.is("textarea"))i.before(c),n=i,n.addClass("md-input"),c.append(n);else{var d=typeof toMarkdown=="function"?toMarkdown(i.html()):i.html(),v=e.trim(d);n=e("<textarea/>",{"class":"md-input",val:v}),c.append(n),u.el=i,u.type=i.prop("tagName").toLowerCase(),u.content=i.html(),e(i[0].attributes).each(function(){u.attrKeys.push(this.nodeName),u.attrValues.push(this.nodeValue)}),i.replaceWith(c)}var m=e("<div/>",{"class":"md-footer"}),g=!1,y="";if(l.savable){g=!0;var b="cmdSave";a.push(b),f.push(l.onSave),m.append('<button class="btn btn-success" data-provider="'+r+'" data-handler="'+b+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}y=typeof l.footer=="function"?l.footer(this):l.footer,e.trim(y)!==""&&(g=!0,m.append(y)),g&&c.append(m),l.width&&l.width!=="inherit"&&(jQuery.isNumeric(l.width)?(c.css("display","table"),n.css("width",l.width+"px")):c.addClass(l.width));if(l.height&&l.height!=="inherit")if(jQuery.isNumeric(l.height)){var w=l.height;h&&(w=Math.max(0,w-h.outerHeight())),m&&(w=Math.max(0,w-m.outerHeight())),n.css("height",w+"px")}else c.addClass(l.height);this.$editor=c,this.$textarea=n,this.$editable=u,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',e.proxy(this.__handle,this));if(this.$element.is(":disabled")||this.$element.is("[readonly]"))this.$editor.addClass("md-editor-disabled"),this.disableButtons("all");this.eventSupported("keydown")&&typeof jQuery.hotkeys=="object"&&h.find('[data-provider="bootstrap-markdown"]').each(function(){var t=e(this),r=t.attr("data-hotkey");r.toLowerCase()!==""&&n.bind("keydown",r,function(){return t.trigger("click"),!1})}),l.initialstate==="preview"?this.showPreview():l.initialstate==="fullscreen"&&l.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return l.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),l.fullscreen.enable&&l.fullscreen!==!1&&(this.$editor.append('          <div class="md-fullscreen-controls">            <a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(l.fullscreen.icons.fullscreenOff)+'"></span></a>          </div>'),this.$editor.on("click",".exit-fullscreen",function(e){e.preventDefault(),t.setFullscreen(!1)})),this.hideButtons(l.hiddenButtons),this.disableButtons(l.disabledButtons),l.onShow(this),this},parseContent:function(){var e,t=this.$options.onPreview(this);if(typeof t=="string")e=t;else{var n=this.$textarea.val();typeof markdown=="object"?e=markdown.toHTML(n):typeof marked=="function"?e=marked(n):e=n}return e},showPreview:function(){var t=this.$options,n=this.$textarea,r=n.next(),i=e("<div/>",{"class":"md-preview","data-provider":"markdown-preview"}),s;this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),s=this.parseContent(),i.html(s),r&&r.attr("class")=="md-footer"?i.insertBefore(r):n.parent().append(i),i.css({width:n.outerWidth()+"px",height:n.outerHeight()+"px"}),this.$options.resize&&i.css("resize",this.$options.resize),n.hide(),i.data("markdown",this);if(this.$element.is(":disabled")||this.$element.is("[readonly]"))this.$editor.addClass("md-editor-disabled"),this.disableButtons("all");return this},hidePreview:function(){this.$isPreview=!1;var e=this.$editor.find('div[data-provider="markdown-preview"]');return e.remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(e){return this.$textarea.val(e),this},findSelection:function(e){var t=this.getContent(),n;if(n=t.indexOf(e),n>=0&&e.length>0){var r=this.getSelection(),i;return this.setSelection(n,n+e.length),i=this.getSelection(),this.setSelection(r.start,r.end),i}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(e,t){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=e,n.selectionEnd=t;return}||function(){return null})()},replaceSelection:function(e){var t=this.$textarea[0];return("selectionStart"in t&&function(){return t.value=t.value.substr(0,t.selectionStart)+e+t.value.substr(t.selectionEnd,t.value.length),t.selectionStart=t.value.length,this}||function(){return t.value+=e,jQuery(t)})()},getNextTab:function(){if(this.$nextTab.length==0)return null;var e,t=this.$nextTab.shift();return typeof t=="function"?e=t():typeof t=="object"&&t.length>0&&(e=t),e},setNextTab:function(e,t){if(typeof e=="string"){var n=this;this.$nextTab.push(function(){return n.findSelection(e)})}else if(typeof e=="number"&&typeof t=="number"){var r=this.getSelection();this.setSelection(e,t),this.$nextTab.push(this.getSelection()),this.setSelection(r.start,r.end)}return},__parseButtonNameParam:function(e){var t=[];return typeof e=="string"?t=e.split(","):t=e,t},enableButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,function(e,t){r.__alterButtons(n[e],function(e){e.removeAttr("disabled")})}),this},disableButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,function(e,t){r.__alterButtons(n[e],function(e){e.attr("disabled","disabled")})}),this},hideButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,function(e,t){r.__alterButtons(n[e],function(e){e.addClass("hidden")})}),this},showButtons:function(t){var n=this.__parseButtonNameParam(t),r=this;return e.each(n,function(e,t){r.__alterButtons(n[e],function(e){e.removeClass("hidden")})}),this},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},keyup:function(e){var t=!1;switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var n;if(n=this.getNextTab(),n!=null){var r=this;setTimeout(function(){r.setSelection(n.start,n.end)},500),t=!0}else{var i=this.getSelection();i.start==i.end&&i.end==this.getContent().length?t=!1:(this.setSelection(this.getContent().length,this.getContent().length),t=!0)}break;case 13:t=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),t=!1;break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault()),this.$options.onChange(this)},change:function(e){return this.$options.onChange(this),this},focus:function(t){var n=this.$options,r=n.hideable,i=this.$editor;return i.addClass("active"),e(document).find(".md-editor").each(function(){if(e(this).attr("id")!=i.attr("id")){var t;if(t=e(this).find("textarea").data("markdown"),t==null)t=e(this).find('div[data-provider="markdown-preview"]').data("markdown");t&&t.blur()}}),n.onFocus(this),this},blur:function(t){var n=this.$options,r=n.hideable,i=this.$editor,s=this.$editable;if(i.hasClass("active")||this.$element.parent().length==0){i.removeClass("active");if(r)if(s.el!=null){var o=e("<"+s.type+"/>"),u=this.getContent(),a=typeof markdown=="object"?markdown.toHTML(u):u;e(s.attrKeys).each(function(e,t){o.attr(s.attrKeys[e],s.attrValues[e])}),o.html(a),i.replaceWith(o)}else i.hide();n.onBlur(this)}return this}};var n=e.fn.markdown;e.fn.markdown=function(n){return this.each(function(){var r=e(this),i=r.data("markdown"),s=typeof n=="object"&&n;i||r.data("markdown",i=new t(this,s))})},e.fn.markdown.messages={},e.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(e){var t,n,r=e.getSelection(),i=e.getContent();r.length==0?t=e.__localize("strong text"):t=r.text,i.substr(r.start-2,2)=="**"&&i.substr(r.end,2)=="**"?(e.setSelection(r.start-2,r.end+2),e.replaceSelection(t),n=r.start-2):(e.replaceSelection("**"+t+"**"),n=r.start+2),e.setSelection(n,n+t.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(e){var t,n,r=e.getSelection(),i=e.getContent();r.length==0?t=e.__localize("emphasized text"):t=r.text,i.substr(r.start-1,1)=="_"&&i.substr(r.end,1)=="_"?(e.setSelection(r.start-1,r.end+1),e.replaceSelection(t),n=r.start-1):(e.replaceSelection("_"+t+"_"),n=r.start+1),e.setSelection(n,n+t.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(e){var t,n,r=e.getSelection(),i=e.getContent(),s,o;r.length==0?t=e.__localize("heading text"):t=r.text+"\n",(s=4,i.substr(r.start-s,s)=="### ")||(s=3,i.substr(r.start-s,s)=="###")?(e.setSelection(r.start-s,r.end),e.replaceSelection(t),n=r.start-s):r.start>0&&(o=i.substr(r.start-1,1),!!o&&o!="\n")?(e.replaceSelection("\n\n### "+t),n=r.start+6):(e.replaceSelection("### "+t),n=r.start+4),e.setSelection(n,n+t.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var n,r,i=t.getSelection(),s=t.getContent(),o;i.length==0?n=t.__localize("enter link description here"):n=i.text,o=prompt(t.__localize("Insert Hyperlink"),"http://");if(o!=null&&o!=""&&o!="http://"&&o.substr(0,4)=="http"){var u=e("<div>"+o+"</div>").text();t.replaceSelection("["+n+"]("+u+")"),r=i.start+1,t.setSelection(r,r+n.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var n,r,i=t.getSelection(),s=t.getContent(),o;i.length==0?n=t.__localize("enter image description here"):n=i.text,o=prompt(t.__localize("Insert Image Hyperlink"),"http://");if(o!=null&&o!=""&&o!="http://"&&o.substr(0,4)=="http"){var u=e("<div>"+o+"</div>").text();t.replaceSelection("!["+n+"]("+u+' "'+t.__localize("enter image title here")+'")'),r=i.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(r,r+n.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var n,r,i=t.getSelection(),s=t.getContent();if(i.length==0)n=t.__localize("list text here"),t.replaceSelection("- "+n),r=i.start+2;else if(i.text.indexOf("\n")<0)n=i.text,t.replaceSelection("- "+n),r=i.start+2;else{var o=[];o=i.text.split("\n"),n=o[0],e.each(o,function(e,t){o[e]="- "+t}),t.replaceSelection("\n\n"+o.join("\n")),r=i.start+4}t.setSelection(r,r+n.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var n,r,i=t.getSelection(),s=t.getContent();if(i.length==0)n=t.__localize("list text here"),t.replaceSelection("1. "+n),r=i.start+3;else if(i.text.indexOf("\n")<0)n=i.text,t.replaceSelection("1. "+n),r=i.start+3;else{var o=[];o=i.text.split("\n"),n=o[0],e.each(o,function(e,t){o[e]="1. "+t}),t.replaceSelection("\n\n"+o.join("\n")),r=i.start+5}t.setSelection(r,r+n.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(e){var t,n,r=e.getSelection(),i=e.getContent();r.length==0?t=e.__localize("code text here"):t=r.text,i.substr(r.start-4,4)==="```\n"&&i.substr(r.end,4)==="\n```"?(e.setSelection(r.start-4,r.end+4),e.replaceSelection(t),n=r.start-4):i.substr(r.start-1,1)==="`"&&i.substr(r.end,1)==="`"?(e.setSelection(r.start-1,r.end+1),e.replaceSelection(t),n=r.start-1):i.indexOf("\n")>-1?(e.replaceSelection("```\n"+t+"\n```"),n=r.start+4):(e.replaceSelection("`"+t+"`"),n=r.start+1),e.setSelection(n,n+t.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var n,r,i=t.getSelection(),s=t.getContent();if(i.length==0)n=t.__localize("quote here"),t.replaceSelection("> "+n),r=i.start+2;else if(i.text.indexOf("\n")<0)n=i.text,t.replaceSelection("> "+n),r=i.start+2;else{var o=[];o=i.text.split("\n"),n=o[0],e.each(o,function(e,t){o[e]="> "+t}),t.replaceSelection("\n\n"+o.join("\n")),r=i.start+4}t.setSelection(r,r+n.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(e){var t=e.$isPreview,n;t==0?e.showPreview():e.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(e){},onPreview:function(e){},onSave:function(e){},onBlur:function(e){},onFocus:function(e){},onChange:function(e){},onFullscreen:function(e){}},e.fn.markdown.Constructor=t,e.fn.markdown.noConflict=function(){return e.fn.markdown=n,this};var r=function(e){var t=e;if(t.data("markdown")){t.data("markdown").showEditor();return}t.markdown()},i=function(t){var n=e(document.activeElement);e(document).find(".md-editor").each(function(){var t=e(this),r=n.closest(".md-editor")[0]===this,i=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");i&&!r&&i.blur()})};e(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){r(e(this)),t.preventDefault()}).on("click focusin",function(e){i(e)}).ready(function(){e('textarea[data-provide="markdown"]').each(function(){r(e(this))})})}(window.jQuery),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=e.normal,this.options.gfm&&(this.options.tables?this.rules=e.tables:this.rules=e.gfm)}function r(e,t){this.options=t||c.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options;if(!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function i(e){this.options=e||{}}function s(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function f(){}function l(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function c(e,n,r){if(r||typeof n=="function"){r||(r=n,n=null),n=l({},c.defaults,n||{});var i=n.highlight,u,a,f=0;try{u=t.lex(e,n)}catch(h){return r(h)}a=u.length;var p=function(e){if(e)return n.highlight=i,r(e);var t;try{t=s.parse(u,n)}catch(o){e=o}return n.highlight=i,e?r(e):r(null,t)};if(!i||i.length<3)return p();delete n.highlight;if(!a)return p();for(;f<u.length;f++)(function(e){return e.type!=="code"?--a||p():i(e.text,e.lang,function(t,n){if(t)return p(t);if(n==null||n===e.text)return--a||p();e.text=n,e.escaped=!0,--a||p()})})(u[f]);return}try{return n&&(n=l({},c.defaults,n)),s.parse(t.lex(e,n),n)}catch(h){h.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0)+"</pre>";throw h}}var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/,nptable:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:f,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/,e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,e.item=a(e.item,"gm")(/bull/g,e.bullet)(),e.list=a(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")(),e.blockquote=a(e.blockquote)("def",e.def)(),e._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",e.html=a(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)(),e.paragraph=a(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)(),e.normal=l({},e),e.gfm=l({},e.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),e.gfm.paragraph=a(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")(),e.tables=l({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=e,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,s,o,u,a,f,l,c,h;while(t){if(o=this.rules.newline.exec(t))t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"});if(o=this.rules.code.exec(t)){t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});continue}if(o=this.rules.fences.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});continue}if(o=this.rules.heading.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(n&&(o=this.rules.nptable.exec(t))){t=t.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].split(/ *\| */);this.tokens.push(f);continue}if(o=this.rules.lheading.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(o=this.rules.hr.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"hr"});continue}if(o=this.rules.blockquote.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0),this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(t)){t=t.substring(o[0].length),u=o[2],this.tokens.push({type:"list_start",ordered:u.length>1}),o=o[0].match(this.rules.item),i=!1,h=o.length,c=0;for(;c<h;c++)f=o[c],l=f.length,f=f.replace(/^ *([*+-]|\d+\.) +/,""),~f.indexOf("\n ")&&(l-=f.length,f=this.options.pedantic?f.replace(/^ {1,4}/gm,""):f.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(a=e.bullet.exec(o[c+1])[0],u!==a&&!(u.length>1&&a.length>1)&&(t=o.slice(c+1).join("\n")+t,c=h-1)),s=i||/\n\n(?!\s*$)/.test(f),c!==h-1&&(i=f.charAt(f.length-1)==="\n",s||(s=i)),this.tokens.push({type:s?"loose_item_start":"list_item_start"}),this.token(f,!1,r),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"});continue}if(o=this.rules.html.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:o[1]==="pre"||o[1]==="script"||o[1]==="style",text:o[0]});continue}if(!r&&n&&(o=this.rules.def.exec(t))){t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(n&&(o=this.rules.table.exec(t))){t=t.substring(o[0].length),f={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(c=0;c<f.align.length;c++)/^ *-+: *$/.test(f.align[c])?f.align[c]="right":/^ *:-+: *$/.test(f.align[c])?f.align[c]="center":/^ *:-+ *$/.test(f.align[c])?f.align[c]="left":f.align[c]=null;for(c=0;c<f.cells.length;c++)f.cells[c]=f.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(f);continue}if(n&&(o=this.rules.paragraph.exec(t))){t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:o[1].charAt(o[1].length-1)==="\n"?o[1].slice(0,-1):o[1]});continue}if(o=this.rules.text.exec(t)){t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});continue}if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=a(n.link)("inside",n._inside)("href",n._href)(),n.reflink=a(n.reflink)("inside",n._inside)(),n.normal=l({},n),n.pedantic=l({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=l({},n.normal,{escape:a(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(n.text)("]|","~]|")("|","|https?://|")()}),n.breaks=l({},n.gfm,{br:a(n.br)("{2,}","*")(),text:a(n.gfm.text)("{2,}","*")()}),r.rules=n,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){var t="",n,r,i,s;while(e){if(s=this.rules.escape.exec(e)){e=e.substring(s[0].length),t+=s[1];continue}if(s=this.rules.autolink.exec(e)){e=e.substring(s[0].length),s[2]==="@"?(r=s[1].charAt(6)===":"?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+r):(r=o(s[1]),i=r),t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(s=this.rules.url.exec(e))){e=e.substring(s[0].length),r=o(s[1]),i=r,t+=this.renderer.link(i,null,r);continue}if(s=this.rules.tag.exec(e)){!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),t+=this.options.sanitize?o(s[0]):s[0];continue}if(s=this.rules.link.exec(e)){e=e.substring(s[0].length),this.inLink=!0,t+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;continue}if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){e=e.substring(s[0].length),n=(s[2]||s[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()];if(!n||!n.href){t+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,t+=this.outputLink(s,n),this.inLink=!1;continue}if(s=this.rules.strong.exec(e)){e=e.substring(s[0].length),t+=this.renderer.strong(this.output(s[2]||s[1]));continue}if(s=this.rules.em.exec(e)){e=e.substring(s[0].length),t+=this.renderer.em(this.output(s[2]||s[1]));continue}if(s=this.rules.code.exec(e)){e=e.substring(s[0].length),t+=this.renderer.codespan(o(s[2],!0));continue}if(s=this.rules.br.exec(e)){e=e.substring(s[0].length),t+=this.renderer.br();continue}if(s=this.rules.del.exec(e)){e=e.substring(s[0].length),t+=this.renderer.del(this.output(s[1]));continue}if(s=this.rules.text.exec(e)){e=e.substring(s[0].length),t+=o(this.smartypants(s[0]));continue}if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return t},r.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){var t="",n=e.length,r=0,i;for(;r<n;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);r!=null&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+
e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(u(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0)return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r},s.parse=function(e,t,n){var r=new s(t,n);return r.parse(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text")e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e="",t="",n,r,i,s,o;i="";for(n=0;n<this.token.header.length;n++)s={header:!0,align:this.token.align[n]},i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:!0,align:this.token.align[n]});e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n],i="";for(o=0;o<r.length;o++)i+=this.renderer.tablecell(this.inline.output(r[o]),{header:!1,align:this.token.align[o]});t+=this.renderer.tablerow(i)}return this.renderer.table(e,t);case"blockquote_start":var t="";while(this.next().type!=="blockquote_end")t+=this.tok();return this.renderer.blockquote(t);case"list_start":var t="",u=this.token.ordered;while(this.next().type!=="list_end")t+=this.tok();return this.renderer.list(t,u);case"list_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(t);case"loose_item_start":var t="";while(this.next().type!=="list_item_end")t+=this.tok();return this.renderer.listitem(t);case"html":var a=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},f.exec=f,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=s,c.parser=s.parse,c.Renderer=i,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=r,c.inlineLexer=r.output,c.parse=c,typeof module!="undefined"&&typeof exports=="object"?module.exports=c:typeof define=="function"&&define.amd?define(function(){return c}):this.marked=c}.call(function(){return this||(typeof window!="undefined"?window:global)}()),function(e){var t={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],i,s=e(n).data("autosize",!0)[0];s.style.lineHeight="99px",e(s).css("lineHeight")==="99px"&&r.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(n){return this.length?(n=e.extend({},t,n||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function v(){var n,r=window.getComputedStyle?window.getComputedStyle(t,null):null;r?(n=parseFloat(r.width),(r.boxSizing==="border-box"||r.webkitBoxSizing==="border-box"||r.mozBoxSizing==="border-box")&&e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){n-=parseFloat(r[t])})):n=o.width(),s.style.width=Math.max(n,0)+"px"}function m(){var a={};i=t,s.className=n.className,s.id=n.id,u=parseFloat(o.css("maxHeight")),e.each(r,function(e,t){a[t]=o.css(t)}),e(s).css(a).attr("wrap",o.attr("wrap")),v();if(window.chrome){var f=t.style.width;t.style.width="0px";var l=t.offsetWidth;t.style.width=f}}function g(){var e,r;i!==t?m():v(),!t.value&&n.placeholder?s.value=o.attr("placeholder")||"":s.value=t.value,s.value+=n.append||"",s.style.overflowY=t.style.overflowY,r=parseFloat(t.style.height)||0,s.scrollTop=0,s.scrollTop=9e4,e=s.scrollTop,u&&e>u?(t.style.overflowY="scroll",e=u):(t.style.overflowY="hidden",e<a&&(e=a)),e+=f,Math.abs(r-e)>.01&&(t.style.height=e+"px",s.className=s.className,l&&n.callback.call(t,t),o.trigger("autosize.resized"))}function y(){clearTimeout(h),h=setTimeout(function(){var e=o.width();e!==p&&(p=e,g())},parseInt(n.resizeDelay,10))}var t=this,o=e(t),u,a,f=0,l=e.isFunction(n.callback),c={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize},h,p=o.width(),d=o.css("resize");if(o.data("autosize"))return;o.data("autosize",!0);if(o.css("box-sizing")==="border-box"||o.css("-moz-box-sizing")==="border-box"||o.css("-webkit-box-sizing")==="border-box")f=o.outerHeight()-o.height();a=Math.max(parseFloat(o.css("minHeight"))-f||0,o.height()),o.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),d==="vertical"?o.css("resize","none"):d==="both"&&o.css("resize","horizontal"),"onpropertychange"in t?"oninput"in t?o.on("input.autosize keyup.autosize",g):o.on("propertychange.autosize",function(){event.propertyName==="value"&&g()}):o.on("input.autosize",g),n.resizeDelay!==!1&&e(window).on("resize.autosize",y),o.on("autosize.resize",g),o.on("autosize.resizeIncludeStyle",function(){i=null,g()}),o.on("autosize.destroy",function(){i=null,clearTimeout(h),e(window).off("resize",y),o.off("autosize").off(".autosize").css(c).removeData("autosize")}),g()})):this}}(jQuery||$),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect=typeof this.options.autoSelect=="boolean"?this.options.autoSelect:!0,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.delay=typeof this.options.delay=="number"?this.options.delay:250,this.$menu=e(this.options.menu),this.shown=!1,this.listen(),this.showHintOnFocus=typeof this.options.showHintOnFocus=="boolean"?this.options.showHintOnFocus:!1};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");return(this.autoSelect||e)&&this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),n;return n=typeof this.options.scrollHeight=="function"?this.options.scrollHeight.call():this.options.scrollHeight,this.$menu.insertAfter(this.$element).css({top:t.top+t.height+n,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;typeof t!="undefined"&&t!==null?this.query=t:this.query=this.$element.val()||"";if(this.query.length<this.options.minLength)return this.shown?this.hide():this;var r=e.proxy(function(){n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n&&this.process(n)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(r,this.delay)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.options.items=="all"?this.render(t).show():this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).data("value",r),t.find("a").html(n.highlighter(r)),t[0]}),this.autoSelect&&t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t=typeof this.$element[e]=="function"),t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),!this.shown&&t.keyCode==40?this.lookup(""):this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused||(this.focused=!0,(this.options.minLength===0&&!this.$element.val()||this.options.showHintOnFocus)&&this.lookup())},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){var r=arguments;return this.each(function(){var i=e(this),s=i.data("typeahead"),o=typeof n=="object"&&n;s||i.data("typeahead",s=new t(this,o)),typeof n=="string"&&(r.length>1?s[n].apply(s,Array.prototype.slice.call(r,1)):s[n]())})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery),function(e){var t=t||function(e,t){var n={},r=n.lib={},i=function(){},s=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;e=e.sigBytes,this.clamp();if(r%4)for(var i=0;i<e;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;i<e;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),u=n.enc={},a=u.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((i&15).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new o.init(n,t/2)}},f=u.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-8*(r%4);return new o.init(n,t)}},l=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,u=i/(4*s),u=t?e.ceil(u):e.max((u|0)-this._minBufferSize,0);t=u*s,i=e.min(4*t,i);if(t){for(var a=0;a<t;a+=s)this._doProcessBlock(r,a);a=r.splice(0,t),n.sigBytes-=i}return new o.init(a,i)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=c.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return(new e.init(n)).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return(new h.HMAC.init(e,n)).finalize(t)}}});var h=n.algo={};return n}(Math);(function(e){for(var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,r=n.algo,o=[],u=[],a=function(e){return 4294967296*(e-(e|0))|0},f=2,l=0;64>l;){var c;e:{c=f;for(var h=e.sqrt(c),p=2;p<=h;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(o[l]=a(e.pow(f,.5))),u[l]=a(e.pow(f,1/3)),l++),f++}var d=[],r=r.SHA256=s.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],f=n[5],l=n[6],c=n[7],h=0;64>h;h++){if(16>h)d[h]=e[t+h]|0;else{var p=d[h-15],v=d[h-2];d[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[h-16]}p=c+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[h]+d[h],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),c=l,l=f,f=a,a=o+p|0,o=s,s=i,i=r,r=p+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+c|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=s._createHelper(r),n.HmacSHA256=s._createHmacHelper(r)})(Math),function(e){for(var n=t,r=n.lib,i=r.WordArray,s=r.Hasher,r=n.algo,o=[],u=[],a=function(e){return 4294967296*(e-(e|0))|0},f=2,l=0;64>l;){var c;e:{c=f;for(var h=e.sqrt(c),p=2;p<=h;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(o[l]=a(e.pow(f,.5))),u[l]=a(e.pow(f,1/3)),l++),f++}var d=[],r=r.SHA256=s.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],f=n[5],l=n[6],c=n[7],h=0;64>h;h++){if(16>h)d[h]=e[t+h]|0;else{var p=d[h-15],v=d[h-2];d[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[h-16]}p=c+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[h]+d[h],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&s^i&s),c=l,l=f,f=a,a=o+p|0,o=s,s=i,i=r,r=p+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+c|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=s._createHelper(r),n.HmacSHA256=s._createHmacHelper(r)}(Math),function(){var e=t,n=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),u=this._iKey=t.clone(),a=o.words,f=u.words,l=0;l<r;l++)a[l]^=1549556828,f[l]^=909522486;o.sigBytes=u.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){if(undefined!==typeof ArrayBuffer){var e=t.lib.WordArray,n=e.init;(e.init=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));if(e instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-8*(i%4);n.call(this,r,t)}else n.apply(this,arguments)}).prototype=e}}();var n=function(e){e.headers=e.headers||{},e.method=e.method||"GET";var t=new XMLHttpRequest;e.load_callback&&typeof e.load_callback=="function"&&t.addEventListener("load",e.load_callback,!0),e.error_callback&&typeof e.error_callback=="function"&&t.addEventListener("error",e.error_callback,!0),e.state_change_callback&&typeof e.state_change_callback=="function"&&t.addEventListener("readystatechange",e.state_change_callback),e.progress_callback&&typeof e.progress_callback=="function"&&t.upload.addEventListener("progress",e.progress_callback),e.timeout_callback&&typeof e.timeout_callback=="function"&&t.addEventListener("timeout",e.timeout_callback);var n=e.url;if(e.extra_params)for(var r in e.extra_params)e.extra_params.hasOwnProperty(r)&&(n.indexOf("?")!==-1?n+="&":n+="?",n+=encodeURIComponent(r)+"=",n+=encodeURIComponent(e.extra_params[r]));t.open(e.method,n);for(var i in e.headers)e.headers.hasOwnProperty(i)&&t.setRequestHeader(i,e.headers[i]);return e.body?t.send(e.body):t.send(),t};e.mule_upload=function(t){function l(e){var t=this;e=e||{},t.input=e.file_input,t.file=e.file,e.chunk_size=e.chunk_size||6*u,e.max_size=e.max_size||5*a,e.num_workers=e.num_workers||4,e.key=e.key||"the_key",e.bucket=e.bucket,e.host=e.host||"https://"+e.bucket+".s3.amazonaws.com",e.access_key=e.access_key,e.content_type=e.content_type||"application/octet-stream",e.acl=e.acl||"public-read",e.on_progress=e.on_progress||function(){},e.on_chunk_progress=e.on_chunk_progress||function(){},e.on_select=e.on_select||function(){},e.on_error=e.on_error||function(){},e.on_complete=e.on_complete||function(){},e.on_init=e.on_init||function(){},e.on_start=e.on_start||function(){},e.on_chunk_uploaded=e.on_chunk_uploaded||function(){},e.extra_params=e.extra_params||{},e.ajax_base=e.ajax_base||"/upload-backend",e.accepted_extensions=e.accepted_extensions||"",t.settings=e,t.set_state("waiting"),t.input&&(t.input.onchange=function(e,n){if(t.get_state()!="waiting")return!1;var r=e.target.files[0];return t.upload_file(r,n),!0}),setTimeout(function(){t.settings.on_init.apply(t)},100)}var i=!1,s=function(){};i&&console&&console.log&&(s=function(){var e=["[MuleUploader]"];for(var t=0;t<arguments.length;t++)e.push(arguments[t]);return console.log.apply(console,e)});var o=1024,u=1024*o,a=1024*u;if(!(e.File&&e.FileList&&e.Blob))return s("HTML5 APIs not available."),-1;File.prototype.slice=File.prototype.webkitSlice||File.prototype.mozSlice||File.prototype.slice;if(navigator.userAgent.indexOf("Firefox")!==-1)try{new Blob(["something"])}catch(f){return-1}return s("OK"),l.prototype.upload_file=function(e,t){var i=this;if(i.get_state()!="waiting")return!1;e&&(i.file=e);if(!i.file)return!1;i.file.lastModifiedDate=i.file.lastModifiedDate||new Date(0);if(i.file.size>i.settings.max_size)return alert(["The maximum allowed file size is ",i.settings.max_size/a,"GB. Please select another file."].join("")),!1;if(i.settings.accepted_extensions){var s=e.name.split(".").pop(),o=i.settings.accepted_extensions.split(","),u=!1;for(var f=0;f<o.length;f++)if(s==o[f]){u=!0;break}if(!u)return alert(["This file format is not accepted. ","Please use a file with an extension like ",i.settings.accepted_extensions].join("")),!1}i.settings.on_select.call(i,e);var l={filename:e.name,filesize:e.size,last_modified:e.lastModifiedDate.valueOf()};t&&(l.force=!0),n({url:i.settings.ajax_base+"/signing_key/",extra_params:l,load_callback:function(n){var s=JSON.parse(n.target.responseText);s.date=new Date(s.date),i.auth=s,i.upload_id=s.upload_id,i.chunks=s.chunks,i.settings.key=s.key||i.settings.key,i.settings.backup_key=i.settings.key,i.upload_id?t?i.load_file():r.list(i.auth,i.file,i.settings.key,i.upload_id,i.settings.chunk_size,function(e){for(var t=0;t<e.length;t++){var n=e[t][0]-1;i.set_progress(n,i.get_chunk_size(n)),i.set_chunk_finished(n),i.set_chunk_uploading(n,!1)}i.load_file()},function(){i.upload_id=null,this._loaded_chunks=null,i._progress=null,i._total_progress=null,i._loaded_chunks=null,i._uploading_chunks=null,i._chunks=null,i.settings.key=i.settings.backup_key,i.upload_file(e,!0)}):r.init(s,i.settings.key,e,function(e){var t=e.target.responseXML;i.upload_id=t.getElementsByTagName("UploadId")[0].textContent,i.load_file()})}})},l.prototype.load_file=function(){var e=this;if(e.get_state()!="waiting")return;e._start_fired||(e.settings.on_start.call(e,e.file),e.settings.on_progress.call(e,0,e.file.size),e._start_fired=!0),e.set_state("processing"),e.settings.on_progress.call(e,e.get_total_progress(),e.file.size);var t=e.get_next_chunk();t!=-1?e.upload_chunk(t):e.upload_finished()&&(s("All done; finish upload"),e.finish_upload());for(var n=0;n<e.settings.num_workers-1;n++){t=e.get_next_chunk();if(t===-1)break;e.upload_chunk(t)}},l.prototype.upload_chunk=function(e){var t=this;if(t.get_state()!="processing"){s("NOT processing; return");return}if(t.get_chunk_uploading(e)){s("Already Uploading"),setTimeout(function(){var e=t.get_next_chunk();e!==-1&&t.upload_chunk(t.get_next_chunk())},1e3);return}t.set_chunk_uploading(e),s("Uploading Chunk: "+e);if(t.is_chunk_loaded(e)){var n=t.get_next_chunk();n!=-1?t.upload_chunk(n):t.upload_finished()&&(s("No next chunk; finish upload"),t.finish_upload())}var i=t.settings.chunk_size,o=e*i,u=Math.min(o+i,t.file.size),a=new Date;t._intervals=t._intervals||{};var f=function(n){if(n.target.readyState!=this.DONE||t.get_state()!="processing"){s(n);return}if(n.target.status/100!=2)return h();s("Chunk uploaded: "+e),t.notify_chunk_uploaded(e),t.settings.on_chunk_uploaded.call(t,e),clearInterval(t._intervals[e]),t.set_progress(e,t.get_chunk_size(e)),t.set_chunk_finished(e),t.set_chunk_uploading(e,!1);var r=t.get_next_chunk();if(r!=-1)t.upload_chunk(r);else if(t.upload_finished())s("Done"),t.finish_upload();else var i=setInterval(function(){var e=t.get_next_chunk();e!=-1?(clearInterval(i),t.upload_chunk(e)):t.upload_finished()&&(clearInterval(i),t.finish_upload())},1e3)},l=function(n){t.set_progress(e,n.loaded),t.settings.on_progress.call(t,t.get_total_progress(),t.file.size),a=new Date},c=!1,h=function(){var n=arguments,r=this;t.check_already_uploaded(function(){t.set_state("finished"),t.notify_upload_finished(),t.settings.on_progress.call(t,t.file.size,t.file.size),t.settings.on_complete.call(t)},function(){s("Error: "),s(n);if(c)return;c=!0,t.set_chunk_uploading(e,!1),t.set_chunk_finished(e,!1),t.set_progress(e,0),s("Abort");try{r.abort()}catch(i){s(i)}s("Retry chunk: "+e),clearInterval(t._intervals[e]),setTimeout(function(){if(t.get_state()=="processing"){var n=t.get_next_chunk(e);n!==-1&&t.upload_chunk(n)}},1e3)})};r.upload_chunk(t.auth,t.settings.key,t.upload_id,e,t.file.slice(o,u),{progress_callback:l,state_change_callback:f,error_callback:h,timeout_callback:h},function(n){t._chunk_xhr=t._chunk_xhr||[],t._chunk_xhr.push(n),t._intervals[e]=setInterval(function(){a&&new Date-a>15e3&&(s("Chunk Failed; retry"),clearInterval(t._intervals[e]),t.get_state()=="processing"&&(n.abort(),h.call(n),t._chunk_xhr[t._chunk_xhr.indexOf(n)]=null))},4e3)})},l.prototype.finish_upload=function(){var e=this;if(e.get_state()!="processing")return;e.set_state("finishing"),e.settings.on_progress.call(e,e.file.size,e.file.size);var t=function(n){n.target.status/100==2?(s("Finished file."),e.set_state("finished"),e.settings.on_progress.call(e,e.file.size,e.file.size),e.settings.on_complete.call(e)):n.target.status==400&&n.target.responseText.indexOf("EntityTooSmall")!==-1?r.list(e.auth,e.file,e.settings.key,e.upload_id,e.settings.chunk_size,function(t){e.update_chunks(t);var n=e.get_next_chunk();e.set_state("processing"),e.upload_chunk(n)}):n.target.status==404?e.cancel(function(){e.upload_file(e.file,!0)}):e.check_already_uploaded(function(){t({target:{status:200}})},function(){t({target:{status:404}})})};r.list(e.auth,e.file,e.settings.key,e.upload_id,e.settings.chunk_size,function(n){var i=Math.ceil(e.file.size/e.settings.chunk_size);if(n.length!=i){e.update_chunks(n);var s=e.get_next_chunk();e.set_state("processing"),e.upload_chunk(s);return}r.finish(e.auth,e.file,e.settings.key,e.upload_id,n,e.settings.chunk_size,t,t)})},l.prototype.notify_chunk_uploaded=function(e){var t=this;if(t.get_state()!="processing")return;var r=t.settings.key,i=t.upload_id,s=t.settings.ajax_base+"/chunk_loaded/";n({url:s,extra_params:{chunk:e,key:r,upload_id:i,filename:t.file.name,filesize:t.file.size,last_modified:t.file.lastModifiedDate.valueOf()}})},l.prototype.check_already_uploaded=function(e,t){var r=this,i="HEAD",o="/"+r.settings.key,u=function(n){n.target.status/100==2?(s("Already Uploaded"),e()):(s("Error!"),t())};!t&&typeof t!="function"&&(t=function(){setTimeout(function(){return r.check_already_uploaded(e,t)},2500)}),n({url:r.settings.host+o,method:i,load_callback:u,error_callback:t})},l.prototype.cancel=function(e){var t=this;for(var n=0;n<t._chunk_xhr.length;n++)s("Abort chunk: "+t._chunk_xhr[n]),t._chunk_xhr[n].abort();t._intervals=t._intervals||{};for(var r in t._intervals)t._intervals.hasOwnProperty(r)&&clearInterval(t._intervals[r]);e=e||function(){},t.set_state("canceled"),t._chunk_xhr=t._chunk_xhr||[],t.settings.on_progress.call(t,0,0),t._chunk_xhr=null,t._chunks=null,t._uploading_chunks=null,t._loaded_chunks=null,t._start_fired=!1,t.upload_id=null,t._progress=null,t.set_state("waiting"),e()},l.prototype.update_chunks=function(e){var t=this,n=[],r=Math.ceil(t.file.size/t.settings.chunk_size);t._init_chunks(!0),t._uploading_chunks=[],t._loaded_chunks=[];var i;for(i=0;i<e.length;i++){var o=parseInt(e[i][0],10);t.add_loaded_chunk(o-1),t.set_chunk_finished(o-1),n.push(o-1)}for(i=0;i<r;i++)n.indexOf(i)===-1&&(s("Chunk not uploaded: ",i),t.set_progress(i,0))},l.prototype.is_selected=function(){return!!this.file},l.prototype.get_state=function(){return this._state},l.prototype.set_state=function(e){return this._state=e,e},l.prototype.set_progress=function(e,t){this.log_status(),this._progress=this._progress||{},this._total_progress=(this._total_progress||0)+t-(this._progress[e]||0),this._progress[e]=t,this.settings.on_chunk_progress.call(this,e,t,this.get_chunk_size(e))},l.prototype.get_total_progress=function(){return this._total_progress||0},l.prototype.is_chunk_loaded=function(e){return this._loaded_chunks=this._loaded_chunks||[],this._loaded_chunks.indexOf(e)!==-1},l.prototype.add_loaded_chunk=function(e){this._loaded_chunks=this._loaded_chunks||[],this._loaded_chunks.push(e),this.set_progress(e,this.get_chunk_size(e))},l.prototype.get_chunk_uploading=function(e){return this._uploading_chunks=this._uploading_chunks||[],this._uploading_chunks.indexOf(e)!==-1},l.prototype.set_chunk_uploading=function(e,t){typeof t=="undefined"&&(t=!0),this._uploading_chunks=this._uploading_chunks||[];if(t)this._uploading_chunks.push(e);else{var n=[];for(var r=0;r<this._uploading_chunks.length;r++)this._uploading_chunks[r]!=e&&n.push(this._uploading_chunks[r]);this._uploading_chunks=n}},l.prototype._init_chunks=function(e){var t=this;if(!t._chunks||e){t._chunks=[];var n=Math.ceil(t.file.size/t.settings.chunk_size);for(var r=0;r<n;r++)t._chunks.push(!1)}},l.prototype.set_chunk_finished=function(e,t){typeof t=="undefined"&&(t=!0);var n=this;n._init_chunks(),n._chunks[e]=t},l.prototype.get_next_chunk=function(e){var t=this;t._init_chunks();if(e&&!t._chunks[e]&&!t.get_chunk_uploading(e))return e;for(var n=0;n<t._chunks.length;n++)if(!t._chunks[n]&&!t.get_chunk_uploading(n))return n;return-1},l.prototype.upload_finished=function(){var e=this;e._init_chunks();for(var t=0;t<e._chunks.length;t++)if(!e._chunks[t]||e.get_chunk_uploading(t))return!1;return!0},l.prototype.is_last_chunk=function(e){return Math.ceil(this.file.size/this.settings.chunk_size)-1==e},l.prototype.get_chunk_size=function(e){return this.is_last_chunk(e)?this.file.size%this.settings.chunk_size:this.settings.chunk_size},l.prototype.log_status=function(){},l.prototype.on_chunk_progress=function(e){this.settings.on_chunk_progress=e},l.prototype.on_progress=function(e){this.settings.on_progress=e},l.prototype.on_select=function(e){this.settings.on_select=e},l.prototype.on_error=function(e){this.settings.on_error=e},l.prototype.on_complete=function(e){this.settings.on_complete=e},l.prototype.on_init=function(e){this.settings.on_init=e},l.prototype.on_start=function(e){this.settings.on_start=e},l.prototype.on_chunk_uploaded=function(e){this.settings.on_chunk_uploaded=e},new l(t)};var r=function(e){this.settings=e};r.finish=function(e,t,n,i,s,o,u){var a={uploadId:i},f="<CompleteMultipartUpload>";for(var l=0;l<s.length;l++)f+="<Part>",f+="<PartNumber>"+s[l][0]+"</PartNumber>",f+="<ETag>"+s[l][1]+"</ETag>",f+="</Part>";return f+="</CompleteMultipartUpload>",navigator.userAgent.indexOf("Firefox")!==-1&&(f=new Blob([f])),(new r({auth:e,key:n,method:"POST",querystring:a,headers:{},payload:f,load_callback:u})).send()},r.list=function(e,t,n,i,s,o,u,a){var f={uploadId:i};return a&&(f["part-number​-marker"]=a),(new r({auth:e,key:n,method:"GET",querystring:f,headers:{},payload:"",error_callback:u,load_callback:function(a){if(a.target.status===404){u&&u();return}window.debug=a;var f=a.target.responseXML,l=[],c=f.getElementsByTagName("Part"),h=Math.ceil(t.size/s);for(var p=0;p<c.length;p++){var d=parseInt(c[p].getElementsByTagName("PartNumber")[0].textContent,10),v=c[p].getElementsByTagName("ETag")[0].textContent,m=parseInt(c[p].getElementsByTagName("Size")[0].textContent,10);if(d!=h&&m!=s)continue;if(d==h&&m!=t.size%s)continue;l.push([d,v,m])}var g=f.getElementsByTagName("IsTruncated")[0].textContent;if(g==="true"){var y=f.getElementsByTagName("NextPartNumberMarker")[0].textContent;r.list(e,n,i,s,function(e){o(l.concat(e))},u,y)}else o(l)}})).send()},r.upload_chunk=function(e,t,n,i,s,o,u)
{var a,f,l,c;o instanceof Object?(a=o.load_callback,f=o.error_callback,l=o.progress_callback,c=o.state_change_callback):a=o;var h={partNumber:i+1,uploadId:n};return(new r({auth:e,key:t,method:"PUT",querystring:h,headers:{},payload:s,load_callback:a,error_callback:f,progress_callback:l,state_change_callback:c})).send(u)},r.init=function(e,t,n,i){return(new r({auth:e,key:t,method:"POST",querystring:{uploads:""},headers:{"x-amz-acl":"public-read","Content-Disposition":"attachment; filename="+n.name,"Content-Type":e.content_type||"application/octet-stream"},payload:"",load_callback:i})).send()},r.prototype={send:function(e){var t=this;t.request_date=new Date,t.headers=t.settings.headers,t.headers.host=t.settings.auth.bucket+".s3.amazonaws.com";var r=[t.settings.auth.date.getUTCFullYear(),i.zfill(t.settings.auth.date.getUTCMonth()+1,2),i.zfill(t.settings.auth.date.getUTCDate(),2)].join("");t.settings.querystring["X-Amz-Date"]=i.uriencode(i.iso8601(t.request_date)),t.settings.querystring["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",t.settings.querystring["X-Amz-Expires"]=86400,t.settings.querystring["X-Amz-Credential"]=i.uriencode([t.settings.auth.access_key,"/"+r+"/",t.settings.auth.region+"/s3/aws4_request"].join("")),t.settings.querystring["X-Amz-SignedHeaders"]="";var s=[];for(var o in t.headers)s.push(o);s.sort(),t.settings.querystring["X-Amz-SignedHeaders"]=i.uriencode(s.join(";")),t.settings.querystring["X-Amz-Signature"]=t.get_authorization_header(),delete t.headers.host;var u="https://"+t.settings.auth.bucket+".s3.amazonaws.com/"+t.settings.key,a=!0;for(var o in t.settings.querystring)t.settings.querystring.hasOwnProperty(o)&&(a&&(u+="?"),a=!1,u+=o+"="+t.settings.querystring[o]+"&");u=u.slice(0,-1);var f=n({url:u,method:t.settings.method,headers:t.headers,body:t.settings.payload,load_callback:t.settings.load_callback,progress_callback:t.settings.progress_callback,state_change_callback:t.settings.state_change_callback,error_callback:t.settings.error_callback,timeout_callback:t.settings.timeout_callback});e&&e(f)},get_authorization_header:function(){if(!this.settings.auth.date)throw"Invalid date given.";var e="",t=i.get_sorted_keys(this.headers),n="";for(var r=0;r<t.length;r++)n+=t[r].toLowerCase()+";";n=n.slice(0,-1);var s=this.get_canonical_request(),o=this.get_string_to_sign(s,this.request_date),u=this.sign_request(o);return u},get_canonical_request:function(){var e="";e+=this.settings.method.toUpperCase()+"\n",e+="/"+i.uriencode(this.settings.key).replace(/%2F/g,"/")+"\n";var t=i.get_sorted_keys(this.settings.querystring),n,r,s;for(s=0;s<t.length;s++)n=t[s],r=this.settings.querystring[n],e+=i.uriencode(n)+"="+r+"&amp;";e=e.slice(0,-"&amp;".length)+"\n";var o=i.get_sorted_keys(this.headers);for(s=0;s<o.length;s++)n=o[s],r=this.headers[n],e+=n.toLowerCase()+":"+r.trim()+"\n";e+="\n";for(s=0;s<o.length;s++)e+=o[s].toLowerCase()+";";return e=e.slice(0,-1)+"\n",e+="UNSIGNED-PAYLOAD",e},get_string_to_sign:function(e,n){var r="";return r+="AWS4-HMAC-SHA256\n",r+=i.iso8601(n)+"\n",r+=[n.getUTCFullYear(),i.zfill(n.getUTCMonth()+1,2),i.zfill(n.getUTCDate(),2),"/"+this.settings.auth.region+"/s3/aws4_request\n"].join(""),r+=t.SHA256(e.replace(/&amp;/g,"&")).toString(),r},sign_request:function(e){if(!this.settings.auth.signature)throw"No signature provided.";var n=t.HmacSHA256(e,t.enc.Hex.parse(this.settings.auth.signature)).toString();return n}};var i={uriencode:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/;/g,"%3B"),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}),t},get_sorted_keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()},iso8601:function(e){return[e.getUTCFullYear(),i.zfill(e.getUTCMonth()+1,2),i.zfill(e.getUTCDate(),2),"T",i.zfill(e.getUTCHours(),2),i.zfill(e.getUTCMinutes(),2),i.zfill(e.getUTCSeconds(),2),"Z"].join("")},zfill:function(e,t){return("00000000000"+e).substr(-t)}}}(this);